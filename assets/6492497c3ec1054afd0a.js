/*! For license information please see 6492497c3ec1054afd0a.js.LICENSE.txt */
(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{10046:function(t,e,r){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){i(t,e,r[e])}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(8339),a=r(7507),s=r(7894),c=r(7508),l=r(7446),u=r(7323),h=r(7598),f=r(7724),p=r(7308),d=r(10060),m=f("draft_tree_data_support"),y=m?c:s,v=p.List,g=p.Repeat,b={insertAtomicBlock:function(t,e,r){var i=t.getCurrentContent(),s=t.getSelection(),c=l.removeRange(i,s,"backward"),f=c.getSelectionAfter(),p=l.splitBlock(c,f),d=p.getSelectionAfter(),b=l.setBlockType(p,d,"atomic"),k=a.create({entity:e}),_={key:h(),type:"atomic",text:r,characterList:v(g(k,r.length))},x={key:h(),type:"unstyled"};m&&(_=n({},_,{nextSibling:x.key}),x=n({},x,{prevSibling:_.key}));var S=[new y(_),new y(x)],w=o.createFromArray(S),E=l.replaceWithFragment(b,d,w),A=E.merge({selectionBefore:s,selectionAfter:E.getSelectionAfter().set("hasFocus",!0)});return u.push(t,A,"insert-fragment")},moveAtomicBlock:function(t,e,r,n){var i,o=t.getCurrentContent(),a=t.getSelection();if("before"===n||"after"===n){var s=o.getBlockForKey("before"===n?r.getStartKey():r.getEndKey());i=d(o,e,s,n)}else{var c=l.removeRange(o,r,"backward"),h=c.getSelectionAfter(),f=c.getBlockForKey(h.getFocusKey());if(0===h.getStartOffset())i=d(c,e,f,"before");else if(h.getEndOffset()===f.getLength())i=d(c,e,f,"after");else{var p=l.splitBlock(c,h),m=p.getSelectionAfter(),y=p.getBlockForKey(m.getFocusKey());i=d(p,e,y,"before")}}var v=i.merge({selectionBefore:a,selectionAfter:i.getSelectionAfter().set("hasFocus",!0)});return u.push(t,v,"move-block")}};t.exports=b},10047:function(t,e,r){"use strict";var n=r(7507),i=r(7308).Map,o={add:function(t,e,r){return a(t,e,r,!0)},remove:function(t,e,r){return a(t,e,r,!1)}};function a(t,e,r,o){var a=t.getBlockMap(),s=e.getStartKey(),c=e.getStartOffset(),l=e.getEndKey(),u=e.getEndOffset(),h=a.skipUntil((function(t,e){return e===s})).takeUntil((function(t,e){return e===l})).concat(i([[l,a.get(l)]])).map((function(t,e){var i,a;s===l?(i=c,a=u):(i=e===s?c:0,a=e===l?u:t.getLength());for(var h,f=t.getCharacterList();i<a;)h=f.get(i),f=f.set(i,o?n.applyStyle(h,r):n.removeStyle(h,r)),i++;return t.set("characterList",f)}));return t.merge({blockMap:a.merge(h),selectionBefore:e,selectionAfter:e})}t.exports=o},10048:function(t,e,r){"use strict";var n=r(10049),i=r(7308);t.exports=function(t,e,r){var o=t.getBlockMap(),a=e.getStartKey(),s=e.getStartOffset(),c=e.getEndKey(),l=e.getEndOffset(),u=o.skipUntil((function(t,e){return e===a})).takeUntil((function(t,e){return e===c})).toOrderedMap().merge(i.OrderedMap([[c,o.get(c)]])).map((function(t,e){var i=e===a?s:0,o=e===c?l:t.getLength();return n(t,i,o,r)}));return t.merge({blockMap:o.merge(u),selectionBefore:e,selectionAfter:e})}},10049:function(t,e,r){"use strict";var n=r(7507);t.exports=function(t,e,r,i){for(var o=e,a=t.getCharacterList();o<r;)a=a.set(o,n.applyEntity(a.get(o),i)),o++;return t.set("characterList",a)}},10050:function(t,e,r){"use strict";var n=r(10051),i=r(10052),o=r(7314);function a(t,e,r,a,s,c,l){var u=r.getStartOffset(),h=r.getEndOffset(),f=t.__get(s).getMutability(),p=l?u:h;if("MUTABLE"===f)return r;var d=i(e,s).filter((function(t){return p<=t.end&&p>=t.start}));1!=d.length&&o(!1);var m=d[0];if("IMMUTABLE"===f)return r.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1});c||(l?h=m.end:u=m.start);var y=n.getRemovalRange(u,h,e.getText().slice(m.start,m.end),m.start,a);return r.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:!1})}t.exports=function(t,e,r,n,i){var o=n.getStartOffset(),s=n.getEndOffset(),c=e.getEntityAt(o),l=r.getEntityAt(s-1);if(!c&&!l)return n;var u=n;if(c&&c===l)u=a(t,e,u,i,c,!0,!0);else if(c&&l){var h=a(t,e,u,i,c,!1,!0),f=a(t,r,u,i,l,!1,!1);u=u.merge({anchorOffset:h.getAnchorOffset(),focusOffset:f.getFocusOffset(),isBackward:!1})}else if(c){var p=a(t,e,u,i,c,!1,!0);u=u.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(l){var d=a(t,r,u,i,l,!1,!1);u=u.merge({focusOffset:d.getEndOffset(),isBackward:!1})}return u}},10051:function(t,e,r){"use strict";t.exports={getRemovalRange:function(t,e,r,n,i){var o=r.split(" ");o=o.map((function(t,e){if("forward"===i){if(e>0)return" "+t}else if(e<o.length-1)return t+" ";return t}));for(var a,s=n,c=null,l=null,u=0;u<o.length;u++){if(t<(a=s+o[u].length)&&s<e)null!==c||(c=s),l=a;else if(null!==c)break;s=a}var h=n+r.length,f=c===n,p=l===h;return(!f&&p||f&&!p)&&("forward"===i?l!==h&&l++:c!==n&&c--),{start:c,end:l}}}},10052:function(t,e,r){"use strict";var n=r(7314);t.exports=function(t,e){var r=[];return t.findEntityRanges((function(t){return t.getEntity()===e}),(function(t,e){r.push({start:t,end:e})})),r.length||n(!1),r}},10053:function(t,e,r){"use strict";var n=r(8339),i=r(7508),o=r(7308),a=r(9244),s=r(7314),c=r(9242),l=o.List,u=function(t,e,r,n,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=r.get(i),l=c.getText(),u=c.getCharacterList(),h=i,f=o+n.getText().length,p=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":p=n.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":p=n.getData()}var d=c.merge({text:l.slice(0,o)+n.getText()+l.slice(o),characterList:a(u,n.getCharacterList(),o),data:p});return t.merge({blockMap:r.set(i,d),selectionBefore:e,selectionAfter:e.merge({anchorKey:h,anchorOffset:f,focusKey:h,focusOffset:f,isBackward:!1})})},h=function(t,e,r,o,a,s){var c=r.first()instanceof i,u=[],h=o.size,f=r.get(a),p=o.first(),d=o.last(),m=d.getLength(),y=d.getKey(),v=c&&(!f.getChildKeys().isEmpty()||!p.getChildKeys().isEmpty());r.forEach((function(t,e){e===a?(v?u.push(t):u.push(function(t,e,r){var n=t.getText(),i=t.getCharacterList(),o=n.slice(0,e),a=i.slice(0,e),s=r.first();return t.merge({text:o+s.getText(),characterList:a.concat(s.getCharacterList()),type:o?t.getType():s.getType(),data:s.getData()})}(t,s,o)),o.slice(v?0:1,h-1).forEach((function(t){return u.push(t)})),u.push(function(t,e,r){var n=t.getText(),i=t.getCharacterList(),o=n.length,a=n.slice(e,o),s=i.slice(e,o),c=r.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(s),data:c.getData()})}(t,s,o))):u.push(t)}));var g=n.createFromArray(u);return c&&(g=function(t,e,r,n){return t.withMutations((function(e){var i=r.getKey(),o=n.getKey(),a=r.getNextSiblingKey(),s=r.getParentKey(),c=function(t,e){var r=t.getKey(),n=t,i=[];for(e.get(r)&&i.push(r);n&&n.getNextSiblingKey();){var o=n.getNextSiblingKey();if(!o)break;i.push(o),n=e.get(o)}return i}(n,t),u=c[c.length-1];if(e.get(o)?(e.setIn([i,"nextSibling"],o),e.setIn([o,"prevSibling"],i)):(e.setIn([i,"nextSibling"],n.getNextSiblingKey()),e.setIn([n.getNextSiblingKey(),"prevSibling"],i)),e.setIn([u,"nextSibling"],a),a&&e.setIn([a,"prevSibling"],u),c.forEach((function(t){return e.setIn([t,"parent"],s)})),s){var h=t.get(s).getChildKeys(),f=h.indexOf(i)+1,p=h.toArray();p.splice.apply(p,[f,0].concat(c)),e.setIn([s,"children"],l(p))}}))}(g,0,f,p)),t.merge({blockMap:g,selectionBefore:e,selectionAfter:e.merge({anchorKey:y,anchorOffset:m,focusKey:y,focusOffset:m,isBackward:!1})})};t.exports=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";e.isCollapsed()||s(!1);var o=t.getBlockMap(),a=c(r),l=e.getStartKey(),f=e.getStartOffset(),p=o.get(l);return p instanceof i&&(p.getChildKeys().isEmpty()||s(!1)),1===a.size?u(t,e,o,a.first(),l,f,n):h(t,e,o,a,l,f)}},10054:function(t,e,r){"use strict";var n=r(7308),i=r(9244),o=r(7314),a=n.Repeat;t.exports=function(t,e,r,n){e.isCollapsed()||o(!1);var s=null;if(null!=r&&(s=r.length),null==s||0===s)return t;var c=t.getBlockMap(),l=e.getStartKey(),u=e.getStartOffset(),h=c.get(l),f=h.getText(),p=h.merge({text:f.slice(0,u)+r+f.slice(u,h.getLength()),characterList:i(h.getCharacterList(),a(n,s).toList(),u)}),d=u+s;return t.merge({blockMap:c.set(l,p),selectionAfter:e.merge({anchorOffset:d,focusOffset:d})})}},10055:function(t,e,r){"use strict";var n=r(7508),i=r(9246),o=r(7308),a=(o.List,o.Map),s=function(t,e,r){if(t){var n=e.get(t);n&&e.set(t,r(n))}},c=function(t,e){var r=[];if(!t)return r;for(var n=e.get(t);n&&n.getParentKey();){var i=n.getParentKey();i&&r.push(i),n=i?e.get(i):null}return r},l=function(t,e,r){if(!t)return null;for(var n=r.get(t.getKey()).getNextSiblingKey();n&&!e.get(n);)n=r.get(n).getNextSiblingKey()||null;return n},u=function(t,e,r){if(!t)return null;for(var n=r.get(t.getKey()).getPrevSiblingKey();n&&!e.get(n);)n=r.get(n).getPrevSiblingKey()||null;return n},h=function(t,e,r,n){return t.withMutations((function(o){if(s(e.getKey(),o,(function(t){return t.merge({nextSibling:l(t,o,n),prevSibling:u(t,o,n)})})),s(r.getKey(),o,(function(t){return t.merge({nextSibling:l(t,o,n),prevSibling:u(t,o,n)})})),c(e.getKey(),n).forEach((function(t){return s(t,o,(function(t){return t.merge({children:t.getChildKeys().filter((function(t){return o.get(t)})),nextSibling:l(t,o,n),prevSibling:u(t,o,n)})}))})),s(e.getNextSiblingKey(),o,(function(t){return t.merge({prevSibling:e.getPrevSiblingKey()})})),s(e.getPrevSiblingKey(),o,(function(t){return t.merge({nextSibling:l(t,o,n)})})),s(r.getNextSiblingKey(),o,(function(t){return t.merge({prevSibling:u(t,o,n)})})),s(r.getPrevSiblingKey(),o,(function(t){return t.merge({nextSibling:r.getNextSiblingKey()})})),c(r.getKey(),n).forEach((function(t){s(t,o,(function(t){return t.merge({children:t.getChildKeys().filter((function(t){return o.get(t)})),nextSibling:l(t,o,n),prevSibling:u(t,o,n)})}))})),function(t,e){var r=[];if(!t)return r;for(var n=i(t,e);n&&e.get(n);){var o=e.get(n);r.push(n),n=o.getParentKey()?i(o,e):null}return r}(r,n).forEach((function(t){return s(t,o,(function(t){return t.merge({nextSibling:l(t,o,n),prevSibling:u(t,o,n)})}))})),null==t.get(e.getKey())&&null!=t.get(r.getKey())&&r.getParentKey()===e.getKey()&&null==r.getPrevSiblingKey()){var a=e.getPrevSiblingKey();s(r.getKey(),o,(function(t){return t.merge({prevSibling:a})})),s(a,o,(function(t){return t.merge({nextSibling:r.getKey()})}));var h=a?t.get(a):null,f=h?h.getParentKey():null;if(e.getChildKeys().forEach((function(t){s(t,o,(function(t){return t.merge({parent:f})}))})),null!=f){var p=t.get(f);s(f,o,(function(t){return t.merge({children:p.getChildKeys().concat(e.getChildKeys())})}))}s(e.getChildKeys().find((function(e){return null===t.get(e).getNextSiblingKey()})),o,(function(t){return t.merge({nextSibling:e.getNextSiblingKey()})}))}}))},f=function(t,e,r){if(0===e)for(;e<r;)t=t.shift(),e++;else if(r===t.count())for(;r>e;)t=t.pop(),r--;else{var n=t.slice(0,e),i=t.slice(r);t=n.concat(i).toList()}return t};t.exports=function(t,e){if(e.isCollapsed())return t;var r,o=t.getBlockMap(),s=e.getStartKey(),l=e.getStartOffset(),u=e.getEndKey(),p=e.getEndOffset(),d=o.get(s),m=o.get(u),y=d instanceof n,v=[];if(y){var g=m.getChildKeys(),b=c(u,o);m.getNextSiblingKey()&&(v=v.concat(b)),g.isEmpty()||(v=v.concat(b.concat([u]))),v=v.concat(c(i(m,o),o))}r=d===m?f(d.getCharacterList(),l,p):d.getCharacterList().slice(0,l).concat(m.getCharacterList().slice(p));var k=d.merge({text:d.getText().slice(0,l)+m.getText().slice(p),characterList:r}),_=y&&0===l&&0===p&&m.getParentKey()===s&&null==m.getPrevSiblingKey()?a([[s,null]]):o.toSeq().skipUntil((function(t,e){return e===s})).takeUntil((function(t,e){return e===u})).filter((function(t,e){return-1===v.indexOf(e)})).concat(a([[u,null]])).map((function(t,e){return e===s?k:null})),x=o.merge(_).filter((function(t){return!!t}));return y&&d!==m&&(x=h(x,d,m,o)),t.merge({blockMap:x,selectionBefore:e,selectionAfter:e.merge({anchorKey:s,anchorOffset:l,focusKey:s,focusOffset:l,isBackward:!1})})}},10056:function(t,e,r){"use strict";var n=r(7508),i=r(7598),o=r(7308),a=r(7314),s=r(9245),c=o.List,l=o.Map,u=function(t,e,r){if(t){var n=e.get(t);n&&e.set(t,r(n))}};t.exports=function(t,e){e.isCollapsed()||a(!1);var r=e.getAnchorKey(),o=t.getBlockMap(),h=o.get(r),f=h.getText();if(!f){var p=h.getType();if("unordered-list-item"===p||"ordered-list-item"===p)return s(t,e,(function(t){return t.merge({type:"unstyled",depth:0})}))}var d=e.getAnchorOffset(),m=h.getCharacterList(),y=i(),v=h instanceof n,g=h.merge({text:f.slice(0,d),characterList:m.slice(0,d)}),b=g.merge({key:y,text:f.slice(d),characterList:m.slice(d),data:l()}),k=o.toSeq().takeUntil((function(t){return t===h})),_=o.toSeq().skipUntil((function(t){return t===h})).rest(),x=k.concat([[r,g],[y,b]],_).toOrderedMap();return v&&(h.getChildKeys().isEmpty()||a(!1),x=function(t,e,r){return t.withMutations((function(t){var n=e.getKey(),i=r.getKey();u(e.getParentKey(),t,(function(t){var e=t.getChildKeys(),r=e.indexOf(n)+1,o=e.toArray();return o.splice(r,0,i),t.merge({children:c(o)})})),u(e.getNextSiblingKey(),t,(function(t){return t.merge({prevSibling:i})})),u(n,t,(function(t){return t.merge({nextSibling:i})})),u(i,t,(function(t){return t.merge({prevSibling:n})}))}))}(x,g,b)),t.merge({blockMap:x,selectionBefore:e,selectionAfter:e.merge({anchorKey:y,anchorOffset:0,focusKey:y,focusOffset:0,isBackward:!1})})}},10057:function(t,e,r){"use strict";var n=r(8340),i=r(7308),o=i.List,a=i.Repeat,s=i.Record,c=function(){return!0},l=s({start:null,end:null}),u=s({start:null,end:null,decoratorKey:null,leaves:null}),h={generate:function(t,e,r){var i=e.getLength();if(!i)return o.of(new u({start:0,end:0,decoratorKey:null,leaves:o.of(new l({start:0,end:0}))}));var s=[],h=r?r.getDecorations(e,t):o(a(null,i)),d=e.getCharacterList();return n(h,p,c,(function(t,e){s.push(new u({start:t,end:e,decoratorKey:h.get(t),leaves:f(d.slice(t,e).toList(),t)}))})),o(s)}};function f(t,e){var r=[],i=t.map((function(t){return t.getStyle()})).toList();return n(i,p,c,(function(t,n){r.push(new l({start:t+e,end:n+e}))})),o(r)}function p(t,e){return t===e}t.exports=h},10058:function(t,e,r){"use strict";var n,i=r(10059),o=r(7308),a=r(7447),s=o.OrderedMap,c={getDirectionMap:function(t,e){n?n.reset():n=new i;var r=t.getBlockMap(),c=r.valueSeq().map((function(t){return a(n).getDirection(t.getText())})),l=s(r.keySeq().zip(c));return null!=e&&o.is(e,l)?e:l}};t.exports=c},10059:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r(8893),o=r(8511),a=r(7314),s=function(){function t(t){n(this,"_defaultDir",void 0),n(this,"_lastDir",void 0),t?o.isStrong(t)||a(!1):t=o.getGlobalDir(),this._defaultDir=t,this.reset()}var e=t.prototype;return e.reset=function(){this._lastDir=this._defaultDir},e.getDirection=function(t){return this._lastDir=i.getDirection(t,this._lastDir),this._lastDir},t}();t.exports=s},10060:function(t,e,r){"use strict";var n=r(7508),i=r(9246),o=r(7308),a=r(7314),s=o.OrderedMap,c=o.List,l=function(t,e,r){if(t){var n=e.get(t);n&&e.set(t,r(n))}},u=function(t,e,r,n,i){if(!i)return t;var o="after"===n,a=e.getKey(),s=r.getKey(),u=e.getParentKey(),h=e.getNextSiblingKey(),f=e.getPrevSiblingKey(),p=r.getParentKey(),d=o?r.getNextSiblingKey():s,m=o?s:r.getPrevSiblingKey();return t.withMutations((function(t){l(u,t,(function(t){var e=t.getChildKeys();return t.merge({children:e.delete(e.indexOf(a))})})),l(f,t,(function(t){return t.merge({nextSibling:h})})),l(h,t,(function(t){return t.merge({prevSibling:f})})),l(d,t,(function(t){return t.merge({prevSibling:a})})),l(m,t,(function(t){return t.merge({nextSibling:a})})),l(p,t,(function(t){var e=t.getChildKeys(),r=e.indexOf(s),n=o?r+1:0!==r?r-1:0,i=e.toArray();return i.splice(n,0,a),t.merge({children:c(i)})})),l(a,t,(function(t){return t.merge({nextSibling:d,prevSibling:m,parent:p})}))}))};t.exports=function(t,e,r,o){"replace"===o&&a(!1);var c=r.getKey(),l=e.getKey();l===c&&a(!1);var h=t.getBlockMap(),f=e instanceof n,p=[e],d=h.delete(l);f&&(p=[],d=h.withMutations((function(t){var r=e.getNextSiblingKey(),n=i(e,t);t.toSeq().skipUntil((function(t){return t.getKey()===l})).takeWhile((function(t){var e=t.getKey(),i=e===l,o=r&&e!==r,a=!r&&t.getParentKey()&&(!n||e!==n);return!!(i||o||a)})).forEach((function(e){p.push(e),t.delete(e.getKey())}))})));var m=d.toSeq().takeUntil((function(t){return t===r})),y=d.toSeq().skipUntil((function(t){return t===r})).skip(1),v=p.map((function(t){return[t.getKey(),t]})),g=s();if("before"===o){var b=t.getBlockBefore(c);b&&b.getKey()===e.getKey()&&a(!1),g=m.concat([].concat(v,[[c,r]]),y).toOrderedMap()}else if("after"===o){var k=t.getBlockAfter(c);k&&k.getKey()===l&&a(!1),g=m.concat([[c,r]].concat(v),y).toOrderedMap()}return t.merge({blockMap:u(g,e,r,o,f),selectionBefore:t.getSelectionAfter(),selectionAfter:t.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}},10061:function(t,e,r){"use strict";var n=r(7308).List,i=function(){function t(t){var e,r,n;n=void 0,(r="_decorators")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,this._decorators=t.slice()}var e=t.prototype;return e.getDecorations=function(t,e){var r=Array(t.getText().length).fill(null);return this._decorators.forEach((function(n,i){var o=0;(0,n.strategy)(t,(function(t,e){(function(t,e,r){for(var n=e;n<r;n++)if(null!=t[n])return!1;return!0})(r,t,e)&&(!function(t,e,r,n){for(var i=e;i<r;i++)t[i]=n}(r,t,e,i+"."+o),o++)}),e)})),n(r)},e.getComponentForKey=function(t){var e=parseInt(t.split(".")[0],10);return this._decorators[e].component},e.getPropsForKey=function(t){var e=parseInt(t.split(".")[0],10);return this._decorators[e].props},t}();t.exports=i},10062:function(t,e,r){"use strict";(function(e){var n=r(351);function i(){return(i=n||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){s(t,e,r[e])}))}return t}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var l=r(8894),u=r(9249),h=r(10063),f=r(10070),p=r(10087),d=r(10090),m=r(10117),y=r(10118),v=r(9261),g=r(7323),b=r(0),k=r(8896),_=r(8515),x=r(7484),S=r(7895),w=r(7598),E=r(8344),A=r(8516),C=r(7724),T=r(7314),P=r(8341),D=r(7447),O=x.isBrowser("IE"),M=!O,F={edit:d,composite:h,drag:p,cut:null,render:null},B=!1,I=function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var r=e.prototype;return r.render=function(){return null},r.componentDidMount=function(){this._update()},r.componentDidUpdate=function(){this._update()},r._update=function(){var t=this.props.editor;t._latestEditorState=this.props.editorState,t._blockSelectEvents=!0},e}(b.Component),N=function(t){function r(e){var r;return s(a(r=t.call(this,e)||this),"_blockSelectEvents",void 0),s(a(r),"_clipboard",void 0),s(a(r),"_handler",void 0),s(a(r),"_dragCount",void 0),s(a(r),"_internalDrag",void 0),s(a(r),"_editorKey",void 0),s(a(r),"_placeholderAccessibilityID",void 0),s(a(r),"_latestEditorState",void 0),s(a(r),"_latestCommittedEditorState",void 0),s(a(r),"_pendingStateFromBeforeInput",void 0),s(a(r),"_onBeforeInput",void 0),s(a(r),"_onBlur",void 0),s(a(r),"_onCharacterData",void 0),s(a(r),"_onCompositionEnd",void 0),s(a(r),"_onCompositionStart",void 0),s(a(r),"_onCopy",void 0),s(a(r),"_onCut",void 0),s(a(r),"_onDragEnd",void 0),s(a(r),"_onDragOver",void 0),s(a(r),"_onDragStart",void 0),s(a(r),"_onDrop",void 0),s(a(r),"_onInput",void 0),s(a(r),"_onFocus",void 0),s(a(r),"_onKeyDown",void 0),s(a(r),"_onKeyPress",void 0),s(a(r),"_onKeyUp",void 0),s(a(r),"_onMouseDown",void 0),s(a(r),"_onMouseUp",void 0),s(a(r),"_onPaste",void 0),s(a(r),"_onSelect",void 0),s(a(r),"editor",void 0),s(a(r),"editorContainer",void 0),s(a(r),"focus",void 0),s(a(r),"blur",void 0),s(a(r),"setMode",void 0),s(a(r),"exitCurrentMode",void 0),s(a(r),"restoreEditorDOM",void 0),s(a(r),"setClipboard",void 0),s(a(r),"getClipboard",void 0),s(a(r),"getEditorKey",void 0),s(a(r),"update",void 0),s(a(r),"onDragEnter",void 0),s(a(r),"onDragLeave",void 0),s(a(r),"_handleEditorContainerRef",(function(t){r.editorContainer=t,r.editor=null!==t?t.firstChild:null})),s(a(r),"focus",(function(t){var e=r.props.editorState,n=e.getSelection().getHasFocus(),i=r.editor;if(i){var o=_.getScrollParent(i),a=t||A(o),s=a.x,c=a.y;P(i)||T(!1),i.focus(),o===window?window.scrollTo(s,c):k.setTop(o,c),n||r.update(g.forceSelection(e,e.getSelection()))}})),s(a(r),"blur",(function(){var t=r.editor;t&&(P(t)||T(!1),t.blur())})),s(a(r),"setMode",(function(t){var e=r.props,n=e.onPaste,i=e.onCut,a=e.onCopy,s=o({},F.edit);n&&(s.onPaste=n),i&&(s.onCut=i),a&&(s.onCopy=a);var c=o({},F,{edit:s});r._handler=c[t]})),s(a(r),"exitCurrentMode",(function(){r.setMode("edit")})),s(a(r),"restoreEditorDOM",(function(t){r.setState({contentsKey:r.state.contentsKey+1},(function(){r.focus(t)}))})),s(a(r),"setClipboard",(function(t){r._clipboard=t})),s(a(r),"getClipboard",(function(){return r._clipboard})),s(a(r),"update",(function(t){r._latestEditorState=t,r.props.onChange(t)})),s(a(r),"onDragEnter",(function(){r._dragCount++})),s(a(r),"onDragLeave",(function(){r._dragCount--,0===r._dragCount&&r.exitCurrentMode()})),r._blockSelectEvents=!1,r._clipboard=null,r._handler=null,r._dragCount=0,r._editorKey=e.editorKey||w(),r._placeholderAccessibilityID="placeholder-"+r._editorKey,r._latestEditorState=e.editorState,r._latestCommittedEditorState=e.editorState,r._onBeforeInput=r._buildHandler("onBeforeInput"),r._onBlur=r._buildHandler("onBlur"),r._onCharacterData=r._buildHandler("onCharacterData"),r._onCompositionEnd=r._buildHandler("onCompositionEnd"),r._onCompositionStart=r._buildHandler("onCompositionStart"),r._onCopy=r._buildHandler("onCopy"),r._onCut=r._buildHandler("onCut"),r._onDragEnd=r._buildHandler("onDragEnd"),r._onDragOver=r._buildHandler("onDragOver"),r._onDragStart=r._buildHandler("onDragStart"),r._onDrop=r._buildHandler("onDrop"),r._onInput=r._buildHandler("onInput"),r._onFocus=r._buildHandler("onFocus"),r._onKeyDown=r._buildHandler("onKeyDown"),r._onKeyPress=r._buildHandler("onKeyPress"),r._onKeyUp=r._buildHandler("onKeyUp"),r._onMouseDown=r._buildHandler("onMouseDown"),r._onMouseUp=r._buildHandler("onMouseUp"),r._onPaste=r._buildHandler("onPaste"),r._onSelect=r._buildHandler("onSelect"),r.getEditorKey=function(){return r._editorKey},r.state={contentsKey:0},r}c(r,t);var n=r.prototype;return n._buildHandler=function(t){var e=this;return function(r){if(!e.props.readOnly){var n=e._handler&&e._handler[t];n&&(m?m((function(){return n(e,r)})):n(e,r))}}},n._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},n._renderPlaceholder=function(){if(this._showPlaceholder()){var t={text:D(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(y,t)}return null},n.render=function(){var t=this.props,e=t.blockRenderMap,r=t.blockRendererFn,n=t.blockStyleFn,a=t.customStyleFn,s=t.customStyleMap,c=t.editorState,l=t.preventScroll,h=t.readOnly,p=t.textAlignment,d=t.textDirectionality,m=S({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),y=this.props.role||"textbox",v="combobox"===y?!!this.props.ariaExpanded:null,g={blockRenderMap:e,blockRendererFn:r,blockStyleFn:n,customStyleMap:o({},u,s),customStyleFn:a,editorKey:this._editorKey,editorState:c,preventScroll:l,textDirectionality:d};return b.createElement("div",{className:m},this._renderPlaceholder(),b.createElement("div",{className:S("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":h?null:this.props.ariaActiveDescendantID,"aria-autocomplete":h?null:this.props.ariaAutoComplete,"aria-controls":h?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":h?null:v,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":h?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:S({notranslate:!h,"public/DraftEditor/content":!0}),contentEditable:!h,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:h?null:y,spellCheck:M&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(I,{editor:this,editorState:c}),b.createElement(f,i({},g,{key:"contents"+this.state.contentsKey})))))},n.componentDidMount=function(){this._blockSelectEvents=!1,!B&&C("draft_ods_enabled")&&(B=!0,v.initODS()),this.setMode("edit"),O&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):e.execCommand("AutoUrlDetect",!1,!1))},n.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},r}(b.Component);s(N,"defaultProps",{blockRenderMap:l,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:E,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),t.exports=N}).call(this,r(35))},10063:function(t,e,r){"use strict";var n=r(10064),i=r(7446),o=r(7653),a=r(7323),s=r(8514),c=r(9252),l=r(9254),u=r(9255),h=r(7973),f=r(7447),p=!1,d=!1,m=null;var y={onCompositionStart:function(t){d=!0,function(t){m||(m=new n(l(t))).start()}(t)},onCompositionEnd:function(t){p=!1,d=!1,setTimeout((function(){p||y.resolveComposition(t)}),20)},onSelect:c,onKeyDown:function(t,e){if(!d)return y.resolveComposition(t),void t._onKeyDown(e);e.which!==s.RIGHT&&e.which!==s.LEFT||e.preventDefault()},onKeyPress:function(t,e){e.which===s.RETURN&&e.preventDefault()},resolveComposition:function(t){if(!d){var e=f(m).stopAndFlushMutations();m=null,p=!0;var r=a.set(t._latestEditorState,{inCompositionMode:!1});if(t.exitCurrentMode(),e.size){var n=r.getCurrentContent();e.forEach((function(t,e){var s=o.decode(e),c=s.blockKey,l=s.decoratorKey,u=s.leafKey,f=r.getBlockTree(c).getIn([l,"leaves",u]),p=f.start,d=f.end,m=r.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:p,focusOffset:d,isBackward:!1}),y=h(n,m),v=n.getBlockForKey(c).getInlineStyleAt(p);n=i.replaceText(n,m,t,v,y),r=a.set(r,{currentContent:n})}));var s=u(r,l(t)).selectionState;t.restoreEditorDOM();var c=a.acceptSelection(r,s);t.update(a.push(c,n,"insert-characters"))}else t.update(r)}}};t.exports=y},10064:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r(7484),o=r(8512),a=r(9251),s=r(7308),c=r(7314),l=r(7447),u=s.Map,h={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},f=i.isBrowser("IE <= 11"),p=function(){function t(t){var e=this;n(this,"observer",void 0),n(this,"container",void 0),n(this,"mutations",void 0),n(this,"onCharData",void 0),this.container=t,this.mutations=u();var r=a(t);r.MutationObserver&&!f?this.observer=new r.MutationObserver((function(t){return e.registerMutations(t)})):this.onCharData=function(t){t.target instanceof Node||c(!1),e.registerMutation({type:"characterData",target:t.target})}}var e=t.prototype;return e.start=function(){this.observer?this.observer.observe(this.container,h):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},e.stopAndFlushMutations=function(){var t=this.observer;t?(this.registerMutations(t.takeRecords()),t.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var e=this.mutations;return this.mutations=u(),e},e.registerMutations=function(t){for(var e=0;e<t.length;e++)this.registerMutation(t[e])},e.getMutationTextContent=function(t){var e=t.type,r=t.target,n=t.removedNodes;if("characterData"===e){if(""!==r.textContent)return f?r.textContent.replace("\n",""):r.textContent}else if("childList"===e){if(n&&n.length)return"";if(""!==r.textContent)return r.textContent}return null},e.registerMutation=function(t){var e=this.getMutationTextContent(t);if(null!=e){var r=l(o(t.target));this.mutations=this.mutations.set(r,e)}},t}();t.exports=p},10065:function(t,e,r){"use strict";var n=r(10066),i="Unknown",o={"Mac OS":"Mac OS X"};var a,s=(new n).getResult(),c=function(t){if(!t)return{major:"",minor:""};var e=t.split(".");return{major:e[0],minor:e[1]}}(s.browser.version),l={browserArchitecture:s.cpu.architecture||i,browserFullVersion:s.browser.version||i,browserMinorVersion:c.minor||i,browserName:s.browser.name||i,browserVersion:s.browser.major||i,deviceName:s.device.model||i,engineName:s.engine.name||i,engineVersion:s.engine.version||i,platformArchitecture:s.cpu.architecture||i,platformName:(a=s.os.name,o[a]||a||i),platformVersion:s.os.version||i,platformFullVersion:s.os.version||i};t.exports=l},10066:function(t,e,r){var n;!function(i,o){"use strict";var a="model",s="name",c="type",l="vendor",u="version",h="mobile",f="tablet",p="smarttv",d={extend:function(t,e){var r={};for(var n in t)e[n]&&e[n].length%2==0?r[n]=e[n].concat(t[n]):r[n]=t[n];return r},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},m={rgx:function(t,e){for(var r,n,i,o,a,s,c=0;c<e.length&&!a;){var l=e[c],u=e[c+1];for(r=n=0;r<l.length&&!a;)if(a=l[r++].exec(t))for(i=0;i<u.length;i++)s=a[++n],"object"==typeof(o=u[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;c+=2}},str:function(t,e){for(var r in e)if("object"==typeof e[r]&&e[r].length>0){for(var n=0;n<e[r].length;n++)if(d.has(e[r][n],t))return"?"===r?void 0:r}else if(d.has(e[r],t))return"?"===r?void 0:r;return t}},y={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,u],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,u],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],u],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],u],[/(Avast)\/([\w\.]+)/i],[[s,"Avast Secure Browser"],u],[/(AVG)\/([\w\.]+)/i],[[s,"AVG Secure Browser"],u],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],u],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],u],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],u],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],u],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],u],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[s,u],[/(QQ)\/([\d\.]+)/i],[s,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,u],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[s,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,u],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[s,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],u],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,u],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],u],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[u,m.str,y.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,l,[c,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[l,"Apple"],[c,f]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[l,"Apple"],[c,p]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,a,[c,f]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[l,"Amazon"],[c,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,m.str,y.device.amazon.model],[l,"Amazon"],[c,h]],[/android.+aft([bms])\sbuild/i],[a,[l,"Amazon"],[c,p]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,l,[c,h]],[/\((ip[honed|\s\w*]+);/i],[a,[l,"Apple"],[c,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,a,[c,h]],[/\(bb10;\s(\w+)/i],[a,[l,"BlackBerry"],[c,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[l,"Asus"],[c,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[a,"Xperia Tablet"],[c,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[l,"Sony"],[c,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,a,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,m.str,y.device.sprint.vendor],[a,m.str,y.device.sprint.model],[c,h]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[a,/_/g," "],[c,h]],[/(nexus\s9)/i],[a,[l,"HTC"],[c,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[a,[l,"Huawei"],[c,h]],[/android.+(bah2?-a?[lw]\d{2})/i],[a,[l,"Huawei"],[c,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,a,[c,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[l,"Microsoft"],[c,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[l,"Motorola"],[c,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[l,"Motorola"],[c,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,d.trim],[a,d.trim],[c,p]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[l,"Samsung"],[c,p]],[/\(dtv[\);].+(aquos)/i],[a,[l,"Sharp"],[c,p]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],a,[c,f]],[/smart-tv.+(samsung)/i],[l,[c,p],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],a,[c,h]],[/sie-(\w*)/i],[a,[l,"Siemens"],[c,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],a,[c,h]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[l,"Acer"],[c,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[l,"LG"],[c,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],a,[c,f]],[/(lg) netcast\.tv/i],[l,a,[c,p]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[l,"LG"],[c,h]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[l,a,[c,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[l,"Lenovo"],[c,f]],[/(lenovo)[_\s-]?([\w-]+)/i],[l,a,[c,h]],[/linux;.+((jolla));/i],[l,a,[c,h]],[/((pebble))app\/[\d\.]+\s/i],[l,a,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,a,[c,h]],[/crkey/i],[[a,"Chromecast"],[l,"Google"],[c,p]],[/android.+;\s(glass)\s\d/i],[a,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[l,"Google"],[c,f]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[a,[l,"Google"],[c,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[l,"Xiaomi"],[c,h]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[l,"Xiaomi"],[c,f]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[l,"Meizu"],[c,h]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],a,[c,h]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[a,[l,"OnePlus"],[c,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[l,"RCA"],[c,f]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[l,"Dell"],[c,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[l,"Verizon"],[c,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],a,[c,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[l,"NuVision"],[c,f]],[/android.+;\s(k88)\sbuild/i],[a,[l,"ZTE"],[c,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[l,"Swiss"],[c,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[l,"Swiss"],[c,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[l,"Zeki"],[c,f]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],a,[c,f]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[l,"Insignia"],[c,f]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[l,"NextBook"],[c,f]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],a,[c,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],a,[c,h]],[/android.+;\s(PH-1)\s/i],[a,[l,"Essential"],[c,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[l,"Envizen"],[c,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,a,[c,f]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[l,"MachSpeed"],[c,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,a,[c,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[l,"Rotor"],[c,f]],[/android.+(KS(.+))\s+build/i],[a,[l,"Amazon"],[c,f]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,a,[c,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,d.lowerize],l,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,p]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[u,m.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[u,m.str,y.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],u],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,u],[/(haiku)\s(\w+)/i],[s,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,u]]},g=function(t,e){if("object"==typeof t&&(e=t,t=void 0),!(this instanceof g))return new g(t,e).getResult();var r=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=e?d.extend(v,e):v;return this.getBrowser=function(){var t={name:void 0,version:void 0};return m.rgx.call(t,r,n.browser),t.major=d.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return m.rgx.call(t,r,n.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return m.rgx.call(t,r,n.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return m.rgx.call(t,r,n.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return m.rgx.call(t,r,n.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=t,this},this};g.VERSION="0.7.21",g.BROWSER={NAME:s,MAJOR:"major",VERSION:u},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:a,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:h,SMARTTV:p,TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:s,VERSION:u},g.OS={NAME:s,VERSION:u},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=g),e.UAParser=g):void 0===(n=function(){return g}.call(e,r,e,t))||(t.exports=n);var b=i&&(i.jQuery||i.Zepto);if(b&&!b.ua){var k=new g;b.ua=k.getResult(),b.ua.get=function(){return k.getUA()},b.ua.set=function(t){k.setUA(t);var e=k.getResult();for(var r in e)b.ua[r]=e[r]}}}("object"==typeof window?window:this)},10067:function(t,e,r){"use strict";var n=r(7314),i=/\./,o=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function l(t,e){var r=t.split(o);return r.length>1?r.some((function(t){return k.contains(t,e)})):function(t,e){var r=t.split(a);if(r.length>0&&r.length<=2||n(!1),1===r.length)return u(r[0],e);var i=r[0],o=r[1];return m(i)&&m(o)||n(!1),u(">="+i,e)&&u("<="+o,e)}(t=r[0].trim(),e)}function u(t,e){if(""===(t=t.trim()))return!0;var r,n=e.split(i),o=p(t),a=o.modifier,s=o.rangeComponents;switch(a){case"<":return h(n,s);case"<=":return-1===(r=b(n,s))||0===r;case">=":return f(n,s);case">":return function(t,e){return 1===b(t,e)}(n,s);case"~":case"~>":return function(t,e){var r=e.slice(),n=e.slice();n.length>1&&n.pop();var i=n.length-1,o=parseInt(n[i],10);d(o)&&(n[i]=o+1+"");return f(t,r)&&h(t,n)}(n,s);default:return function(t,e){return 0===b(t,e)}(n,s)}}function h(t,e){return-1===b(t,e)}function f(t,e){var r=b(t,e);return 1===r||0===r}function p(t){var e=t.split(i),r=e[0].match(s);return r||n(!1),{modifier:r[1],rangeComponents:[r[2]].concat(e.slice(1))}}function d(t){return!isNaN(t)&&isFinite(t)}function m(t){return!p(t).modifier}function y(t,e){for(var r=t.length;r<e;r++)t[r]="0"}function v(t,e){var r=t.match(c)[1],n=e.match(c)[1],i=parseInt(r,10),o=parseInt(n,10);return d(i)&&d(o)&&i!==o?g(i,o):g(t,e)}function g(t,e){return typeof t!=typeof e&&n(!1),t>e?1:t<e?-1:0}function b(t,e){for(var r=function(t,e){y(t=t.slice(),(e=e.slice()).length);for(var r=0;r<e.length;r++){var n=e[r].match(/^[x*]$/i);if(n&&(e[r]=t[r]="0","*"===n[0]&&r===e.length-1))for(var i=r;i<t.length;i++)t[i]="0"}return y(e,t.length),[t,e]}(t,e),n=r[0],i=r[1],o=0;o<i.length;o++){var a=v(n[o],i[o]);if(a)return a}return 0}var k={contains:function(t,e){return l(t.trim(),e.trim())}};t.exports=k},10068:function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!t)return null;var i={};for(var o in t)n.call(t,o)&&(i[o]=e.call(r,t[o],o,t));return i}},10069:function(t,e,r){"use strict";t.exports=function(t){var e={};return function(r){return e.hasOwnProperty(r)||(e[r]=t.call(this,r)),e[r]}}},10070:function(t,e,r){"use strict";var n=r(7724)("draft_tree_data_support");t.exports=r(n?10071:10085)},10071:function(t,e,r){"use strict";var n=r(351);function i(){return(i=n||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var o=r(10072),a=r(7653),s=r(0),c=r(7447),l=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var l=n.prototype;return l.shouldComponentUpdate=function(t){var e=this.props.editorState,r=t.editorState;if(e.getDirectionMap()!==r.getDirectionMap())return!0;if(e.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var n=r.getNativelyRenderedContent(),i=e.isInCompositionMode(),o=r.isInCompositionMode();if(e===r||null!==n&&r.getCurrentContent()===n||i&&o)return!1;var a=e.getCurrentContent(),s=r.getCurrentContent(),c=e.getDecorator(),l=r.getDecorator();return i!==o||a!==s||c!==l||r.mustForceSelection()},l.render=function(){for(var t=this.props,e=t.blockRenderMap,r=t.blockRendererFn,n=t.blockStyleFn,l=t.customStyleMap,u=t.customStyleFn,h=t.editorState,f=t.editorKey,p=t.textDirectionality,d=h.getCurrentContent(),m=h.getSelection(),y=h.mustForceSelection(),v=h.getDecorator(),g=c(h.getDirectionMap()),b=[],k=d.getBlocksAsArray()[0];k;){var _=k.getKey(),x={blockRenderMap:e,blockRendererFn:r,blockStyleFn:n,contentState:d,customStyleFn:u,customStyleMap:l,decorator:v,editorKey:f,editorState:h,forceSelection:y,selection:m,block:k,direction:p||g.get(_),tree:h.getBlockTree(_)},S=(e.get(k.getType())||e.get("unstyled")).wrapper;b.push({block:s.createElement(o,i({key:_},x)),wrapperTemplate:S,key:_,offsetKey:a.encode(_,0,0)});var w=k.getNextSiblingKey();k=w?d.getBlockForKey(w):null}for(var E=[],A=0;A<b.length;){var C=b[A];if(C.wrapperTemplate){var T=[];do{T.push(b[A].block),A++}while(A<b.length&&b[A].wrapperTemplate===C.wrapperTemplate);var P=s.cloneElement(C.wrapperTemplate,{key:C.key+"-wrap","data-offset-key":C.offsetKey},T);E.push(P)}else E.push(C.block),A++}return s.createElement("div",{"data-contents":"true"},E)},n}(s.Component);t.exports=l},10072:function(t,e,r){"use strict";var n=r(351);function i(){return(i=n||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){s(t,e,r[e])}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=r(10073),l=r(7653),u=r(0),h=r(8896),f=r(8515),p=r(9263),d=r(8516),m=r(9264),y=r(7308),v=r(7314),g=r(8341),b=(y.List,function(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e}),k=function(t,e){var r=e.get(t.getType())||e.get("unstyled"),n=r.wrapper;return{Element:r.element||e.get("unstyled").element,wrapperTemplate:n}},_=function(t,e){var r=e(t);return r?{CustomComponent:r.component,customProps:r.props,customEditable:r.editable}:{}},x=function(t,e,r,n,i,o){var s={"data-block":!0,"data-editor":e,"data-offset-key":r,key:t.getKey(),ref:o},c=n(t);return c&&(s.className=c),void 0!==i.customEditable&&(s=a({},s,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),s},S=function(t){var e,r;function n(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return s(o(e=t.call.apply(t,[this].concat(n))||this),"wrapperRef",u.createRef()),e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var y=n.prototype;return y.shouldComponentUpdate=function(t){var e=this.props,r=e.block,n=e.direction,i=e.tree,o=!r.getChildKeys().isEmpty(),a=r!==t.block||i!==t.tree||n!==t.direction||b(t.selection,t.block.getKey())&&t.forceSelection;return o||a},y.componentDidMount=function(){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var r=this.wrapperRef.current;if(r){var n,i=f.getScrollParent(r),o=d(i);if(i===window){var a=p(r);(n=a.y+a.height-m().height)>0&&window.scrollTo(o.x,o.y+n+10)}else{g(r)||v(!1);var s=r;(n=s.offsetHeight+s.offsetTop-(i.offsetHeight+o.y))>0&&h.setTop(i,h.getTop(i)+n+10)}}}},y.render=function(){var t=this,e=this.props,r=e.block,o=e.blockRenderMap,s=e.blockRendererFn,h=e.blockStyleFn,f=e.contentState,p=e.decorator,d=e.editorKey,m=e.editorState,y=e.customStyleFn,v=e.customStyleMap,g=e.direction,S=e.forceSelection,w=e.selection,E=e.tree,A=null;r.children.size&&(A=r.children.reduce((function(e,r){var i=l.encode(r,0,0),c=f.getBlockForKey(r),p=_(c,s),y=p.CustomComponent||n,v=k(c,o),g=v.Element,b=v.wrapperTemplate,S=x(c,d,i,h,p,null),w=a({},t.props,{tree:m.getBlockTree(r),blockProps:p.customProps,offsetKey:i,block:c});return e.push(u.createElement(g,S,u.createElement(y,w))),!b||function(t,e){var r=t.getNextSiblingKey();return!!r&&e.getBlockForKey(r).getType()===t.getType()}(c,f)||function(t,e,r){var n=[],i=!0,o=!1,a=void 0;try{for(var s,c=r.reverse()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var h=s.value;if(h.type!==e)break;n.push(h)}}catch(t){o=!0,a=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}r.splice(r.indexOf(n[0]),n.length+1);var f=n.reverse(),p=f[0].key;r.push(u.cloneElement(t,{key:"".concat(p,"-wrap"),"data-offset-key":l.encode(p,0,0)},f))}(b,g,e),e}),[]));var C=r.getKey(),T=l.encode(C,0,0),P=_(r,s),D=P.CustomComponent,O=null!=D?u.createElement(D,i({},this.props,{tree:m.getBlockTree(C),blockProps:P.customProps,offsetKey:T,block:r})):u.createElement(c,{block:r,children:A,contentState:f,customStyleFn:y,customStyleMap:v,decorator:p,direction:g,forceSelection:S,hasSelection:b(w,C),selection:w,tree:E});if(r.getParentKey())return O;var M=k(r,o).Element,F=x(r,d,T,h,P,this.wrapperRef);return u.createElement(M,F,O)},n}(u.Component);t.exports=S},10073:function(t,e,r){"use strict";var n=r(10074),i=r(9259),o=r(7653),a=r(7308),s=r(0),c=r(7895),l=(a.List,function(t){var e,r;function a(){return t.apply(this,arguments)||this}return r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,a.prototype.render=function(){var t=this.props,e=t.block,r=t.contentState,a=t.customStyleFn,l=t.customStyleMap,u=t.decorator,h=t.direction,f=t.forceSelection,p=t.hasSelection,d=t.selection,m=t.tree,y=e.getKey(),v=e.getText(),g=m.size-1,b=this.props.children||m.map((function(t,c){var m=t.get("decoratorKey"),b=t.get("leaves"),k=b.size-1,_=b.map((function(t,r){var n=o.encode(y,c,r),u=t.get("start"),h=t.get("end");return s.createElement(i,{key:n,offsetKey:n,block:e,start:u,selection:p?d:null,forceSelection:f,text:v.slice(u,h),styleSet:e.getInlineStyleAt(u),customStyleMap:l,customStyleFn:a,isLast:m===g&&r===k})})).toArray();return m&&u?s.createElement(n,{block:e,children:_,contentState:r,decorator:u,decoratorKey:m,direction:h,leafSet:t,text:v,key:c}):_})).toArray();return s.createElement("div",{"data-offset-key":o.encode(y,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===h,"public/DraftStyleDefault/rtl":"RTL"===h})},b)},a}(s.Component));t.exports=l},10074:function(t,e,r){"use strict";var n=r(351);function i(){return(i=n||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var o=r(7653),a=r(0),s=r(8893),c=r(8511),l=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.render=function(){var t=this.props,e=t.block,r=t.children,n=t.contentState,l=t.decorator,u=t.decoratorKey,h=t.direction,f=t.leafSet,p=t.text,d=e.getKey(),m=f.get("leaves"),y=l.getComponentForKey(u),v=l.getPropsForKey(u),g=o.encode(d,parseInt(u,10),0),b=p.slice(m.first().get("start"),m.last().get("end")),k=c.getHTMLDirIfDifferent(s.getDirection(b),h);return a.createElement(y,i({},v,{contentState:n,decoratedText:b,dir:k,key:g,entityKey:e.getEntityAt(f.get("start")),offsetKey:g}),r)},n}(a.Component);t.exports=l},10075:function(t,e,r){"use strict";function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(0),a=r(7484),s=r(7314),c=r(7896),l=a.isBrowser("IE <= 11");var u=function(t){var e,r;function a(e){var r;return i(n(r=t.call(this,e)||this),"_forceFlag",void 0),i(n(r),"_node",void 0),r._forceFlag=!1,r}r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var u=a.prototype;return u.shouldComponentUpdate=function(t){var e=this._node,r=""===t.children;c(e)||s(!1);var n=e;return r?!function(t){return l?"\n"===t.textContent:"BR"===t.tagName}(n):n.textContent!==t.children},u.componentDidMount=function(){this._forceFlag=!this._forceFlag},u.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},u.render=function(){var t=this;return""===this.props.children?this._forceFlag?function(t){return l?o.createElement("span",{key:"A","data-text":"true",ref:t},"\n"):o.createElement("br",{key:"A","data-text":"true",ref:t})}((function(e){return t._node=e})):function(t){return l?o.createElement("span",{key:"B","data-text":"true",ref:t},"\n"):o.createElement("br",{key:"B","data-text":"true",ref:t})}((function(e){return t._node=e})):o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},a}(o.Component);t.exports=u},10076:function(t,e,r){"use strict";var n=r(9261),i=r(9253),o=r(7484),a=r(8895),s=r(9262),c=r(8513),l=r(7314),u=r(7896),h=o.isBrowser("IE");function f(t,e){if(!t)return"[empty]";var r=function t(e,r){var n=void 0!==r?r(e):[];if(e.nodeType===Node.TEXT_NODE){var i=e.textContent.length;return c(e).createTextNode("[text "+i+(n.length?" | "+n.join(", "):"")+"]")}var o=e.cloneNode();1===o.nodeType&&n.length&&o.setAttribute("data-labels",n.join(", "));for(var a=e.childNodes,s=0;s<a.length;s++)o.appendChild(t(a[s],r));return o}(t,e);return r.nodeType===Node.TEXT_NODE?r.textContent:(u(r)||l(!1),r.outerHTML)}function p(t,e){for(var r=t,n=r;r;){if(u(r)&&n.hasAttribute("contenteditable"))return f(r,e);n=r=r.parentNode}return"Could not find contentEditable parent of node"}function d(t){return null===t.nodeValue?t.childNodes.length:t.nodeValue.length}function m(t,e,r,n){var o=s();if(t.extend&&a(o,e)){r>d(e)&&i.logSelectionStateFailure({anonymizedDom:p(e),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(n.toJS())});var c=e===t.focusNode;try{t.extend(e,r)}catch(a){throw i.logSelectionStateFailure({anonymizedDom:p(e,(function(e){var r=[];return e===o&&r.push("active element"),e===t.anchorNode&&r.push("selection anchor node"),e===t.focusNode&&r.push("selection focus node"),r})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:e===t.focusNode,nodeWasFocus:c,selectionRangeCount:t.rangeCount,selectionAnchorNodeName:t.anchorNode?t.anchorNode.nodeName:null,selectionAnchorOffset:t.anchorOffset,selectionFocusNodeName:t.focusNode?t.focusNode.nodeName:null,selectionFocusOffset:t.focusOffset,message:a?""+a:null,offset:r},null,2),selectionState:JSON.stringify(n.toJS(),null,2)}),a}}else if(t.rangeCount>0){var l=t.getRangeAt(0);l.setEnd(e,r),t.addRange(l.cloneRange())}}function y(t,e,r,o){var a=c(e).createRange();if(r>d(e)&&(i.logSelectionStateFailure({anonymizedDom:p(e),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(o.toJS())}),n.handleExtensionCausedError()),a.setStart(e,r),h)try{t.addRange(a)}catch(t){0}else t.addRange(a)}t.exports={setDraftEditorSelection:function(t,e,r,n,i){var o=c(e);if(a(o.documentElement,e)){var s=o.defaultView.getSelection(),l=t.getAnchorKey(),u=t.getAnchorOffset(),h=t.getFocusKey(),f=t.getFocusOffset(),p=t.getIsBackward();if(!s.extend&&p){var d=l,v=u;l=h,u=f,h=d,f=v,p=!1}var g=l===r&&n<=u&&i>=u,b=h===r&&n<=f&&i>=f;if(g&&b)return s.removeAllRanges(),y(s,e,u-n,t),void m(s,e,f-n,t);if(p){if(b&&(s.removeAllRanges(),y(s,e,f-n,t)),g){var k=s.focusNode,_=s.focusOffset;s.removeAllRanges(),y(s,e,u-n,t),m(s,k,_,t)}}else g&&(s.removeAllRanges(),y(s,e,u-n,t)),b&&m(s,e,f-n,t)}},addFocusToSelection:m}},10077:function(t,e,r){"use strict";var n=r(10078);t.exports=function(t){return n(t)&&3==t.nodeType}},10078:function(t,e,r){"use strict";t.exports=function(t){var e=(t?t.ownerDocument||t:document).defaultView||window;return!(!t||!("function"==typeof e.Node?t instanceof e.Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}},10079:function(t,e,r){"use strict";var n=r(10080),i=r(10081);function o(t){return null==t?t:String(t)}t.exports=function(t,e){var r;if(window.getComputedStyle&&(r=window.getComputedStyle(t,null)))return o(r.getPropertyValue(i(e)));if(document.defaultView&&document.defaultView.getComputedStyle){if(r=document.defaultView.getComputedStyle(t,null))return o(r.getPropertyValue(i(e)));if("display"===e)return"none"}return t.currentStyle?o("float"===e?t.currentStyle.cssFloat||t.currentStyle.styleFloat:t.currentStyle[n(e)]):o(t.style&&t.style[n(e)])}},10080:function(t,e,r){"use strict";var n=/-(.)/g;t.exports=function(t){return t.replace(n,(function(t,e){return e.toUpperCase()}))}},10081:function(t,e,r){"use strict";var n=/([A-Z])/g;t.exports=function(t){return t.replace(n,"-$1").toLowerCase()}},10082:function(t,e,r){"use strict";var n=r(8895);t.exports=function(t){var e=t.ownerDocument.documentElement;if(!("getBoundingClientRect"in t)||!n(e,t))return{left:0,right:0,top:0,bottom:0};var r=t.getBoundingClientRect();return{left:Math.round(r.left)-e.clientLeft,right:Math.round(r.right)-e.clientLeft,top:Math.round(r.top)-e.clientTop,bottom:Math.round(r.bottom)-e.clientTop}}},10083:function(t,e,r){"use strict";var n="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;t.exports=function(t){return(t=t||document).scrollingElement?t.scrollingElement:n||"CSS1Compat"!==t.compatMode?t.body:t.documentElement}},10084:function(t,e,r){"use strict";t.exports=function(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}},10085:function(t,e,r){"use strict";var n=r(351);function i(){return(i=n||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){a(t,e,r[e])}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(9265),c=r(7653),l=r(0),u=r(7895),h=r(10086),f=r(7447),p=function(t,e,r,n){return u({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===t,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===t,"public/DraftStyleDefault/reset":r,"public/DraftStyleDefault/depth0":0===e,"public/DraftStyleDefault/depth1":1===e,"public/DraftStyleDefault/depth2":2===e,"public/DraftStyleDefault/depth3":3===e,"public/DraftStyleDefault/depth4":e>=4,"public/DraftStyleDefault/listLTR":"LTR"===n,"public/DraftStyleDefault/listRTL":"RTL"===n})},d=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=n.prototype;return a.shouldComponentUpdate=function(t){var e=this.props.editorState,r=t.editorState;if(e.getDirectionMap()!==r.getDirectionMap())return!0;if(e.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var n=r.getNativelyRenderedContent(),i=e.isInCompositionMode(),o=r.isInCompositionMode();if(e===r||null!==n&&r.getCurrentContent()===n||i&&o)return!1;var a=e.getCurrentContent(),s=r.getCurrentContent(),c=e.getDecorator(),l=r.getDecorator();return i!==o||a!==s||c!==l||r.mustForceSelection()},a.render=function(){for(var t=this.props,e=t.blockRenderMap,r=t.blockRendererFn,n=t.blockStyleFn,a=t.customStyleMap,u=t.customStyleFn,d=t.editorState,m=t.editorKey,y=t.preventScroll,v=t.textDirectionality,g=d.getCurrentContent(),b=d.getSelection(),k=d.mustForceSelection(),_=d.getDecorator(),x=f(d.getDirectionMap()),S=g.getBlocksAsArray(),w=[],E=null,A=null,C=0;C<S.length;C++){var T=S[C],P=T.getKey(),D=T.getType(),O=r(T),M=void 0,F=void 0,B=void 0;O&&(M=O.component,F=O.props,B=O.editable);var I=v||x.get(P),N=c.encode(P,0,0),R={contentState:g,block:T,blockProps:F,blockStyleFn:n,customStyleMap:a,customStyleFn:u,decorator:_,direction:I,forceSelection:k,offsetKey:N,preventScroll:y,selection:b,tree:d.getBlockTree(P)},L=e.get(D)||e.get("unstyled"),j=L.wrapper,z=L.element||e.get("unstyled").element,K=T.getDepth(),V="";if(n&&(V=n(T)),"li"===z)V=h(V,p(D,K,A!==j||null===E||K>E,I));var G=M||s,H={className:V,"data-block":!0,"data-editor":m,"data-offset-key":N,key:P};void 0!==B&&(H=o({},H,{contentEditable:B,suppressContentEditableWarning:!0}));var q=l.createElement(z,H,l.createElement(G,i({},R,{key:P})));w.push({block:q,wrapperTemplate:j,key:P,offsetKey:N}),E=j?T.getDepth():null,A=j}for(var U=[],W=0;W<w.length;){var J=w[W];if(J.wrapperTemplate){var Y=[];do{Y.push(w[W].block),W++}while(W<w.length&&w[W].wrapperTemplate===J.wrapperTemplate);var $=l.cloneElement(J.wrapperTemplate,{key:J.key+"-wrap","data-offset-key":J.offsetKey},Y);U.push($)}else U.push(J.block),W++}return l.createElement("div",{"data-contents":"true"},U)},n}(l.Component);t.exports=d},10086:function(t,e,r){"use strict";t.exports=function(t){var e=t||"",r=arguments.length;if(r>1)for(var n=1;n<r;n++){var i=arguments[n];i&&(e=(e?e+" ":"")+i)}return e}},10087:function(t,e,r){"use strict";var n=r(9266),i=r(7446),o=r(7323),a=r(8512),s=r(8513),c=r(9268),l=r(9257),u=r(9251),h=r(8517),f=r(7447);var p={onDragEnd:function(t){t.exitCurrentMode(),d(t)},onDrop:function(t,e){var r=new n(e.nativeEvent.dataTransfer),u=t._latestEditorState,p=function(t,e){var r=null,n=null,i=s(t.currentTarget);if("function"==typeof i.caretRangeFromPoint){var o=i.caretRangeFromPoint(t.x,t.y);r=o.startContainer,n=o.startOffset}else{if(!t.rangeParent)return null;r=t.rangeParent,n=t.rangeOffset}r=f(r),n=f(n);var c=f(a(r));return l(e,c,n,c,n)}(e.nativeEvent,u);if(e.preventDefault(),t._dragCount=0,t.exitCurrentMode(),null!=p){var y=r.getFiles();if(y.length>0){if(t.props.handleDroppedFiles&&h(t.props.handleDroppedFiles(p,y)))return;c(y,(function(e){e&&t.update(m(u,p,e))}))}else{var v=t._internalDrag?"internal":"external";t.props.handleDrop&&h(t.props.handleDrop(p,r,v))||(t._internalDrag?t.update(function(t,e){var r=i.moveText(t.getCurrentContent(),t.getSelection(),e);return o.push(t,r,"insert-fragment")}(u,p)):t.update(m(u,p,r.getText()))),d(t)}}}};function d(t){t._internalDrag=!1;var e=t.editorContainer;if(e){var r=new MouseEvent("mouseup",{view:u(e),bubbles:!0,cancelable:!0});e.dispatchEvent(r)}}function m(t,e,r){var n=i.insertText(t.getCurrentContent(),e,r,t.getCurrentInlineStyle());return o.push(t,n,"insert-fragment")}t.exports=p},10088:function(t,e,r){"use strict";var n={isImage:function(t){return"image"===i(t)[0]},isJpeg:function(t){var e=i(t);return n.isImage(t)&&("jpeg"===e[1]||"pjpeg"===e[1])}};function i(t){return t.split("/")}t.exports=n},10089:function(t,e,r){"use strict";var n=r(7314);t.exports=function(t){return function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}(t)?Array.isArray(t)?t.slice():function(t){var e=t.length;if((Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t)&&n(!1),"number"!=typeof e&&n(!1),0===e||e-1 in t||n(!1),"function"==typeof t.callee&&n(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(t){}for(var r=Array(e),i=0;i<e;i++)r[i]=t[i];return r}(t):[t]}},10090:function(t,e,r){"use strict";var n=r(7484),i=r(10091),o=r(10094),a=r(10095),s=r(10096),c=r(10097),l=r(10099),u=r(10100),h=r(10101),f=r(10102),p=r(10103),d=r(10110),m=r(9252),y=n.isBrowser("Chrome")?m:function(t){},v={onBeforeInput:i,onBlur:o,onCompositionStart:a,onCopy:s,onCut:c,onDragOver:l,onDragStart:u,onFocus:h,onInput:f,onKeyDown:p,onPaste:d,onSelect:m,onMouseUp:y,onKeyUp:y};t.exports=v},10091:function(t,e,r){"use strict";var n=r(7446),i=r(7323),o=r(7484),a=r(7973),s=r(8517),c=r(10092),l=r(7447),u=r(10093),h=o.isBrowser("Firefox");function f(t,e,r,o,a){var s=n.replaceText(t.getCurrentContent(),t.getSelection(),e,r,o);return i.push(t,s,"insert-characters",a)}t.exports=function(t,e){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var r=t._latestEditorState,n=e.data;if(n)if(t.props.handleBeforeInput&&s(t.props.handleBeforeInput(n,r,e.timeStamp)))e.preventDefault();else{var o=r.getSelection(),p=o.getStartOffset(),d=o.getAnchorKey();if(!o.isCollapsed())return e.preventDefault(),void t.update(f(r,n,r.getCurrentInlineStyle(),a(r.getCurrentContent(),r.getSelection()),!0));var m,y=f(r,n,r.getCurrentInlineStyle(),a(r.getCurrentContent(),r.getSelection()),!1),v=!1;if(v||(v=c(t._latestCommittedEditorState)),!v){var g=r.getBlockTree(d),b=y.getBlockTree(d);v=g.size!==b.size||g.zip(b).some((function(t){var e=t[0],r=t[1],i=e.get("start"),o=i+(i>=p?n.length:0),a=e.get("end"),s=a+(a>=p?n.length:0),c=r.get("start"),l=r.get("end"),u=r.get("decoratorKey");return e.get("decoratorKey")!==u||e.get("leaves").size!==r.get("leaves").size||o!==c||s!==l||null!=u&&l-c!=a-i}))}if(v||(m=n,v=h&&("'"==m||"/"==m)),v||(v=l(y.getDirectionMap()).get(d)!==l(r.getDirectionMap()).get(d)),v)return e.preventDefault(),y=i.set(y,{forceSelection:!0}),void t.update(y);y=i.set(y,{nativelyRenderedContent:y.getCurrentContent()}),t._pendingStateFromBeforeInput=y,u((function(){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0)}))}}},10092:function(t,e,r){"use strict";t.exports=function(t){var e=t.getSelection(),r=e.getAnchorKey(),n=t.getBlockTree(r),i=e.getStartOffset(),o=!1;return n.some((function(t){return i===t.get("start")?(o=!0,!0):i<t.get("end")&&t.get("leaves").some((function(t){var e=t.get("start");return i===e&&(o=!0,!0)}))})),o}},10093:function(t,e,r){"use strict";(function(e){r(1132),t.exports=e.setImmediate}).call(this,r(35))},10094:function(t,e,r){"use strict";var n=r(7323),i=r(8895),o=r(9262);t.exports=function(t,e){var r=e.currentTarget.ownerDocument;if(!Boolean(t.props.preserveSelectionOnBlur)&&o(r)===r.body){var a=r.defaultView.getSelection(),s=t.editor;1===a.rangeCount&&i(s,a.anchorNode)&&i(s,a.focusNode)&&a.removeAllRanges()}var c=t._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var u=l.set("hasFocus",!1);t.props.onBlur&&t.props.onBlur(e),t.update(n.acceptSelection(c,u))}}},10095:function(t,e,r){"use strict";var n=r(7323);t.exports=function(t,e){t.setMode("composite"),t.update(n.set(t._latestEditorState,{inCompositionMode:!0})),t._onCompositionStart(e)}},10096:function(t,e,r){"use strict";var n=r(9269);t.exports=function(t,e){t._latestEditorState.getSelection().isCollapsed()?e.preventDefault():t.setClipboard(n(t._latestEditorState))}},10097:function(t,e,r){"use strict";var n=r(7446),i=r(7323),o=r(8515),a=r(9269),s=r(8516),c=r(10098);t.exports=function(t,e){var r,l=t._latestEditorState,u=l.getSelection(),h=e.target;if(u.isCollapsed())e.preventDefault();else{if(c(h)){var f=h;r=s(o.getScrollParent(f))}var p=a(l);t.setClipboard(p),t.setMode("cut"),setTimeout((function(){t.restoreEditorDOM(r),t.exitCurrentMode(),t.update(function(t){var e=n.removeRange(t.getCurrentContent(),t.getSelection(),"forward");return i.push(t,e,"remove-range")}(l))}),0)}}},10098:function(t,e,r){"use strict";t.exports=function(t){if(!t||!("ownerDocument"in t))return!1;if("ownerDocument"in t){var e=t;if(!e.ownerDocument.defaultView)return e instanceof Node;if(e instanceof e.ownerDocument.defaultView.Node)return!0}return!1}},10099:function(t,e,r){"use strict";t.exports=function(t,e){t.setMode("drag"),e.preventDefault()}},10100:function(t,e,r){"use strict";t.exports=function(t){t._internalDrag=!0,t.setMode("drag")}},10101:function(t,e,r){"use strict";var n=r(7323),i=r(7484);t.exports=function(t,e){var r=t._latestEditorState,o=r.getSelection();if(!o.getHasFocus()){var a=o.set("hasFocus",!0);t.props.onFocus&&t.props.onFocus(e),i.isBrowser("Chrome < 60.0.3081.0")?t.update(n.forceSelection(r,a)):t.update(n.acceptSelection(r,a))}}},10102:function(t,e,r){"use strict";var n=r(7446),i=r(7653),o=r(7323),a=r(7484),s=r(9258).notEmptyKey,c=r(8512),l=r(8342),u=r(7447),h=a.isEngine("Gecko");t.exports=function(t,e){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var r=t.editor.ownerDocument.defaultView.getSelection(),a=r.anchorNode,f=r.isCollapsed;if(!((null==a?void 0:a.nodeType)!==Node.TEXT_NODE&&(null==a?void 0:a.nodeType)!==Node.ELEMENT_NODE)){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var p=a.parentNode;a.nodeValue=p.textContent;for(var d=p.firstChild;null!==d;d=d.nextSibling)d!==a&&p.removeChild(d)}var m=a.textContent,y=t._latestEditorState,v=u(c(a)),g=i.decode(v),b=g.blockKey,k=g.decoratorKey,_=g.leafKey,x=y.getBlockTree(b).getIn([k,"leaves",_]),S=x.start,w=x.end,E=y.getCurrentContent(),A=E.getBlockForKey(b),C=A.getText().slice(S,w);if(m.endsWith("\n\n")&&(m=m.slice(0,-1)),m!==C){var T,P,D,O,M=y.getSelection(),F=M.merge({anchorOffset:S,focusOffset:w,isBackward:!1}),B=A.getEntityAt(S),I=s(B)?E.getEntity(B):null,N="MUTABLE"===(null!=I?I.getMutability():null),R=N?"spellcheck-change":"apply-entity",L=n.replaceText(E,F,m,A.getInlineStyleAt(S),N?A.getEntityAt(S):null);if(h)T=r.anchorOffset,P=r.focusOffset,O=(D=S+Math.min(T,P))+Math.abs(T-P),T=D,P=O;else{var j=m.length-C.length;D=M.getStartOffset(),O=M.getEndOffset(),T=f?O+j:D,P=O+j}var z=L.merge({selectionBefore:E.getSelectionAfter(),selectionAfter:M.merge({anchorOffset:T,focusOffset:P})});t.update(o.push(y,z,R))}else{var K=e.nativeEvent.inputType;if(K){var V=function(t,e){switch(t){case"deleteContentBackward":return l(e)}return e}(K,y);if(V!==y)return t.restoreEditorDOM(),void t.update(V)}}}}},10103:function(t,e,r){"use strict";var n=r(7446),i=r(7323),o=r(8899),a=r(8514),s=r(10105),c=r(7484),l=r(8517),u=r(8518),h=r(8519),f=r(8520),p=r(10108),d=r(8521),m=r(8522),y=r(8342),v=r(8523),g=r(8524),b=r(10109),k=o.isOptionKeyCommand,_=c.isBrowser("Chrome");t.exports=function(t,e){var r=e.which,o=t._latestEditorState;function c(r){var n=t.props[r];return!!n&&(n(e),!0)}switch(r){case a.RETURN:if(e.preventDefault(),t.props.handleReturn&&l(t.props.handleReturn(e,o)))return;break;case a.ESC:if(e.preventDefault(),c("onEscape"))return;break;case a.TAB:if(c("onTab"))return;break;case a.UP:if(c("onUpArrow"))return;break;case a.RIGHT:if(c("onRightArrow"))return;break;case a.DOWN:if(c("onDownArrow"))return;break;case a.LEFT:if(c("onLeftArrow"))return;break;case a.SPACE:_&&k(e)&&e.preventDefault()}var x=t.props.keyBindingFn(e);if(null!=x&&""!==x)if("undo"!==x){if(e.preventDefault(),!t.props.handleKeyCommand||!l(t.props.handleKeyCommand(x,o,e.timeStamp))){var S=function(t,e,r){switch(t){case"redo":return i.redo(e);case"delete":return v(e);case"delete-word":return f(e);case"backspace":return y(e);case"backspace-word":return h(e);case"backspace-to-start-of-line":return u(e,r);case"split-block":return p(e);case"transpose-characters":return g(e);case"move-selection-to-start-of-block":return m(e);case"move-selection-to-end-of-block":return d(e);case"secondary-cut":return s.cut(e);case"secondary-paste":return s.paste(e);default:return e}}(x,o,e);S!==o&&t.update(S)}}else b(e,o,t.update);else if(r===a.SPACE&&_&&k(e)){var w=n.replaceText(o.getCurrentContent(),o.getSelection()," ");t.update(i.push(o,w,"insert-characters"))}}},10104:function(t,e,r){"use strict";var n=r(8514);t.exports=function(t){return t.which===n.RETURN&&(t.getModifierState("Shift")||t.getModifierState("Alt")||t.getModifierState("Control"))}},10105:function(t,e,r){"use strict";var n=r(7446),i=r(7323),o=r(8508),a=r(7447),s=null,c={cut:function(t){var e=t.getCurrentContent(),r=t.getSelection(),c=null;if(r.isCollapsed()){var l=r.getAnchorKey(),u=e.getBlockForKey(l).getLength();if(u===r.getAnchorOffset()){var h=e.getKeyAfter(l);if(null==h)return t;c=r.set("focusKey",h).set("focusOffset",0)}else c=r.set("focusOffset",u)}else c=r;c=a(c),s=o(e,c);var f=n.removeRange(e,c,"forward");return f===e?t:i.push(t,f,"remove-range")},paste:function(t){if(!s)return t;var e=n.replaceWithFragment(t.getCurrentContent(),t.getSelection(),s);return i.push(t,e,"insert-fragment")}};t.exports=c},10106:function(t,e,r){"use strict";var n=r(7897),i=r(8513),o=r(9270),a=r(7314);function s(t,e){for(var r=1/0,n=1/0,i=-1/0,o=-1/0,a=0;a<t.length;a++){var s=t[a];0!==s.width&&1!==s.width&&(r=Math.min(r,s.top),n=Math.min(n,s.bottom),i=Math.max(i,s.top),o=Math.max(o,s.bottom))}return i<=n&&i-r<e&&o-n<e}function c(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}t.exports=function(t){t.collapsed||a(!1);var e=(t=t.cloneRange()).startContainer;1!==e.nodeType&&(e=e.parentNode);var r=function(t){var e=getComputedStyle(t),r=i(t),n=r.createElement("div");n.style.fontFamily=e.fontFamily,n.style.fontSize=e.fontSize,n.style.fontStyle=e.fontStyle,n.style.fontWeight=e.fontWeight,n.style.lineHeight=e.lineHeight,n.style.position="absolute",n.textContent="M";var o=r.body;o||a(!1),o.appendChild(n);var s=n.getBoundingClientRect();return o.removeChild(n),s.height}(e),l=t.endContainer,u=t.endOffset;for(t.setStart(t.startContainer,0);s(o(t),r)&&(l=t.startContainer,u=t.startOffset,l.parentNode||a(!1),t.setStartBefore(l),1!==l.nodeType||"inline"===getComputedStyle(l).display););for(var h=l,f=u-1;;){for(var p=h.nodeValue,d=f;d>=0;d--)if(!(null!=p&&d>0&&n.isSurrogatePair(p,d-1))){if(t.setStart(h,d),!s(o(t),r))break;l=h,u=d}if(-1===d||0===h.childNodes.length)break;f=c(h=h.childNodes[d])}return t.setStart(l,u),t}},10107:function(t,e,r){"use strict";t.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},10108:function(t,e,r){"use strict";var n=r(7446),i=r(7323);t.exports=function(t){var e=n.splitBlock(t.getCurrentContent(),t.getSelection());return i.push(t,e,"split-block")}},10109:function(t,e,r){"use strict";var n=r(7323);t.exports=function(t,e,r){var i=n.undo(e);if("spellcheck-change"!==e.getLastChangeType())t.preventDefault(),e.getNativelyRenderedContent()?(r(n.set(e,{nativelyRenderedContent:null})),setTimeout((function(){r(i)}),0)):r(i);else{var o=i.getCurrentContent();r(n.set(i,{nativelyRenderedContent:o}))}}},10110:function(t,e,r){"use strict";var n=r(8339),i=r(7507),o=r(9266),a=r(7446),s=r(10111),c=r(7323),l=r(9275),u=r(7973),h=r(9268),f=r(8517),p=r(10116);function d(t,e,r){var n=a.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return c.push(t,n.set("entityMap",r),"insert-fragment")}t.exports=function(t,e){e.preventDefault();var r=new o(e.clipboardData);if(!r.isRichText()){var m=r.getFiles(),y=r.getText();if(m.length>0){if(t.props.handlePastedFiles&&f(t.props.handlePastedFiles(m)))return;return void h(m,(function(e){if(e=e||y){var r=t._latestEditorState,o=p(e),h=i.create({style:r.getCurrentInlineStyle(),entity:u(r.getCurrentContent(),r.getSelection())}),f=l.getCurrentBlockType(r),d=s.processText(o,h,f),m=n.createFromArray(d),v=a.replaceWithFragment(r.getCurrentContent(),r.getSelection(),m);t.update(c.push(r,v,"insert-fragment"))}}))}}var v=[],g=r.getText(),b=r.getHTML(),k=t._latestEditorState;if(!t.props.handlePastedText||!f(t.props.handlePastedText(g,b,k))){if(g&&(v=p(g)),!t.props.stripPastedStyles){var _=t.getClipboard();if(r.isRichText()&&_){if(-1!==b.indexOf(t.getEditorKey())||1===v.length&&1===_.size&&_.first().getText()===g)return void t.update(d(t._latestEditorState,_))}else if(_&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&function(t,e){return t.length===e.size&&e.valueSeq().every((function(e,r){return e.getText()===t[r]}))}(v,_))return void t.update(d(t._latestEditorState,_));if(b){var x=s.processHTML(b,t.props.blockRenderMap);if(x){var S=x.contentBlocks,w=x.entityMap;if(S){var E=n.createFromArray(S);return void t.update(d(t._latestEditorState,E,w))}}}t.setClipboard(null)}if(v.length){var A=i.create({style:k.getCurrentInlineStyle(),entity:u(k.getCurrentContent(),k.getSelection())}),C=l.getCurrentBlockType(k),T=s.processText(v,A,C),P=n.createFromArray(T);t.update(d(t._latestEditorState,P))}}}},10111:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r(7894),o=r(7508),a=r(9273),s=r(7598),c=r(9274),l=r(7724),u=r(7308),h=r(9248),f=u.List,p=u.Repeat,d=l("draft_tree_data_support"),m=d?o:i,y={processHTML:function(t,e){return a(t,c,e)},processText:function(t,e,r){return t.reduce((function(t,i,o){i=h(i);var a=s(),c={key:a,type:r,text:i,characterList:f(p(e,i.length))};if(d&&0!==o){var l=o-1;c=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),i.forEach((function(e){n(t,e,r[e])}))}return t}({},c,{prevSibling:(t[l]=t[l].merge({nextSibling:a})).getKey()})}return t.push(new m(c)),t}),[])}};t.exports=y},10112:function(t,e,r){"use strict";var n=function(){function t(t){var e,r,n;n=void 0,(r="_uri")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,this._uri=t}return t.prototype.toString=function(){return this._uri},t}();t.exports=n},10113:function(t,e,r){"use strict";var n=r(7896);t.exports=function(t){return!(!t||!t.ownerDocument)&&(n(t)&&"A"===t.nodeName)}},10114:function(t,e,r){"use strict";var n=r(7896);t.exports=function(t){return!(!t||!t.ownerDocument)&&(n(t)&&"IMG"===t.nodeName)}},10115:function(t,e,r){"use strict";t.exports=function(t,e,r,n){var i=e.getStartKey(),o=e.getEndKey(),a=t.getBlockMap(),s=a.toSeq().skipUntil((function(t,e){return e===i})).takeUntil((function(t,e){return e===o})).concat([[o,a.get(o)]]).map((function(t){var e=t.getDepth()+r;return e=Math.max(0,Math.min(e,n)),t.set("depth",e)}));return a=a.merge(s),t.merge({blockMap:a,selectionBefore:e,selectionAfter:e})}},10116:function(t,e,r){"use strict";var n=/\r\n?|\n/g;t.exports=function(t){return t.split(n)}},10117:function(t,e,r){"use strict";var n=r(70).unstable_flushControlled;t.exports=n},10118:function(t,e,r){"use strict";var n=r(0),i=r(7895),o=function(t){var e,r;function o(){return t.apply(this,arguments)||this}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=o.prototype;return a.shouldComponentUpdate=function(t){return this.props.text!==t.text||this.props.editorState.getSelection().getHasFocus()!==t.editorState.getSelection().getHasFocus()},a.render=function(){var t=this.props.editorState.getSelection().getHasFocus(),e=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":t});return n.createElement("div",{className:e},n.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},o}(n.Component);t.exports=o},10119:function(t,e,r){},10120:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r(7894),o=r(7508),a=r(9276),s=r(10121),c=r(10122),l=r(7314),u=function(t,e){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:c(t),entityRanges:s(t,e),data:t.getData().toObject()}},h=function(t,e,r,a){if(t instanceof i)r.push(u(t,e));else{t instanceof o||l(!1);var s=t.getParentKey(),c=a[t.getKey()]=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),i.forEach((function(e){n(t,e,r[e])}))}return t}({},u(t,e),{children:[]});s?a[s].children.push(c):r.push(c)}};t.exports=function(t){var e={entityMap:{},blocks:[]};return e=function(t,e){var r=e.entityMap,n=[],i={},o={},s=0;return t.getBlockMap().forEach((function(t){t.findEntityRanges((function(t){return null!==t.getEntity()}),(function(e){var n=t.getEntityAt(e),i=a.stringify(n);o[i]||(o[i]=n,r[i]="".concat(s),s++)})),h(t,r,n,i)})),{blocks:n,entityMap:r}}(t,e),e=function(t,e){var r=e.blocks,n=e.entityMap,i={};return Object.keys(n).forEach((function(e,r){var n=t.getEntity(a.unstringify(e));i[r]={type:n.getType(),mutability:n.getMutability(),data:n.getData()}})),{blocks:r,entityMap:i}}(t,e)}},10121:function(t,e,r){"use strict";var n=r(9276),i=r(7897).strlen;t.exports=function(t,e){var r=[];return t.findEntityRanges((function(t){return!!t.getEntity()}),(function(o,a){var s=t.getText(),c=t.getEntityAt(o);r.push({offset:i(s.slice(0,o)),length:i(s.slice(o,a)),key:Number(e[n.stringify(c)])})})),r}},10122:function(t,e,r){"use strict";var n=r(7897),i=r(8340),o=function(t,e){return t===e},a=function(t){return!!t},s=[];t.exports=function(t){var e=t.getCharacterList().map((function(t){return t.getStyle()})).toList(),r=e.flatten().toSet().map((function(r){return function(t,e,r){var s=[],c=e.map((function(t){return t.has(r)})).toList();return i(c,o,a,(function(e,i){var o=t.getText();s.push({offset:n.strlen(o.slice(0,e)),length:n.strlen(o.slice(e,i)),style:r})})),s}(t,e,r)}));return Array.prototype.concat.apply(s,r.toJS())}},10123:function(t,e,r){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){i(t,e,r[e])}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(7894),a=r(7508),s=r(8892),c=r(8509),l=r(10124),u=(r(10125),r(8510)),h=r(10126),f=r(10127),p=r(10128),d=r(7598),m=r(7724),y=r(7308),v=r(7314),g=m("draft_tree_data_support"),b=y.List,k=y.Map,_=y.OrderedMap,x=function(t,e){var r=t.key,n=t.type,i=t.data;return{text:t.text,depth:t.depth||0,type:n||"unstyled",key:r||d(),data:k(i),characterList:S(t,e)}},S=function(t,e){var r=t.text,i=t.entityRanges,o=t.inlineStyleRanges,a=i||[];return h(p(r,o||[]),f(r,a.filter((function(t){return e.hasOwnProperty(t.key)})).map((function(t){return n({},t,{key:e[t.key]})}))))},w=function(t){return n({},t,{key:t.key||d()})},E=function(t,e,r){var i=e.map((function(t){return n({},t,{parentRef:r})}));return t.concat(i.reverse())},A=function(t,e){var r=t.blocks.find((function(t){return Array.isArray(t.children)&&t.children.length>0})),i=g&&!r?l.fromRawStateToRawTreeState(t).blocks:t.blocks;return g?function(t,e){return t.map(w).reduce((function(r,i,o){Array.isArray(i.children)||v(!1);var s=i.children.map(w),c=new a(n({},x(i,e),{prevSibling:0===o?null:t[o-1].key,nextSibling:o===t.length-1?null:t[o+1].key,children:b(s.map((function(t){return t.key})))}));r=r.set(c.getKey(),c);for(var l=E([],s,c);l.length>0;){var u=l.pop(),h=u.parentRef,f=h.getChildKeys(),p=f.indexOf(u.key),d=Array.isArray(u.children);if(!d){d||v(!1);break}var m=u.children.map(w),y=new a(n({},x(u,e),{parent:h.getKey(),children:b(m.map((function(t){return t.key}))),prevSibling:0===p?null:f.get(p-1),nextSibling:p===f.size-1?null:f.get(p+1)}));r=r.set(y.getKey(),y),l=E(l,m,y)}return r}),_())}(i,e):function(t,e){return _(t.map((function(t){var r=new o(x(t,e));return[r.getKey(),r]})))}(r?l.fromRawTreeStateToRawState(t).blocks:i,e)};t.exports=function(t){Array.isArray(t.blocks)||v(!1);var e=function(t){var e=t.entityMap,r={};return Object.keys(e).forEach((function(t){var n=e[t],i=n.type,o=n.mutability,a=n.data;r[t]=c.__create(i,o,a||{})})),r}(t),r=A(t,e),n=r.isEmpty()?new u:u.createEmpty(r.first().getKey());return new s({blockMap:r,entityMap:e,selectionBefore:n,selectionAfter:n})}},10124:function(t,e,r){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){i(t,e,r[e])}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(7598),a=r(7314),s=function(t){if(!t||!t.type)return!1;var e=t.type;return"unordered-list-item"===e||"ordered-list-item"===e},c={fromRawTreeStateToRawState:function(t){var e=t.blocks,r=[];return Array.isArray(e)||a(!1),Array.isArray(e)&&e.length?(function(t,e){for(var r=[].concat(t).reverse();r.length;){var n=r.pop();e(n);var i=n.children;Array.isArray(i)||a(!1),r=r.concat([].concat(i.reverse()))}}(e,(function(t){var e=n({},t);s(t)&&(e.depth=e.depth||0,function(t){Array.isArray(t.children)&&(t.children=t.children.map((function(e){return e.type===t.type?n({},e,{depth:(t.depth||0)+1}):e})))}(t),null!=t.children&&t.children.length>0)||(delete e.children,r.push(e))})),t.blocks=r,n({},t,{blocks:r})):t},fromRawStateToRawTreeState:function(t){var e=[],r=[];return t.blocks.forEach((function(t){var i=s(t),a=t.depth||0,c=n({},t,{children:[]});if(i){var l=r[0];if(null==l&&0===a)e.push(c);else if(null==l||l.depth<a-1){var u={key:o(),text:"",depth:a-1,type:t.type,children:[],entityRanges:[],inlineStyleRanges:[]};r.unshift(u),1===a?e.push(u):null!=l&&l.children.push(u),u.children.push(c)}else if(l.depth===a-1)l.children.push(c);else{for(;null!=l&&l.depth>=a;)r.shift(),l=r[0];a>0?l.children.push(c):e.push(c)}}else e.push(c)})),n({},t,{blocks:e})}};t.exports=c},10125:function(t,e,r){"use strict";r(8898);var n={isValidBlock:function(t,e){var r=t.getKey(),n=t.getParentKey();if(null!=n&&!e.get(n).getChildKeys().includes(r))return!1;if(!t.getChildKeys().map((function(t){return e.get(t)})).every((function(t){return t.getParentKey()===r})))return!1;var i=t.getPrevSiblingKey();if(null!=i&&e.get(i).getNextSiblingKey()!==r)return!1;var o=t.getNextSiblingKey();if(null!=o&&e.get(o).getPrevSiblingKey()!==r)return!1;return(null===o||null===i||i!==o)&&!(""!=t.text&&t.getChildKeys().size>0)},isConnectedTree:function(t){var e=t.toArray().filter((function(t){return null==t.getParentKey()&&null==t.getPrevSiblingKey()}));if(1!==e.length)return!1;for(var r=0,n=e.shift().getKey(),i=[];null!=n;){var o=t.get(n),a=o.getChildKeys(),s=o.getNextSiblingKey();if(a.size>0){null!=s&&i.unshift(s);var c=a.map((function(e){return t.get(e)})).find((function(t){return null==t.getPrevSiblingKey()}));if(null==c)return!1;n=c.getKey()}else n=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();r++}return r===t.size},isValidTree:function(t){var e=this;return!!t.toArray().every((function(r){return e.isValidBlock(r,t)}))&&this.isConnectedTree(t)}};t.exports=n},10126:function(t,e,r){"use strict";var n=r(7507),i=r(7308).List;t.exports=function(t,e){var r=t.map((function(t,r){var i=e[r];return n.create({style:t,entity:i})}));return i(r)}},10127:function(t,e,r){"use strict";var n=r(7897).substr;t.exports=function(t,e){var r=Array(t.length).fill(null);return e&&e.forEach((function(e){for(var i=n(t,0,e.offset).length,o=i+n(t,e.offset,e.length).length,a=i;a<o;a++)r[a]=e.key})),r}},10128:function(t,e,r){"use strict";var n=r(7897),i=r(7308).OrderedSet,o=n.substr,a=i();t.exports=function(t,e){var r=Array(t.length).fill(a);return e&&e.forEach((function(e){for(var n=o(t,0,e.offset).length,i=n+o(t,e.offset,e.length).length;n<i;)r[n]=r[n].add(e.style),n++})),r}},10129:function(t,e,r){"use strict";var n=r(10130);t.exports=function(t){var e=t.getSelection();if(!e.rangeCount)return null;var r=e.getRangeAt(0),i=n(r),o=i.top,a=i.right,s=i.bottom,c=i.left;return 0===o&&0===a&&0===s&&0===c?null:i}},10130:function(t,e,r){"use strict";var n=r(9270);t.exports=function(t){var e=n(t),r=0,i=0,o=0,a=0;if(e.length){if(e.length>1&&0===e[0].width){var s=e[1];r=s.top,i=s.right,o=s.bottom,a=s.left}else{var c=e[0];r=c.top,i=c.right,o=c.bottom,a=c.left}for(var l=1;l<e.length;l++){var u=e[l];0!==u.height&&0!==u.width&&(r=Math.min(r,u.top),i=Math.max(i,u.right),o=Math.max(o,u.bottom),a=Math.min(a,u.left))}}return{top:r,right:i,bottom:o,left:a,width:i-a,height:o-r}}},5046:function(t,e,r){"use strict";var n=r(5270),i=r(351),o=r(5271);function a(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t,e){var r=function(t){var e;switch(t.arrayFormat){case"index":return function(t,r,n){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return function(t,r,n){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};default:return function(t,e,r){void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e=i({arrayFormat:"none"},e)),n=Object.create(null);return"string"!=typeof t?n:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),a=e.length>0?e.join("="):void 0;a=void 0===a?null:o(a),r(o(i),a,n)})),Object.keys(n).sort().reduce((function(t,e){var r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((function(t,e){return Number(t)-Number(e)})).map((function(t){return e[t]})):e}(r):t[e]=r,t}),Object.create(null))):n},e.stringify=function(t,e){var r=function(t){switch(t.arrayFormat){case"index":return function(e,r,n){return null===r?[a(e,t),"[",n,"]"].join(""):[a(e,t),"[",a(n,t),"]=",a(r,t)].join("")};case"bracket":return function(e,r){return null===r?a(e,t):[a(e,t),"[]=",a(r,t)].join("")};default:return function(e,r){return null===r?a(e,t):[a(e,t),"=",a(r,t)].join("")}}}(e=i({encode:!0,strict:!0,arrayFormat:"none"},e));return t?Object.keys(t).sort().map((function(n){var i=t[n];if(void 0===i)return"";if(null===i)return a(n,e);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(t){void 0!==t&&o.push(r(n,t,o.length))})),o.join("&")}return a(n,e)+"="+a(i,e)})).filter((function(t){return t.length>0})).join("&"):""}},5270:function(t,e,r){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}},5271:function(t,e,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],o(r),o(n))}function a(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(n),r=1;r<e.length;r++)e=(t=o(e,r).join("")).match(n);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=i.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=a(r[0]);n!==r[0]&&(e[r[0]]=n)}r=i.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),s=0;s<o.length;s++){var c=o[s];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},5272:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof navigator&&function(t,e){void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return e(t)}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window||{},(function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===typeof t&&t.length){var e,r=createSizedArray(t.length),n=t.length;for(e=0;e<n;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,n){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,n){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+ ++_count}),_count;function HSVtoRGB(t,e,r){var n,i,o,a,s,c,l,u;switch(c=r*(1-e),l=r*(1-(s=6*t-(a=Math.floor(6*t)))*e),u=r*(1-(1-s)*e),a%6){case 0:n=r,i=u,o=c;break;case 1:n=l,i=r,o=c;break;case 2:n=c,i=r,o=u;break;case 3:n=c,i=l,o=r;break;case 4:n=u,i=c,o=r;break;case 5:n=r,i=c,o=l}return[n,i,o]}function RGBtoHSV(t,e,r){var n,i=Math.max(t,e,r),o=Math.min(t,e,r),a=i-o,s=0===i?0:a/i,c=i/255;switch(i){case o:n=0;break;case t:n=e-r+a*(e<r?6:0),n/=6*a;break;case e:n=r-t+2*a,n/=6*a;break;case r:n=t-e+4*a,n/=6*a}return[n,s,c]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1==e.length?"0"+e:e;return function(t,e,n){return t<0&&(t=0),e<0&&(e=0),n<0&&(n=0),"#"+r[t]+r[e]+r[n]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t].length,n=0;n<r;n++)this._cbs[t][n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,n=this._cbs[t].length;r<n;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,n-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var r,n=0,i=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<e;n+=1)i.push(r);return i};function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,n=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1)}function s(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1)}function c(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function l(t,e){return this._t(1,e,t,1,0,0)}function u(t,e){return this.shear(r(t),r(e))}function h(n,i){var o=t(i),a=e(i);return this._t(o,a,0,0,-a,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(o,-a,0,0,a,o,0,0,0,0,1,0,0,0,0,1)}function f(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function p(t,e,r,n,i,o,a,s,c,l,u,h,f,p,d,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=n,this.props[4]=i,this.props[5]=o,this.props[6]=a,this.props[7]=s,this.props[8]=c,this.props[9]=l,this.props[10]=u,this.props[11]=h,this.props[12]=f,this.props[13]=p,this.props[14]=d,this.props[15]=m,this}function d(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,n,i,o,a,s,c,l,u,h,f,p,d,m){var y=this.props;if(1===t&&0===e&&0===r&&0===n&&0===i&&1===o&&0===a&&0===s&&0===c&&0===l&&1===u&&0===h)return y[12]=y[12]*t+y[15]*f,y[13]=y[13]*o+y[15]*p,y[14]=y[14]*u+y[15]*d,y[15]=y[15]*m,this._identityCalculated=!1,this;var v=y[0],g=y[1],b=y[2],k=y[3],_=y[4],x=y[5],S=y[6],w=y[7],E=y[8],A=y[9],C=y[10],T=y[11],P=y[12],D=y[13],O=y[14],M=y[15];return y[0]=v*t+g*i+b*c+k*f,y[1]=v*e+g*o+b*l+k*p,y[2]=v*r+g*a+b*u+k*d,y[3]=v*n+g*s+b*h+k*m,y[4]=_*t+x*i+S*c+w*f,y[5]=_*e+x*o+S*l+w*p,y[6]=_*r+x*a+S*u+w*d,y[7]=_*n+x*s+S*h+w*m,y[8]=E*t+A*i+C*c+T*f,y[9]=E*e+A*o+C*l+T*p,y[10]=E*r+A*a+C*u+T*d,y[11]=E*n+A*s+C*h+T*m,y[12]=P*t+D*i+O*c+M*f,y[13]=P*e+D*o+O*l+M*p,y[14]=P*r+D*a+O*u+M*d,y[15]=P*n+D*s+O*h+M*m,this._identityCalculated=!1,this}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function g(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function b(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function k(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function _(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function x(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function S(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function w(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],r=this.props[5]/e,n=-this.props[1]/e,i=-this.props[4]/e,o=this.props[0]/e,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*r+t[1]*i+a,t[0]*n+t[1]*o+s,0]}function E(t){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n[e]=w(t[e]);return n}function A(t,e,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],n[4]=r[0],n[5]=r[1];else{var i=this.props[0],o=this.props[1],a=this.props[4],s=this.props[5],c=this.props[12],l=this.props[13];n[0]=t[0]*i+t[1]*a+c,n[1]=t[0]*o+t[1]*s+l,n[2]=e[0]*i+e[1]*a+c,n[3]=e[0]*o+e[1]*s+l,n[4]=r[0]*i+r[1]*a+c,n[5]=r[0]*o+r[1]*s+l}return n}function C(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function T(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function P(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=n(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function D(t){return t<1e-6&&t>0||t>-1e-6&&t<0?n(1e4*t)/1e4:t}function O(){var t=this.props;return"matrix("+D(t[0])+","+D(t[1])+","+D(t[4])+","+D(t[5])+","+D(t[12])+","+D(t[13])+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=a,this.rotateY=s,this.rotateZ=c,this.skew=u,this.skewFromAxis=h,this.shear=l,this.scale=f,this.setTransform=p,this.translate=d,this.transform=m,this.applyToPoint=k,this.applyToX=_,this.applyToY=x,this.applyToZ=S,this.applyToPointArray=C,this.applyToTriplePoints=A,this.applyToPointStringified=T,this.toCSS=P,this.to2dCSS=O,this.clone=g,this.cloneFromProps=b,this.equals=v,this.inversePoints=E,this.inversePoint=w,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){var r=this,n=e.pow(256,6),i=e.pow(2,52),o=2*i;function a(t){var e,r=t.length,n=this,i=0,o=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[o=255&o+t[i%r]+(e=a[i])],a[o]=e;n.g=function(t){for(var e,r=0,i=n.i,o=n.j,a=n.S;t--;)e=a[i=255&i+1],r=256*r+a[255&(a[i]=a[o=255&o+e])+(a[o]=e)];return n.i=i,n.j=o,r}}function s(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function c(t,e){for(var r,n=t+"",i=0;i<n.length;)e[255&i]=255&(r^=19*e[255&i])+n.charCodeAt(i++);return l(e)}function l(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(u,h,f){var p=[],d=c(function t(e,r){var n,i=[],o=typeof e;if(r&&"object"==o)for(n in e)try{i.push(t(e[n],r-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((h=!0===h?{entropy:!0}:h||{}).entropy?[u,l(t)]:null===u?function(){try{void 0;var e=new Uint8Array(256);return(r.crypto||r.msCrypto).getRandomValues(e),l(e)}catch(e){var n=r.navigator,i=n&&n.plugins;return[+new Date,r,i,r.screen,l(t)]}}():u,3),p),m=new a(p),y=function(){for(var t=m.g(6),e=n,r=0;t<i;)t=256*(t+r),e*=256,r=m.g(1);for(;t>=o;)t/=2,e/=2,r>>>=1;return(t+r)/e};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,c(l(m.S),t),(h.pass||f||function(t,r,n,i){return i&&(i.S&&s(i,m),t.state=function(){return s(m,{})}),n?(e.random=t,r):t})(y,d,"global"in h?h.global:this==e,h.state)},c(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,r,n,i,o){var a=o||("bez_"+t+"_"+r+"_"+n+"_"+i).replace(/\./g,"p");if(e[a])return e[a];var s=new c([t,r,n,i]);return e[a]=s,s}},e={};var r="function"==typeof Float32Array;function n(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,r){return((n(e,r)*t+i(e,r))*t+o(e))*t}function s(t,e,r){return 3*n(e,r)*t*t+2*i(e,r)*t+o(e)}function c(t){this._p=t,this._mSampleValues=r?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(t){var e=this._p[0],r=this._p[1],n=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===r&&n===i?t:0===t?0:1===t?1:a(this._getTForX(t),r,i)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=a(.1*r,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],n=this._mSampleValues,i=0,o=1;10!==o&&n[o]<=t;++o)i+=.1;var c=i+.1*((t-n[--o])/(n[o+1]-n[o])),l=s(c,e,r);return l>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var o=s(e,r,n);if(0===o)return e;e-=(a(e,r,n)-t)/o}return e}(t,c,e,r):0===l?c:function(t,e,r,n,i){var o,s,c=0;do{(o=a(s=e+(r-e)/2,n,i)-t)>0?r=s:e=s}while(Math.abs(o)>1e-7&&++c<10);return s}(t,i,i+.1,e,r)}},t}();function extendPrototype(t,e){var r,n,i=t.length;for(r=0;r<i;r+=1)for(var o in n=t[r].prototype)n.hasOwnProperty(o)&&(e.prototype[o]=n[o])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){Math;function t(t,e,r,n,i,o){var a=t*n+e*i+r*o-i*n-o*t-r*e;return a>-.001&&a<.001}var e=function(t,e,r,n){var i,o,a,s,c,l,u=defaultCurveSegments,h=0,f=[],p=[],d=bezier_length_pool.newElement();for(a=r.length,i=0;i<u;i+=1){for(c=i/(u-1),l=0,o=0;o<a;o+=1)s=bm_pow(1-c,3)*t[o]+3*bm_pow(1-c,2)*c*r[o]+3*(1-c)*bm_pow(c,2)*n[o]+bm_pow(c,3)*e[o],f[o]=s,null!==p[o]&&(l+=bm_pow(f[o]-p[o],2)),p[o]=f[o];l&&(h+=l=bm_sqrt(l)),d.percents[i]=c,d.lengths[i]=h}return d.addedLength=h,d};function r(t){this.segmentLength=0,this.points=new Array(t)}function n(t,e){this.partialLength=t,this.point=e}var i,o=(i={},function(e,o,a,s){var c=(e[0]+"_"+e[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!i[c]){var l,u,h,f,p,d,m,y=defaultCurveSegments,v=0,g=null;2===e.length&&(e[0]!=o[0]||e[1]!=o[1])&&t(e[0],e[1],o[0],o[1],e[0]+a[0],e[1]+a[1])&&t(e[0],e[1],o[0],o[1],o[0]+s[0],o[1]+s[1])&&(y=2);var b=new r(y);for(h=a.length,l=0;l<y;l+=1){for(m=createSizedArray(h),p=l/(y-1),d=0,u=0;u<h;u+=1)f=bm_pow(1-p,3)*e[u]+3*bm_pow(1-p,2)*p*(e[u]+a[u])+3*(1-p)*bm_pow(p,2)*(o[u]+s[u])+bm_pow(p,3)*o[u],m[u]=f,null!==g&&(d+=bm_pow(m[u]-g[u],2));v+=d=bm_sqrt(d),b.points[l]=new n(d,m),g=m}b.segmentLength=v,i[c]=b}return i[c]});function a(t,e){var r=e.percents,n=e.lengths,i=r.length,o=bm_floor((i-1)*t),a=t*e.addedLength,s=0;if(o===i-1||0===o||a===n[o])return r[o];for(var c=n[o]>a?-1:1,l=!0;l;)if(n[o]<=a&&n[o+1]>a?(s=(a-n[o])/(n[o+1]-n[o]),l=!1):o+=c,o<0||o>=i-1){if(o===i-1)return r[o];l=!1}return r[o]+(r[o+1]-r[o])*s}var s=createTypedArray("float32",8);return{getSegmentsLength:function(t){var r,n=segments_length_pool.newElement(),i=t.c,o=t.v,a=t.o,s=t.i,c=t._length,l=n.lengths,u=0;for(r=0;r<c-1;r+=1)l[r]=e(o[r],o[r+1],a[r],s[r+1]),u+=l[r].addedLength;return i&&c&&(l[r]=e(o[r],o[0],a[r],s[0]),u+=l[r].addedLength),n.totalLength=u,n},getNewSegment:function(t,e,r,n,i,o,c){var l,u=a(i=i<0?0:i>1?1:i,c),h=a(o=o>1?1:o,c),f=t.length,p=1-u,d=1-h,m=p*p*p,y=u*p*p*3,v=u*u*p*3,g=u*u*u,b=p*p*d,k=u*p*d+p*u*d+p*p*h,_=u*u*d+p*u*h+u*p*h,x=u*u*h,S=p*d*d,w=u*d*d+p*h*d+p*d*h,E=u*h*d+p*h*h+u*d*h,A=u*h*h,C=d*d*d,T=h*d*d+d*h*d+d*d*h,P=h*h*d+d*h*h+h*d*h,D=h*h*h;for(l=0;l<f;l+=1)s[4*l]=Math.round(1e3*(m*t[l]+y*r[l]+v*n[l]+g*e[l]))/1e3,s[4*l+1]=Math.round(1e3*(b*t[l]+k*r[l]+_*n[l]+x*e[l]))/1e3,s[4*l+2]=Math.round(1e3*(S*t[l]+w*r[l]+E*n[l]+A*e[l]))/1e3,s[4*l+3]=Math.round(1e3*(C*t[l]+T*r[l]+P*n[l]+D*e[l]))/1e3;return s},getPointInSegment:function(t,e,r,n,i,o){var s=a(i,o),c=1-s;return[Math.round(1e3*(c*c*c*t[0]+(s*c*c+c*s*c+c*c*s)*r[0]+(s*s*c+c*s*s+s*c*s)*n[0]+s*s*s*e[0]))/1e3,Math.round(1e3*(c*c*c*t[1]+(s*c*c+c*s*c+c*c*s)*r[1]+(s*s*c+c*s*s+s*c*s)*n[1]+s*s*s*e[1]))/1e3]},buildBezierData:o,pointOnLine2D:t,pointOnLine3D:function(e,r,n,i,o,a,s,c,l){if(0===n&&0===a&&0===l)return t(e,r,i,o,s,c);var u,h=Math.sqrt(Math.pow(i-e,2)+Math.pow(o-r,2)+Math.pow(a-n,2)),f=Math.sqrt(Math.pow(s-e,2)+Math.pow(c-r,2)+Math.pow(l-n,2)),p=Math.sqrt(Math.pow(s-i,2)+Math.pow(c-o,2)+Math.pow(l-a,2));return(u=h>f?h>p?h-f-p:p-f-h:p>f?p-f-h:f-h-p)>-1e-4&&u<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,r){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=setTimeout((function(){e(n+i)}),i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(t,e){for(var r=0,n=e.length;r<n;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}}function e(t){var n,i,o;for(n=t.length-1;n>=0;n-=1)if("sh"==t[n].ty){if(t[n].ks.k.i)r(t[n].ks.k);else for(o=t[n].ks.k.length,i=0;i<o;i+=1)t[n].ks.k[i].s&&r(t[n].ks.k[i].s[0]),t[n].ks.k[i].e&&r(t[n].ks.k[i].e[0]);!0}else"gr"==t[n].ty&&e(t[n].it)}function r(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function n(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&void 0))}var i,o=function(){var t=[4,4,14];function e(t){var e,r,n,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&(r=t[e],n=void 0,n=r.t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(n(t,r.v)&&(e(r.layers),r.assets)){var i,o=r.assets.length;for(i=0;i<o;i+=1)r.assets[i].layers&&e(r.assets[i].layers)}}}(),a=(i=[4,7,99],function(t){if(t.chars&&!n(i,t.v)){var e,o,a,s,c,l=t.chars.length;for(e=0;e<l;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(a=(c=t.chars[e].data.shapes[0].it).length,o=0;o<a;o+=1)(s=c[o].ks.k).__converted||(r(c[o].ks.k),s.__converted=!0)}}),s=function(){var t=[4,1,9];function e(t){var r,n,i,o=t.length;for(r=0;r<o;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(i=t[r].c.k.length,n=0;n<i;n+=1)t[r].c.k[n].s&&(t[r].c.k[n].s[0]/=255,t[r].c.k[n].s[1]/=255,t[r].c.k[n].s[2]/=255,t[r].c.k[n].s[3]/=255),t[r].c.k[n].e&&(t[r].c.k[n].e[0]/=255,t[r].c.k[n].e[1]/=255,t[r].c.k[n].e[2]/=255,t[r].c.k[n].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,n=t.length;for(r=0;r<n;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var i,o=e.assets.length;for(i=0;i<o;i+=1)e.assets[i].layers&&r(e.assets[i].layers)}}}(),c=function(){var t=[4,4,18];function e(t){var r,n,i;for(r=t.length-1;r>=0;r-=1)if("sh"==t[r].ty){if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(i=t[r].ks.k.length,n=0;n<i;n+=1)t[r].ks.k[n].s&&(t[r].ks.k[n].s[0].c=t[r].closed),t[r].ks.k[n].e&&(t[r].ks.k[n].e[0].c=t[r].closed);!0}else"gr"==t[r].ty&&e(t[r].it)}function r(t){var r,n,i,o,a,s,c=t.length;for(n=0;n<c;n+=1){if((r=t[n]).hasMask){var l=r.masksProperties;for(o=l.length,i=0;i<o;i+=1)if(l[i].pt.k.i)l[i].pt.k.c=l[i].cl;else for(s=l[i].pt.k.length,a=0;a<s;a+=1)l[i].pt.k[a].s&&(l[i].pt.k[a].s[0].c=l[i].cl),l[i].pt.k[a].e&&(l[i].pt.k[a].e[0].c=l[i].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var i,o=e.assets.length;for(i=0;i<o;i+=1)e.assets[i].layers&&r(e.assets[i].layers)}}}();function l(t,e){0!==t.t.a.length||"m"in t.t.p||(t.singleShape=!0)}var u={completeData:function(n,i){n.__complete||(s(n),o(n),a(n),c(n),function n(i,o,a){var s,c,u,h,f,p,d=i.length;for(c=0;c<d;c+=1)if("ks"in(s=i[c])&&!s.completed){if(s.completed=!0,s.tt&&(i[c-1].td=s.tt),[],-1,s.hasMask){var m=s.masksProperties;for(h=m.length,u=0;u<h;u+=1)if(m[u].pt.k.i)r(m[u].pt.k);else for(p=m[u].pt.k.length,f=0;f<p;f+=1)m[u].pt.k[f].s&&r(m[u].pt.k[f].s[0]),m[u].pt.k[f].e&&r(m[u].pt.k[f].e[0])}0===s.ty?(s.layers=t(s.refId,o),n(s.layers,o,a)):4===s.ty?e(s.shapes):5==s.ty&&l(s,a)}}(n.layers,n.assets,i),n.__complete=!0)}};return u}var dataManager=dataFunctionManager(),FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function r(t,e){var r=createTag("span");r.style.fontFamily=e;var n=createTag("span");n.innerHTML="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var i=n.offsetWidth;return n.style.fontFamily=t+", "+e,{node:n,w:i,parent:r}}function n(t,e){var r=createNS("text");return r.style.fontSize="100px",r.setAttribute("font-family",e.fFamily),r.setAttribute("font-style",e.fStyle),r.setAttribute("font-weight",e.fWeight),r.textContent="1",e.fClass?(r.style.fontFamily="inherit",r.setAttribute("class",e.fClass)):r.style.fontFamily=e.fFamily,t.appendChild(r),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,r}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return i.getCombinedCharacterCodes=function(){return e},i.prototype.addChars=function(t){if(t){this.chars||(this.chars=[]);var e,r,n,i=t.length,o=this.chars.length;for(e=0;e<i;e+=1){for(r=0,n=!1;r<o;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(n=!0),r+=1;n||(this.chars.push(t[e]),o+=1)}}},i.prototype.addFonts=function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var i,o=t.list,a=o.length,s=a;for(i=0;i<a;i+=1){var c,l,u=!0;if(o[i].loaded=!1,o[i].monoCase=r(o[i].fFamily,"monospace"),o[i].sansCase=r(o[i].fFamily,"sans-serif"),o[i].fPath){if("p"===o[i].fOrigin||3===o[i].origin){if((c=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[i].fFamily+'"], style[f-origin="3"][f-family="'+o[i].fFamily+'"]')).length>0&&(u=!1),u){var h=createTag("style");h.setAttribute("f-forigin",o[i].fOrigin),h.setAttribute("f-origin",o[i].origin),h.setAttribute("f-family",o[i].fFamily),h.type="text/css",h.innerHTML="@font-face {font-family: "+o[i].fFamily+"; font-style: normal; src: url('"+o[i].fPath+"');}",e.appendChild(h)}}else if("g"===o[i].fOrigin||1===o[i].origin){for(c=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),l=0;l<c.length;l++)-1!==c[l].href.indexOf(o[i].fPath)&&(u=!1);if(u){var f=createTag("link");f.setAttribute("f-forigin",o[i].fOrigin),f.setAttribute("f-origin",o[i].origin),f.type="text/css",f.rel="stylesheet",f.href=o[i].fPath,document.body.appendChild(f)}}else if("t"===o[i].fOrigin||2===o[i].origin){for(c=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),l=0;l<c.length;l++)o[i].fPath===c[l].src&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",o[i].fOrigin),p.setAttribute("f-origin",o[i].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",o[i].fPath),e.appendChild(p)}}}else o[i].loaded=!0,s-=1;o[i].helper=n(e,o[i]),o[i].cache={},this.fonts.push(o[i])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},i.prototype.getCharData=function(e,r,n){for(var i=0,o=this.chars.length;i<o;){if(this.chars[i].ch===e&&this.chars[i].style===r&&this.chars[i].fFamily===n)return this.chars[i];i+=1}return console&&console.warn&&console.warn("Missing character from exported characters list: ",e,r,n),t},i.prototype.getFontByName=function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},i.prototype.measureText=function(t,e,r){var n=this.getFontByName(e),i=t.charCodeAt(0);if(!n.cache[i+1]){var o=n.helper;if(" "===t){o.textContent="|"+t+"|";var a=o.getComputedTextLength();o.textContent="||";var s=o.getComputedTextLength();n.cache[i+1]=(a-s)/100}else o.textContent=t,n.cache[i+1]=o.getComputedTextLength()/100}return n.cache[i+1]*r},i.prototype.checkLoadedFonts=function(){var t,e,r,n=this.fonts.length,i=n;for(t=0;t<n;t+=1)this.fonts[t].loaded?i-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,e.offsetWidth!==r?(i-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,e.offsetWidth!==r&&(i-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==i&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)},i.prototype.loaded=function(){return this.isLoaded},i}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(t,e){var r,i=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var o,a,s,c,l,u,h,f,p=e.lastIndex,d=p,m=this.keyframes.length-1,y=!0;y;){if(o=this.keyframes[d],a=this.keyframes[d+1],d===m-1&&t>=a.t-i){o.h&&(o=a),p=0;break}if(a.t-i>t){p=d;break}d<m-1?d+=1:(p=0,y=!1)}var v,g=a.t-i,b=o.t-i;if(o.to){o.bezierData||(o.bezierData=bez.buildBezierData(o.s,a.s||o.e,o.to,o.ti));var k=o.bezierData;if(t>=g||t<b){var _=t>=g?k.points.length-1:0;for(c=k.points[_].point.length,s=0;s<c;s+=1)r[s]=k.points[_].point[s]}else{o.__fnct?f=o.__fnct:(f=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=f),l=f((t-b)/(g-b));var x,S=k.segmentLength*l,w=e.lastFrame<t&&e._lastKeyframeIndex===d?e._lastAddedLength:0;for(h=e.lastFrame<t&&e._lastKeyframeIndex===d?e._lastPoint:0,y=!0,u=k.points.length;y;){if(w+=k.points[h].partialLength,0===S||0===l||h===k.points.length-1){for(c=k.points[h].point.length,s=0;s<c;s+=1)r[s]=k.points[h].point[s];break}if(S>=w&&S<w+k.points[h+1].partialLength){for(x=(S-w)/k.points[h+1].partialLength,c=k.points[h].point.length,s=0;s<c;s+=1)r[s]=k.points[h].point[s]+(k.points[h+1].point[s]-k.points[h].point[s])*x;break}h<u-1?h+=1:y=!1}e._lastPoint=h,e._lastAddedLength=w-k.points[h].partialLength,e._lastKeyframeIndex=d}}else{var E,A,C,T,P;if(m=o.s.length,v=a.s||o.e,this.sh&&1!==o.h)if(t>=g)r[0]=v[0],r[1]=v[1],r[2]=v[2];else if(t<=b)r[0]=o.s[0],r[1]=o.s[1],r[2]=o.s[2];else{!function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=Math.atan2(2*n*o-2*r*i,1-2*n*n-2*i*i),s=Math.asin(2*r*n+2*i*o),c=Math.atan2(2*r*o-2*n*i,1-2*r*r-2*i*i);t[0]=a/degToRads,t[1]=s/degToRads,t[2]=c/degToRads}(r,function(t,e,r){var n,i,o,a,s,c=[],l=t[0],u=t[1],h=t[2],f=t[3],p=e[0],d=e[1],m=e[2],y=e[3];(i=l*p+u*d+h*m+f*y)<0&&(i=-i,p=-p,d=-d,m=-m,y=-y);1-i>1e-6?(n=Math.acos(i),o=Math.sin(n),a=Math.sin((1-r)*n)/o,s=Math.sin(r*n)/o):(a=1-r,s=r);return c[0]=a*l+s*p,c[1]=a*u+s*d,c[2]=a*h+s*m,c[3]=a*f+s*y,c}(n(o.s),n(v),(t-b)/(g-b)))}else for(d=0;d<m;d+=1)1!==o.h&&(t>=g?l=1:t<b?l=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[d]?f=o.__fnct[d]:(E=void 0===o.o.x[d]?o.o.x[0]:o.o.x[d],A=void 0===o.o.y[d]?o.o.y[0]:o.o.y[d],C=void 0===o.i.x[d]?o.i.x[0]:o.i.x[d],T=void 0===o.i.y[d]?o.i.y[0]:o.i.y[d],f=BezierFactory.getBezierEasing(E,A,C,T).get,o.__fnct[d]=f)):o.__fnct?f=o.__fnct:(E=o.o.x,A=o.o.y,C=o.i.x,T=o.i.y,f=BezierFactory.getBezierEasing(E,A,C,T).get,o.__fnct=f),l=f((t-b)/(g-b)))),v=a.s||o.e,P=1===o.h?o.s[d]:o.s[d]+(v[d]-o.s[d])*l,1===m?r=P:r[d]=P}return e.lastIndex=p,r}function n(t){var e=t[0]*degToRads,r=t[1]*degToRads,n=t[2]*degToRads,i=Math.cos(e/2),o=Math.cos(r/2),a=Math.cos(n/2),s=Math.sin(e/2),c=Math.sin(r/2),l=Math.sin(n/2);return[s*c*a+i*o*l,s*o*a+i*c*l,i*c*a-s*o*l,i*o*a-s*c*l]}function i(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=n&&e>=n||this._caching.lastFrame<r&&e<r))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(e,this._caching);this.pv=i}return this._caching.lastFrame=e,this.pv}function o(t){var r;if("unidimensional"===this.propType)r=t*this.mult,e(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var n=0,i=this.v.length;n<i;)r=t[n]*this.mult,e(this.v[n]-r)>1e-5&&(this.v[n]=r,this._mdf=!0),n+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(t,e,r,n){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.addEffect=s}function l(t,e,r,n){this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,c=e.k.length;this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c);createTypedArray("float32",c);for(this.vel=createTypedArray("float32",c),i=0;i<c;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=o,this.addEffect=s}function u(e,n,c,l){this.propType="unidimensional",this.keyframes=n.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=c||1,this.elem=e,this.container=l,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.interpolateValue=r,this.effectsSequence=[i.bind(this)],this.addEffect=s}function h(e,n,c,l){this.propType="multidimensional";var u,h,f,p,d,m=n.k.length;for(u=0;u<m-1;u+=1)n.k[u].to&&n.k[u].s&&n.k[u].e&&(h=n.k[u].s,f=n.k[u].e,p=n.k[u].to,d=n.k[u].ti,(2===h.length&&(h[0]!==f[0]||h[1]!==f[1])&&bez.pointOnLine2D(h[0],h[1],f[0],f[1],h[0]+p[0],h[1]+p[1])&&bez.pointOnLine2D(h[0],h[1],f[0],f[1],f[0]+d[0],f[1]+d[1])||3===h.length&&(h[0]!==f[0]||h[1]!==f[1]||h[2]!==f[2])&&bez.pointOnLine3D(h[0],h[1],h[2],f[0],f[1],f[2],h[0]+p[0],h[1]+p[1],h[2]+p[2])&&bez.pointOnLine3D(h[0],h[1],h[2],f[0],f[1],f[2],f[0]+d[0],f[1]+d[1],f[2]+d[2]))&&(n.k[u].to=null,n.k[u].ti=null),h[0]===f[0]&&h[1]===f[1]&&0===p[0]&&0===p[1]&&0===d[0]&&0===d[1]&&(2===h.length||h[2]===f[2]&&0===p[2]&&0===d[2])&&(n.k[u].to=null,n.k[u].ti=null));this.effectsSequence=[i.bind(this)],this.keyframes=n.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=c||1,this.elem=e,this.container=l,this.comp=e.comp,this.getValue=a,this.setVValue=o,this.interpolateValue=r,this.frameId=-1;var y=n.k[0].s.length;for(this.v=createTypedArray("float32",y),this.pv=createTypedArray("float32",y),u=0;u<y;u+=1)this.v[u]=t,this.pv[u]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",y)},this.addEffect=s}return{getProp:function(t,e,r,n,i){var o;if(e.k.length)if("number"==typeof e.k[0])o=new l(t,e,n,i);else switch(r){case 0:o=new u(t,e,n,i);break;case 1:o=new h(t,e,n,i)}else o=new c(t,e,n,i);return o.effectsSequence.length&&i.addDynamicProperty(o),o}}}(),TransformPropertyFactory=function(){function t(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var n,i=e.or.k.length;for(n=0;n<i;n+=1)e.or.k[n].to=e.or.k[n].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var e,r,n=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/n,0)):(e=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){e=[],r=[];var i=this.px,o=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(e[0]=i.getValueAtTime((i.keyframes[0].t+.01)/n,0),e[1]=o.getValueAtTime((o.keyframes[0].t+.01)/n,0),r[0]=i.getValueAtTime(i.keyframes[0].t/n,0),r[1]=o.getValueAtTime(o.keyframes[0].t/n,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(e[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/n,0),e[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/n,0),r[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/n,0),r[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/n,0)):(e=[i.pv,o.pv],r[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/n,i.offsetTime),r[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/n,o.offsetTime))}this.v.rotate(-Math.atan2(e[1]-r[1],e[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,n){return new t(e,r,n)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=point_pool.newElement(),this.o[r]=point_pool.newElement(),this.i[r]=point_pool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,n,i){var o;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o}(!o[n]||o[n]&&!i)&&(o[n]=point_pool.newElement()),o[n][0]=t,o[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,n,i,o,a,s){this.setXYAt(t,e,"v",a,s),this.setXYAt(r,n,"o",a,s),this.setXYAt(i,o,"i",a,s)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,n=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),i=1);var o,a=this._length-1,s=this._length;for(o=i;o<s;o+=1)t.setTripleAt(e[a][0],e[a][1],n[a][0],n[a][1],r[a][0],r[a][1],o,!1),a-=1;return t};var ShapePropertyFactory=function(){function t(t,e,r){var n,i,o,a,s,c,l,u,h,f=r.lastIndex,p=this.keyframes;if(t<p[0].t-this.offsetTime)n=p[0].s[0],o=!0,f=0;else if(t>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],o=!0;else{for(var d,m,y=f,v=p.length-1,g=!0;g&&(d=p[y],!((m=p[y+1]).t-this.offsetTime>t));)y<v-1?y+=1:g=!1;if(f=y,!(o=1===d.h)){if(t>=m.t-this.offsetTime)u=1;else if(t<d.t-this.offsetTime)u=0;else{var b;d.__fnct?b=d.__fnct:(b=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y).get,d.__fnct=b),u=b((t-(d.t-this.offsetTime))/(m.t-this.offsetTime-(d.t-this.offsetTime)))}i=m.s?m.s[0]:d.e[0]}n=d.s[0]}for(c=e._length,l=n.i[0].length,r.lastIndex=f,a=0;a<c;a+=1)for(s=0;s<l;s+=1)h=o?n.i[a][s]:n.i[a][s]+(i.i[a][s]-n.i[a][s])*u,e.i[a][s]=h,h=o?n.o[a][s]:n.o[a][s]+(i.o[a][s]-n.o[a][s])*u,e.o[a][s]=h,h=o?n.v[a][s]:n.v[a][s]+(i.v[a][s]-n.v[a][s])*u,e.v[a][s]=h}function e(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return-999999!==n&&(n<e&&t<e||n>r&&t>r)||(this._caching.lastIndex=n<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function r(){this.paths=this.localShapeCollection}function n(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,n=t._length;for(r=0;r<n;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shape_pool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(t,e,n){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===n?e.pt.k:e.ks.k;this.v=shape_pool.clone(i),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function s(t,n,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?n.pt.k:n.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length;this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=r,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}o.prototype.interpolateShape=t,o.prototype.getValue=i,o.prototype.setVValue=n,o.prototype.addEffect=a,s.prototype.getValue=i,s.prototype.interpolateShape=t,s.prototype.setVValue=n,s.prototype.addEffect=a;var c=function(){var t=roundCorner;function e(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2,o=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=r-i,a.v[1][0]=o?e+n:e-n,a.v[1][1]=r,a.v[2][0]=e,a.v[2][1]=r+i,a.v[3][0]=o?e-n:e+n,a.v[3][1]=r,a.i[0][0]=o?e-n*t:e+n*t,a.i[0][1]=r-i,a.i[1][0]=o?e+n:e-n,a.i[1][1]=r-i*t,a.i[2][0]=o?e+n*t:e-n*t,a.i[2][1]=r+i,a.i[3][0]=o?e-n:e+n,a.i[3][1]=r+i*t,a.o[0][0]=o?e+n*t:e-n*t,a.o[0][1]=r-i,a.o[1][0]=o?e+n:e-n,a.o[1][1]=r+i*t,a.o[2][0]=o?e-n*t:e+n*t,a.o[2][1]=r+i,a.o[3][0]=o?e-n:e+n,a.o[3][1]=r-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),l=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,n,i=2*Math.floor(this.pt.v),o=2*Math.PI/i,a=!0,s=this.or.v,c=this.ir.v,l=this.os.v,u=this.is.v,h=2*Math.PI*s/(2*i),f=2*Math.PI*c/(2*i),p=-Math.PI/2;p+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){r=a?l:u,n=a?h:f;var m=(e=a?s:c)*Math.cos(p),y=e*Math.sin(p),v=0===m&&0===y?0:y/Math.sqrt(m*m+y*y),g=0===m&&0===y?0:-m/Math.sqrt(m*m+y*y);m+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(m,y,m-v*n*r*d,y-g*n*r*d,m+v*n*r*d,y+g*n*r*d,t,!0),a=!a,p+=o*d}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,n=this.or.v,i=this.os.v,o=2*Math.PI*n/(4*e),a=-Math.PI/2,s=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var c=n*Math.cos(a),l=n*Math.sin(a),u=0===c&&0===l?0:l/Math.sqrt(c*c+l*l),h=0===c&&0===l?0:-c/Math.sqrt(c*c+l*l);c+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(c,l,c-u*o*i*s,l-h*o*i*s,c+u*o*i*s,l+h*o*i*s,t,!0),a+=r*s}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,i=bm_min(r,n,this.r.v),o=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-n+i,t+r,e-n+i,t+r,e-n+o,0,!0),this.v.setTripleAt(t+r,e+n-i,t+r,e+n-o,t+r,e+n-i,1,!0),0!==i?(this.v.setTripleAt(t+r-i,e+n,t+r-i,e+n,t+r-o,e+n,2,!0),this.v.setTripleAt(t-r+i,e+n,t-r+o,e+n,t-r+i,e+n,3,!0),this.v.setTripleAt(t-r,e+n-i,t-r,e+n-i,t-r,e+n-o,4,!0),this.v.setTripleAt(t-r,e-n+i,t-r,e-n+o,t-r,e-n+i,5,!0),this.v.setTripleAt(t-r+i,e-n,t-r+i,e-n,t-r+o,e-n,6,!0),this.v.setTripleAt(t+r-i,e-n,t+r-o,e-n,t+r-i,e-n,7,!0)):(this.v.setTripleAt(t-r,e+n,t-r+o,e+n,t-r,e+n,2),this.v.setTripleAt(t-r,e-n,t-r,e-n+o,t-r,e-n,3))):(this.v.setTripleAt(t+r,e-n+i,t+r,e-n+o,t+r,e-n+i,0,!0),0!==i?(this.v.setTripleAt(t+r-i,e-n,t+r-i,e-n,t+r-o,e-n,1,!0),this.v.setTripleAt(t-r+i,e-n,t-r+o,e-n,t-r+i,e-n,2,!0),this.v.setTripleAt(t-r,e-n+i,t-r,e-n+i,t-r,e-n+o,3,!0),this.v.setTripleAt(t-r,e+n-i,t-r,e+n-o,t-r,e+n-i,4,!0),this.v.setTripleAt(t-r+i,e+n,t-r+i,e+n,t-r+o,e+n,5,!0),this.v.setTripleAt(t+r-i,e+n,t+r-o,e+n,t+r-i,e+n,6,!0),this.v.setTripleAt(t+r,e+n-i,t+r,e+n-i,t+r,e+n-o,7,!0)):(this.v.setTripleAt(t-r,e-n,t-r+o,e-n,t-r,e-n,1,!0),this.v.setTripleAt(t-r,e+n,t-r,e+n-o,t-r,e+n,2,!0),this.v.setTripleAt(t+r,e+n,t+r-o,e+n,t+r,e+n,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],t),t}();var h={getShapeProp:function(t,e,r){var n;return 3===r||4===r?n=(3===r?e.pt:e.ks).k.length?new s(t,e,r):new o(t,e,r):5===r?n=new u(t,e):6===r?n=new c(t,e):7===r&&(n=new l(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return s}};return h}(),ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,n){return new e[t](r,n)},t}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,r,n){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var i,o,a=e.length||0;for(i=0;i<a;i+=1)o=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=o.k||this.k,this.dataProps[i]={n:e[i].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,n,i){var o=[];e<=1?o.push({s:t,e:e}):t>=1?o.push({s:t-1,e:e-1}):(o.push({s:t,e:1}),o.push({s:0,e:e-1}));var a,s,c=[],l=o.length;for(a=0;a<l;a+=1){var u,h;if((s=o[a]).e*i<n||s.s*i>n+r);else u=s.s*i<=n?0:(s.s*i-n)/r,h=s.e*i>=n+r?1:(s.e*i-n)/r,c.push([u,h])}return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,n;if(this._mdf||t){var i=this.o.v%360/360;if(i<0&&(i+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+i)>(r=(this.e.v>1?1:this.e.v<0?0:this.e.v)+i)){var o=e;e=r,r=o}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var a,s,c,l,u,h,f=this.shapes.length,p=0;if(r===e)for(a=0;a<f;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection;else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(a=0;a<f;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var d,m,y=[];for(a=0;a<f;a+=1)if((d=this.shapes[a]).shape._mdf||this._mdf||t||2===this.m){if(c=(n=d.shape.paths)._length,h=0,!d.shape._mdf&&d.pathsData.length)h=d.totalShapeLength;else{for(l=this.releasePathsData(d.pathsData),s=0;s<c;s+=1)u=bez.getSegmentsLength(n.shapes[s]),l.push(u),h+=u.totalLength;d.totalShapeLength=h,d.pathsData=l}p+=h,d.shape._mdf=!0}else d.shape.paths=d.localShapeCollection;var v,g=e,b=r,k=0;for(a=f-1;a>=0;a-=1)if((d=this.shapes[a]).shape._mdf){for((m=d.localShapeCollection).releaseShapes(),2===this.m&&f>1?(v=this.calculateShapeEdges(e,r,d.totalShapeLength,k,p),k+=d.totalShapeLength):v=[[g,b]],c=v.length,s=0;s<c;s+=1){g=v[s][0],b=v[s][1],y.length=0,b<=1?y.push({s:d.totalShapeLength*g,e:d.totalShapeLength*b}):g>=1?y.push({s:d.totalShapeLength*(g-1),e:d.totalShapeLength*(b-1)}):(y.push({s:d.totalShapeLength*g,e:d.totalShapeLength}),y.push({s:0,e:d.totalShapeLength*(b-1)}));var _=this.addShapes(d,y[0]);if(y[0].s!==y[0].e){if(y.length>1)if(d.shape.paths.shapes[d.shape.paths._length-1].c){var x=_.pop();this.addPaths(_,m),_=this.addShapes(d,y[1],x)}else this.addPaths(_,m),_=this.addShapes(d,y[1]);this.addPaths(_,m)}}d.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,n,i,o,a){i.setXYAt(e[0],e[1],"o",o),i.setXYAt(r[0],r[1],"i",o+1),a&&i.setXYAt(t[0],t[1],"v",o),i.setXYAt(n[0],n[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,n){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),n&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var n,i,o,a,s,c,l,u,h=t.pathsData,f=t.shape.paths.shapes,p=t.shape.paths._length,d=0,m=[],y=!0;for(r?(s=r._length,u=r._length):(r=shape_pool.newElement(),s=0,u=0),m.push(r),n=0;n<p;n+=1){for(c=h[n].lengths,r.c=f[n].c,o=f[n].c?c.length:c.length+1,i=1;i<o;i+=1)if(d+(a=c[i-1]).addedLength<e.s)d+=a.addedLength,r.c=!1;else{if(d>e.e){r.c=!1;break}e.s<=d&&e.e>=d+a.addedLength?(this.addSegment(f[n].v[i-1],f[n].o[i-1],f[n].i[i],f[n].v[i],r,s,y),y=!1):(l=bez.getNewSegment(f[n].v[i-1],f[n].v[i],f[n].o[i-1],f[n].i[i],(e.s-d)/a.addedLength,(e.e-d)/a.addedLength,c[i-1]),this.addSegmentFromArray(l,r,s,y),y=!1,r.c=!1),d+=a.addedLength,s+=1}if(f[n].c&&c.length){if(a=c[i-1],d<=e.e){var v=c[i-1].addedLength;e.s<=d&&e.e>=d+v?(this.addSegment(f[n].v[i-1],f[n].o[i-1],f[n].i[0],f[n].v[0],r,s,y),y=!1):(l=bez.getNewSegment(f[n].v[i-1],f[n].v[0],f[n].o[i-1],f[n].i[0],(e.s-d)/v,(e.e-d)/v,c[i-1]),this.addSegmentFromArray(l,r,s,y),y=!1,r.c=!1)}else r.c=!1;d+=a.addedLength,s+=1}if(r._length&&(r.setXYAt(r.v[u][0],r.v[u][1],"i",u),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),d>e.e)break;n<p-1&&(r=shape_pool.newElement(),y=!0,m.push(r),s=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r=shape_pool.newElement();r.c=t.c;var n,i,o,a,s,c,l,u,h,f,p,d,m,y=t._length,v=0;for(n=0;n<y;n+=1)i=t.v[n],a=t.o[n],o=t.i[n],i[0]===a[0]&&i[1]===a[1]&&i[0]===o[0]&&i[1]===o[1]?0!==n&&n!==y-1||t.c?(s=0===n?t.v[y-1]:t.v[n-1],l=(c=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(c/2,e)/c:0,u=d=i[0]+(s[0]-i[0])*l,h=m=i[1]-(i[1]-s[1])*l,f=u-(u-i[0])*roundCorner,p=h-(h-i[1])*roundCorner,r.setTripleAt(u,h,f,p,d,m,v),v+=1,s=n===y-1?t.v[0]:t.v[n+1],l=(c=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(c/2,e)/c:0,u=f=i[0]+(s[0]-i[0])*l,h=p=i[1]+(s[1]-i[1])*l,d=u-(u-i[0])*roundCorner,m=h-(h-i[1])*roundCorner,r.setTripleAt(u,h,f,p,d,m,v),v+=1):(r.setTripleAt(i[0],i[1],a[0],a[1],o[0],o[1],v),v+=1):(r.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],v),v+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,n,i,o,a,s=this.shapes.length,c=this.rd.v;if(0!==c)for(r=0;r<s;r+=1){if((o=this.shapes[r]).shape.paths,a=o.localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,n=0;n<i;n+=1)a.addShape(this.processPath(e[n],c));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,n,i,o){var a=o?-1:1,s=n.s.v[0]+(1-n.s.v[0])*(1-i),c=n.s.v[1]+(1-n.s.v[1])*(1-i);t.translate(n.p.v[0]*a*i,n.p.v[1]*a*i,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*a*i),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(o?1/s:s,o?1/c:c),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,n){this.elem=t,this.arr=e,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);for(;r>0;)r-=1,this._elements.unshift(e[r]),1;this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,n,i,o;if(this._mdf||t){var a,s=Math.ceil(this.c.v);if(this._groups.length<s){for(;this._groups.length<s;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes()}for(o=0,n=0;n<=this._groups.length-1;n+=1)a=o<s,this._groups[n]._render=a,this.changeGroupRender(this._groups[n].it,a),o+=1;this._currentCopies=s;var l=this.o.v,u=l%1,h=l>0?Math.floor(l):Math.ceil(l),f=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,d=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var m,y,v=0;if(l>0){for(;v<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),v+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),v+=u)}else if(l<0){for(;v>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),v-=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),v-=u)}for(n=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,o=this._currentCopies;o;){if(y=(r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==v){for((0!==n&&1===i||n!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),m=0;m<y;m+=1)r[m]=this.matrix.props[m];this.matrix.reset()}else for(this.matrix.reset(),m=0;m<y;m+=1)r[m]=this.matrix.props[m];v+=1,o-=1,n+=i}}else for(o=this._currentCopies,n=0,i=1;o;)r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,n+=i},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,n,i=4*this.data.p;for(e=0;e<i;e+=1)r=e%4==0?100:255,n=Math.round(this.prop.v[e]*r),this.c[e]!==n&&(this.c[e]=n,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)r=e%2==0?100:1,n=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,r,n){if(0===e)return"";var i,o=t.o,a=t.i,s=t.v,c=" M"+n.applyToPointStringified(s[0][0],s[0][1]);for(i=1;i<e;i+=1)c+=" C"+n.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+n.applyToPointStringified(a[i][0],a[i][1])+" "+n.applyToPointStringified(s[i][0],s[i][1]);return r&&e&&(c+=" C"+n.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+n.applyToPointStringified(a[0][0],a[0][1])+" "+n.applyToPointStringified(s[0][0],s[0][1]),c+="z"),c},ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="#FF0000",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(e){var r=function(t,e,r){var n="";if(t.e)n=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),n=e+i}else n=r,n+=t.u?t.u:"",n+=t.p;return n}(e,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded.bind(this),!1),n.addEventListener("error",function(){i.img=t,this._imageLoaded()}.bind(this),!1),n.src=r;var i={img:n,assetData:e};return i}function n(t,e){this.imagesLoadedCb=e;var r,n=t.length;for(r=0;r<n;r+=1)t[r].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[r])))}function i(t){this.path=t||""}function o(t){this.assetsPath=t||""}function a(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}}function s(){this.imagesLoadedCb=null,this.images.length=0}function c(){return this.totalImages===this.loadedAssets}return function(){this.loadAssets=n,this.setAssetsPath=o,this.setPath=i,this.loaded=c,this.destroy=s,this.getImage=a,this._createImageData=r,this._imageLoaded=e,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){var t={};return t.createFilter=function(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},t.createAlphaToLuminanceFilter=function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t},t}(),assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}return{load:function(e,r,n){var i,o=new XMLHttpRequest;o.open("GET",e,!0);try{o.responseType="json"}catch(t){}o.send(),o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status)i=t(o),r(i);else try{i=t(o),r(i)}catch(t){n&&n(t)}}}}}();function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(t,e,r){var n={propType:!1},i=PropertyFactory.getProp,o=e.a;this.a={r:o.r?i(t,o.r,0,degToRads,r):n,rx:o.rx?i(t,o.rx,0,degToRads,r):n,ry:o.ry?i(t,o.ry,0,degToRads,r):n,sk:o.sk?i(t,o.sk,0,degToRads,r):n,sa:o.sa?i(t,o.sa,0,degToRads,r):n,s:o.s?i(t,o.s,1,.01,r):n,a:o.a?i(t,o.a,1,0,r):n,o:o.o?i(t,o.o,0,.01,r):n,p:o.p?i(t,o.p,1,0,r):n,sw:o.sw?i(t,o.sw,0,0,r):n,sc:o.sc?i(t,o.sc,1,0,r):n,fc:o.fc?i(t,o.fc,1,0,r):n,fh:o.fh?i(t,o.fh,0,0,r):n,fs:o.fs?i(t,o.fs,0,.01,r):n,fb:o.fb?i(t,o.fb,0,.01,r):n,t:o.t?i(t,o.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function LetterProps(t,e,r,n,i,o){this.o=t,this.sw=e,this.sc=r,this.fc=n,this.m=i,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,i,o,a,s,c,l,u,h,f,p,d,m,y,v,g,b,k,_=this._moreOptions.alignment.v,x=this._animatorsData,S=this._textData,w=this.mHelper,E=this._renderType,A=this.renderedLetters.length,C=(this.data,t.l);if(this._hasMaskedPath){if(k=this._pathData.m,!this._pathData.n||this._pathData._mdf){var T,P=k.v;for(this._pathData.r&&(P=P.reverse()),a={tLength:0,segments:[]},o=P._length-1,v=0,i=0;i<o;i+=1)T=bez.buildBezierData(P.v[i],P.v[i+1],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[i+1][0]-P.v[i+1][0],P.i[i+1][1]-P.v[i+1][1]]),a.tLength+=T.segmentLength,a.segments.push(T),v+=T.segmentLength;i=o,k.v.c&&(T=bez.buildBezierData(P.v[i],P.v[0],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),a.tLength+=T.segmentLength,a.segments.push(T),v+=T.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,s=this._pathData.f.v,f=0,h=1,l=0,u=!0,m=a.segments,s<0&&k.v.c)for(a.tLength<Math.abs(s)&&(s=-Math.abs(s)%a.tLength),h=(d=m[f=m.length-1].points).length-1;s<0;)s+=d[h].partialLength,(h-=1)<0&&(h=(d=m[f-=1].points).length-1);p=(d=m[f].points)[h-1],y=(c=d[h]).partialLength}o=C.length,r=0,n=0;var D,O,M,F,B=1.2*t.finalSize*.714,I=!0;M=x.length;var N,R,L,j,z,K,V,G,H,q,U,W,J,Y=-1,$=s,X=f,Z=h,Q=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,nt=0,it=2===t.j?-.5:-1,ot=0,at=!0;for(i=0;i<o;i+=1)if(C[i].n){for(rt&&(rt+=nt);ot<i;)C[ot].animatorJustifyOffset=rt,ot+=1;rt=0,at=!0}else{for(O=0;O<M;O+=1)(D=x[O].a).t.propType&&(at&&2===t.j&&(nt+=D.t.v*it),(N=x[O].s.getMult(C[i].anIndexes[O],S.a[O].s.totalChars)).length?rt+=D.t.v*N[0]*it:rt+=D.t.v*N*it);at=!1}for(rt&&(rt+=nt);ot<i;)C[ot].animatorJustifyOffset=rt,ot+=1}for(i=0;i<o;i+=1){if(w.reset(),z=1,C[i].n)r=0,n+=t.yOffset,n+=I?1:0,s=$,I=!1,0,this._hasMaskedPath&&(h=Z,p=(d=m[f=X].points)[h-1],y=(c=d[h]).partialLength,l=0),J=q=W=tt="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==C[i].line){switch(t.j){case 1:s+=v-t.lineWidths[C[i].line];break;case 2:s+=(v-t.lineWidths[C[i].line])/2}Q=C[i].line}Y!==C[i].ind&&(C[Y]&&(s+=C[Y].extra),s+=C[i].an/2,Y=C[i].ind),s+=_[0]*C[i].an/200;var st=0;for(O=0;O<M;O+=1)(D=x[O].a).p.propType&&((N=x[O].s.getMult(C[i].anIndexes[O],S.a[O].s.totalChars)).length?st+=D.p.v[0]*N[0]:st+=D.p.v[0]*N),D.a.propType&&((N=x[O].s.getMult(C[i].anIndexes[O],S.a[O].s.totalChars)).length?st+=D.a.v[0]*N[0]:st+=D.a.v[0]*N);for(u=!0;u;)l+y>=s+st||!d?(g=(s+st-l)/c.partialLength,L=p.point[0]+(c.point[0]-p.point[0])*g,j=p.point[1]+(c.point[1]-p.point[1])*g,w.translate(-_[0]*C[i].an/200,-_[1]*B/100),u=!1):d&&(l+=c.partialLength,(h+=1)>=d.length&&(h=0,m[f+=1]?d=m[f].points:k.v.c?(h=0,d=m[f=0].points):(l-=c.partialLength,d=null)),d&&(p=c,y=(c=d[h]).partialLength));R=C[i].an/2-C[i].add,w.translate(-R,0,0)}else R=C[i].an/2-C[i].add,w.translate(-R,0,0),w.translate(-_[0]*C[i].an/200,-_[1]*B/100,0);for(C[i].l/2,O=0;O<M;O+=1)(D=x[O].a).t.propType&&(N=x[O].s.getMult(C[i].anIndexes[O],S.a[O].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?N.length?s+=D.t.v*N[0]:s+=D.t.v*N:N.length?r+=D.t.v*N[0]:r+=D.t.v*N));for(C[i].l/2,t.strokeWidthAnim&&(V=t.sw||0),t.strokeColorAnim&&(K=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(G=[t.fc[0],t.fc[1],t.fc[2]]),O=0;O<M;O+=1)(D=x[O].a).a.propType&&((N=x[O].s.getMult(C[i].anIndexes[O],S.a[O].s.totalChars)).length?w.translate(-D.a.v[0]*N[0],-D.a.v[1]*N[1],D.a.v[2]*N[2]):w.translate(-D.a.v[0]*N,-D.a.v[1]*N,D.a.v[2]*N));for(O=0;O<M;O+=1)(D=x[O].a).s.propType&&((N=x[O].s.getMult(C[i].anIndexes[O],S.a[O].s.totalChars)).length?w.scale(1+(D.s.v[0]-1)*N[0],1+(D.s.v[1]-1)*N[1],1):w.scale(1+(D.s.v[0]-1)*N,1+(D.s.v[1]-1)*N,1));for(O=0;O<M;O+=1){if(D=x[O].a,N=x[O].s.getMult(C[i].anIndexes[O],S.a[O].s.totalChars),D.sk.propType&&(N.length?w.skewFromAxis(-D.sk.v*N[0],D.sa.v*N[1]):w.skewFromAxis(-D.sk.v*N,D.sa.v*N)),D.r.propType&&(N.length?w.rotateZ(-D.r.v*N[2]):w.rotateZ(-D.r.v*N)),D.ry.propType&&(N.length?w.rotateY(D.ry.v*N[1]):w.rotateY(D.ry.v*N)),D.rx.propType&&(N.length?w.rotateX(D.rx.v*N[0]):w.rotateX(D.rx.v*N)),D.o.propType&&(N.length?z+=(D.o.v*N[0]-z)*N[0]:z+=(D.o.v*N-z)*N),t.strokeWidthAnim&&D.sw.propType&&(N.length?V+=D.sw.v*N[0]:V+=D.sw.v*N),t.strokeColorAnim&&D.sc.propType)for(H=0;H<3;H+=1)N.length?K[H]=K[H]+(D.sc.v[H]-K[H])*N[0]:K[H]=K[H]+(D.sc.v[H]-K[H])*N;if(t.fillColorAnim&&t.fc){if(D.fc.propType)for(H=0;H<3;H+=1)N.length?G[H]=G[H]+(D.fc.v[H]-G[H])*N[0]:G[H]=G[H]+(D.fc.v[H]-G[H])*N;D.fh.propType&&(G=N.length?addHueToRGB(G,D.fh.v*N[0]):addHueToRGB(G,D.fh.v*N)),D.fs.propType&&(G=N.length?addSaturationToRGB(G,D.fs.v*N[0]):addSaturationToRGB(G,D.fs.v*N)),D.fb.propType&&(G=N.length?addBrightnessToRGB(G,D.fb.v*N[0]):addBrightnessToRGB(G,D.fb.v*N))}}for(O=0;O<M;O+=1)(D=x[O].a).p.propType&&(N=x[O].s.getMult(C[i].anIndexes[O],S.a[O].s.totalChars),this._hasMaskedPath?N.length?w.translate(0,D.p.v[1]*N[0],-D.p.v[2]*N[1]):w.translate(0,D.p.v[1]*N,-D.p.v[2]*N):N.length?w.translate(D.p.v[0]*N[0],D.p.v[1]*N[1],-D.p.v[2]*N[2]):w.translate(D.p.v[0]*N,D.p.v[1]*N,-D.p.v[2]*N));if(t.strokeWidthAnim&&(q=V<0?0:V),t.strokeColorAnim&&(U="rgb("+Math.round(255*K[0])+","+Math.round(255*K[1])+","+Math.round(255*K[2])+")"),t.fillColorAnim&&t.fc&&(W="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(w.translate(0,-t.ls),w.translate(0,_[1]*B/100+n,0),S.p.p){b=(c.point[1]-p.point[1])/(c.point[0]-p.point[0]);var ct=180*Math.atan(b)/Math.PI;c.point[0]<p.point[0]&&(ct+=180),w.rotate(-ct*Math.PI/180)}w.translate(L,j,0),s-=_[0]*C[i].an/200,C[i+1]&&Y!==C[i+1].ind&&(s+=C[i].an/2,s+=t.tr/1e3*t.finalSize)}else{switch(w.translate(r,n,0),t.ps&&w.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:w.translate(C[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[i].line]),0,0);break;case 2:w.translate(C[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[i].line])/2,0,0)}w.translate(0,-t.ls),w.translate(R,0,0),w.translate(_[0]*C[i].an/200,_[1]*B/100,0),r+=C[i].l+t.tr/1e3*t.finalSize}"html"===E?tt=w.toCSS():"svg"===E?tt=w.to2dCSS():et=[w.props[0],w.props[1],w.props[2],w.props[3],w.props[4],w.props[5],w.props[6],w.props[7],w.props[8],w.props[9],w.props[10],w.props[11],w.props[12],w.props[13],w.props[14],w.props[15]],J=z}A<=i?(F=new LetterProps(J,q,U,W,tt,et),this.renderedLetters.push(F),A+=1,this.lettersChangedFlag=!0):(F=this.renderedLetters[i],this.lettersChangedFlag=F.update(J,q,U,W,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,r,n,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,a=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,a=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var n,i=this.effectsSequence.length,o=t||this.data.d.k[this.keysIndex].s;for(n=0;n<i;n+=1)o=r!==this.keysIndex?this.effectsSequence[n](o,o.t):this.effectsSequence[n](this.currentData,o.t);e!==o&&this.setCurrentData(o),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,n=t.length;r<=n-1&&(t[r].s,!(r===n-1||t[r+1].t>e));)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=FontManager.getCombinedCharacterCodes(),r=[],n=0,i=t.length;n<i;)-1!==e.indexOf(t.charCodeAt(n))?r[r.length-1]+=t.charAt(n):r.push(t.charAt(n)),n+=1;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,n,i,o,a,s,c=this.elem.globalData.fontManager,l=this.data,u=[],h=0,f=l.m.g,p=0,d=0,m=0,y=[],v=0,g=0,b=c.getFontByName(t.f),k=0,_=b.fStyle?b.fStyle.split(" "):[],x="normal",S="normal";for(r=_.length,e=0;e<r;e+=1)switch(_[e].toLowerCase()){case"italic":S="italic";break;case"bold":x="700";break;case"black":x="900";break;case"medium":x="500";break;case"regular":case"normal":x="400";break;case"light":case"thin":x="200"}t.fWeight=b.fWeight||x,t.fStyle=S,r=t.t.length,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),t.finalLineHeight=t.lh;var w,E=t.tr/1e3*t.finalSize;if(t.sz)for(var A,C,T=!0,P=t.sz[0],D=t.sz[1];T;){A=0,v=0,r=(C=this.buildFinalText(t.t)).length,E=t.tr/1e3*t.finalSize;var O=-1;for(e=0;e<r;e+=1)w=C[e].charCodeAt(0),n=!1," "===C[e]?O=e:13!==w&&3!==w||(v=0,n=!0,A+=t.finalLineHeight||1.2*t.finalSize),c.chars?(s=c.getCharData(C[e],b.fStyle,b.fFamily),k=n?0:s.w*t.finalSize/100):k=c.measureText(C[e],t.f,t.finalSize),v+k>P&&" "!==C[e]?(-1===O?r+=1:e=O,A+=t.finalLineHeight||1.2*t.finalSize,C.splice(e,O===e?1:0,"\r"),O=-1,v=0):(v+=k,v+=E);A+=b.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&D<A?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=C,r=t.finalText.length,T=!1)}v=-E,k=0;var M,F=0;for(e=0;e<r;e+=1)if(n=!1,w=(M=t.finalText[e]).charCodeAt(0)," "===M?i=" ":13===w||3===w?(F=0,y.push(v),g=v>g?v:g,v=-2*E,i="",n=!0,m+=1):i=t.finalText[e],c.chars?(s=c.getCharData(M,b.fStyle,c.getFontByName(t.f).fFamily),k=n?0:s.w*t.finalSize/100):k=c.measureText(i,t.f,t.finalSize)," "===M?F+=k+E:(v+=k+E+F,F=0),u.push({l:k,an:k,add:p,n:n,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==f){if(p+=k,""===i||" "===i||e===r-1){for(""!==i&&" "!==i||(p-=k);d<=e;)u[d].an=p,u[d].ind=h,u[d].extra=k,d+=1;h+=1,p=0}}else if(3==f){if(p+=k,""===i||e===r-1){for(""===i&&(p-=k);d<=e;)u[d].an=p,u[d].ind=h,u[d].extra=k,d+=1;p=0,h+=1}}else u[h].ind=h,u[h].extra=0,h+=1;if(t.l=u,g=v>g?v:g,y.push(v),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=g,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var B,I,N=l.a;a=N.length;var R,L,j=[];for(o=0;o<a;o+=1){for((B=N[o]).a.sc&&(t.strokeColorAnim=!0),B.a.sw&&(t.strokeWidthAnim=!0),(B.a.fc||B.a.fh||B.a.fs||B.a.fb)&&(t.fillColorAnim=!0),L=0,R=B.s.b,e=0;e<r;e+=1)(I=u[e]).anIndexes[o]=L,(1==R&&""!==I.val||2==R&&""!==I.val&&" "!==I.val||3==R&&(I.n||" "==I.val||e==r-1)||4==R&&(I.n||e==r-1))&&(1===B.s.rn&&j.push(L),L+=1);l.a[o].s.totalChars=L;var z,K=-1;if(1===B.s.rn)for(e=0;e<r;e+=1)K!=(I=u[e]).anIndexes[o]&&(K=I.anIndexes[o],z=j.splice(Math.floor(Math.random()*j.length),1)[0]),I.anIndexes[o]=z}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=b.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function n(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,o=0,a=this.finalS,s=this.finalE,c=this.data.sh;if(2==c)o=i(o=s===a?n>=s?1:0:t(0,e(.5/(s-a)+(n-a)/(s-a),1)));else if(3==c)o=i(o=s===a?n>=s?0:1:1-t(0,e(.5/(s-a)+(n-a)/(s-a),1)));else if(4==c)s===a?o=0:(o=t(0,e(.5/(s-a)+(n-a)/(s-a),1)))<.5?o*=2:o=1-2*(o-.5),o=i(o);else if(5==c){if(s===a)o=0;else{var l=s-a,u=-l/2+(n=e(t(0,n+.5-a),s-a)),h=l/2;o=Math.sqrt(1-u*u/(h*h))}o=i(o)}else 6==c?(s===a?o=0:(n=e(t(0,n+.5-a),s-a),o=(1+Math.cos(Math.PI+2*Math.PI*n/(s-a)))/2),o=i(o)):(n>=r(a)&&(o=n-a<0?1-(a-n):t(0,e(s-n,1))),o=i(o));return o*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,n=this.s.v/e+r,i=this.e.v/e+r;if(n>i){var o=n;n=i,i=o}this.finalS=n,this.finalE=i}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(t,e,r){return new n(t,e,r)}}}(),pool_factory=function(t,e,r,n){var i=0,o=t,a=createSizedArray(o);function s(){return i?a[i-=1]:e()}return{newElement:s,release:function(t){i===o&&(a=pooling.double(a),o*=2),r&&r(t),a[i]=t,i+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,(function(){return createTypedArray("float32",2)})),shape_pool=(factory=pool_factory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,r=factory.newElement(),n=void 0===t._length?t.v.length:t._length;for(r.setLength(n),r.c=t.c,e=0;e<n;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory,shapeCollection_pool=function(){var t={newShapeCollection:function(){var t;t=e?n[e-=1]:new ShapeCollection;return t},release:function(t){var i,o=t._length;for(i=0;i<o;i+=1)shape_pool.release(t.shapes[i]);t._length=0,e===r&&(n=pooling.double(n),r*=2);n[e]=t,e+=1}},e=0,r=4,n=createSizedArray(r);return t}(),segments_length_pool=pool_factory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0})),bezier_length_pool=pool_factory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}));function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var n=createNS("title"),i=createElementID();n.setAttribute("id",i),n.textContent=e.title,this.svgElement.appendChild(n),r+=i}if(e&&e.description){var o=createNS("desc"),a=createElementID();o.setAttribute("id",a),o.textContent=e.description,this.svgElement.appendChild(o),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var s=createNS("defs");this.svgElement.appendChild(s);var c=createNS("g");this.svgElement.appendChild(c),this.layerElement=c,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||""},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!e||!1!==e.hideOnTransparent},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,i=this.globalData.defs,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var a,s,c,l,u,h,f,p=this.masksProperties,d=0,m=[],y=createElementID(),v="clipPath",g="clip-path";for(n=0;n<o;n++)if(("a"!==p[n].mode&&"n"!==p[n].mode||p[n].inv||100!==p[n].o.k)&&(v="mask",g="mask"),"s"!=p[n].mode&&"i"!=p[n].mode||0!==d?l=null:((l=createNS("rect")).setAttribute("fill","#ffffff"),l.setAttribute("width",this.element.comp.data.w||0),l.setAttribute("height",this.element.comp.data.h||0),m.push(l)),a=createNS("path"),"n"!=p[n].mode){var b;if(d+=1,a.setAttribute("fill","s"===p[n].mode?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero"),0!==p[n].x.k?(v="mask",g="mask",f=PropertyFactory.getProp(this.element,p[n].x,0,null,this.element),b=createElementID(),(u=createNS("filter")).setAttribute("id",b),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),u.appendChild(h),i.appendChild(u),a.setAttribute("stroke","s"===p[n].mode?"#000000":"#ffffff")):(h=null,f=null),this.storedData[n]={elem:a,x:f,expan:h,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==p[n].mode){c=m.length;var k=createNS("g");for(s=0;s<c;s+=1)k.appendChild(m[s]);var _=createNS("mask");_.setAttribute("mask-type","alpha"),_.setAttribute("id",y+"_"+d),_.appendChild(a),i.appendChild(_),k.setAttribute("mask","url("+locationHref+"#"+y+"_"+d+")"),m.length=0,m.push(k)}else m.push(a);p[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),invRect:l},this.viewData[n].prop.k||this.drawPath(p[n],this.viewData[n].prop.v,this.viewData[n])}else this.viewData[n]={op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),elem:a,lastPath:""},i.appendChild(a);for(this.maskElement=createNS(v),o=m.length,n=0;n<o;n+=1)this.maskElement.appendChild(m[n]);d>0&&(this.maskElement.setAttribute("id",y),this.element.maskedElement.setAttribute(g,"url("+locationHref+"#"+y+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var n=0,i=t.length;n<i;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,r,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e--)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r,n=t.length,i=this.layers.length;for(e=0;e<n;e+=1)for(r=0;r<i;){if(this.layers[r].id==t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var n=this.elements,i=this.layers,o=0,a=i.length;o<a;)i[o].ind==e&&(n[o]&&!0!==n[o]?(r.push(n[o]),n[o].setAsParent(),void 0!==i[o].parent?this.buildElementParenting(t,i[o].parent,r):t.setHierarchy(r)):(this.buildItem(o),this.addPendingElement(t))),o+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var i=createElementID();r.setAttribute("id",i),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+i+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?r.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var n,i=0;i<e;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var r,n=this.contextData.saved[this.contextData.cArrPos];for(r=0;r<16;r+=1)n[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(e=0;e<16;e+=1)n[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,r,n;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),o=i[1]||"meet",a=i[0]||"xMidYMid",s=a.substr(0,4),c=a.substr(4);r=t/e,(n=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===o||n<r&&"slice"===o?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(n<r&&"meet"===o||n>r&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(n<r&&"meet"===o||n>r&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===c&&(n>r&&"meet"===o||n<r&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===c&&(n>r&&"meet"===o||n<r&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<n;r++)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var n=this.layers[e];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var i,o,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(o=this.elements[a],i=(this.layers[a].ddd?this.getThreeDContainerByPos(a):o.getBaseElement())||i),a+=1;i?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,i):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var r=createTag("div");styleDiv(r);var n=createTag("div");styleDiv(n),"3d"===e&&(r.style.width=this.globalData.compSize.w+"px",r.style.height=this.globalData.compSize.h+"px",r.style.transformOrigin=r.style.mozTransformOrigin=r.style.webkitTransformOrigin="50% 50%",n.style.transform=n.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),r.appendChild(n);var i={container:n,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(i),i},HybridRenderer.prototype.build3dContainers=function(){var t,e,r=this.layers.length,n="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==n&&(n="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==n&&(n="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t--)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var r=0,n=this.threeDElements.length;r<n;){if(e<=this.threeDElements[r].endPos){for(var i,o=this.threeDElements[r].startPos;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(i=this.elements[o].getBaseElement()),o+=1;i?this.threeDElements[r].container.insertBefore(t,i):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),e.style.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var i=createNS("defs");n.appendChild(i),this.data=t,this.setupGlobalData(t,n),this.globalData.defs=i,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,r,n,i=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight,a=i/o;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,r=0,n=(o-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=o/this.globalData.compSize.h,e=o/this.globalData.compSize.h,r=(i-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,n=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+n+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,n=this.threeDElements.length;for(t=0;t<n;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,n=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var i=this.createComp(t[e],n,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&(this.viewData[e].invRect.setAttribute("x",-r.props[12]),this.viewData[e].invRect.setAttribute("y",-r.props[13])),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var n,i,o=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,n=1;n<i;n+=1)o+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[n][0]+","+e.i[n][1]+" "+e.v[n][0]+","+e.v[n][1];if(e.c&&i>1&&(o+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==o){var a="";r.elem&&(e.c&&(a=t.inv?this.solidPath+o:o),r.elem.setAttribute("d",a)),r.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<n;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r=!0,n=this.comp;r;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):r=!1;var i,o,a=e.length;for(i=0;i<a;i+=1)o=e[i].mat.applyToPointArray(0,0,0),t=[t[0]-o[0],t[1]-o[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),n=createNS(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var i,o,a,s=[];for(a=4*e.g.p,o=0;o<a;o+=4)i=createNS("stop"),n.appendChild(i),s.push(i);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+r+")"),this.gf=n,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,i,o=createNS("mask"),a=createNS("path");o.appendChild(a);var s=createElementID(),c=createElementID();o.setAttribute("id",c);var l=createNS(1===t.t?"linearGradient":"radialGradient");l.setAttribute("id",s),l.setAttribute("spreadMethod","pad"),l.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=this.stops;for(n=4*t.g.p;n<i;n+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),l.appendChild(r),u.push(r);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=l,this.ms=o,this.ost=u,this.maskId=c,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function n(r,n,i){var o,a,s,c,l,u,h,f,p,d,m,y=n.styles.length,v=n.lvl;for(u=0;u<y;u+=1){if(c=n.sh._mdf||i,n.styles[u].lvl<v){for(f=e.reset(),d=v-n.styles[u].lvl,m=n.transformers.length-1;!c&&d>0;)c=n.transformers[m].mProps._mdf||c,d--,m--;if(c)for(d=v-n.styles[u].lvl,m=n.transformers.length-1;d>0;)p=n.transformers[m].mProps.v.props,f.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),d--,m--}else f=t;if(a=(h=n.sh.paths)._length,c){for(s="",o=0;o<a;o+=1)(l=h.shapes[o])&&l._length&&(s+=buildShapeString(l,l._length,l.c,f));n.caches[u]=s}else s=n.caches[u];n.styles[u].d+=!0===r.hd?"":s,n.styles[u]._mdf=c||n.styles[u]._mdf}}function i(t,e,r){var n=e.style;(e.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,r){a(t,e,r),s(t,e,r)}function a(t,e,r){var n,i,o,a,s,c=e.gf,l=e.g._hasOpacity,u=e.s.v,h=e.e.v;if(e.o._mdf||r){var f="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(f,e.o.v)}if(e.s._mdf||r){var p=1===t.t?"x1":"cx",d="x1"===p?"y1":"cy";c.setAttribute(p,u[0]),c.setAttribute(d,u[1]),l&&!e.g._collapsable&&(e.of.setAttribute(p,u[0]),e.of.setAttribute(d,u[1]))}if(e.g._cmdf||r){n=e.cst;var m=e.g.c;for(o=n.length,i=0;i<o;i+=1)(a=n[i]).setAttribute("offset",m[4*i]+"%"),a.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(l&&(e.g._omdf||r)){var y=e.g.o;for(o=(n=e.g._collapsable?e.cst:e.ost).length,i=0;i<o;i+=1)a=n[i],e.g._collapsable||a.setAttribute("offset",y[2*i]+"%"),a.setAttribute("stop-opacity",y[2*i+1])}if(1===t.t)(e.e._mdf||r)&&(c.setAttribute("x2",h[0]),c.setAttribute("y2",h[1]),l&&!e.g._collapsable&&(e.of.setAttribute("x2",h[0]),e.of.setAttribute("y2",h[1])));else if((e.s._mdf||e.e._mdf||r)&&(s=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)),c.setAttribute("r",s),l&&!e.g._collapsable&&e.of.setAttribute("r",s)),e.e._mdf||e.h._mdf||e.a._mdf||r){s||(s=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)));var v=Math.atan2(h[1]-u[1],h[0]-u[0]),g=s*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),b=Math.cos(v+e.a.v)*g+u[0],k=Math.sin(v+e.a.v)*g+u[1];c.setAttribute("fx",b),c.setAttribute("fy",k),l&&!e.g._collapsable&&(e.of.setAttribute("fx",b),e.of.setAttribute("fy",k))}}function s(t,e,r){var n=e.style,i=e.d;i&&(i._mdf||r)&&i.dashStr&&(n.pElem.setAttribute("stroke-dasharray",i.dashStr),n.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){t.ty;switch(t.ty){case"fl":return i;case"gf":return a;case"gs":return o;case"st":return s;case"sh":case"el":case"rc":case"sr":return n;case"tr":return r}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;"rc"==e.ty?i=5:"el"==e.ty?i=6:"sr"==e.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,i,t);var o,a,s=r.length;for(o=0;o<s;o+=1)r[o].closed||(a={transforms:n.addTransformSequence(r[o].transforms),trNodes:[]},this.styledShapes.push(a),r[o].elements.push(a))}function BaseElement(){}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,r){this.initElement(t,e,r)}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r),(r=createNS("feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),t.appendChild(r),this.matrixFilter=r,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var n,i=createNS("feMerge");t.appendChild(i),(n=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),i.appendChild(n),(n=createNS("feMergeNode")).setAttribute("in","f2"),i.appendChild(n)}}function SVGFillFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(r),this.matrixFilter=r}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(n),this.matrixFilter=n;var i=createNS("feFuncR");i.setAttribute("type","table"),n.appendChild(i),this.feFuncR=i;var o=createNS("feFuncG");o.setAttribute("type","table"),n.appendChild(o),this.feFuncG=o;var a=createNS("feFuncB");a.setAttribute("type","table"),n.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(t,e){this.filterManager=e;var r=this.filterManager.effectElements,n=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(n),n=createNS("feComponentTransfer")),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&(n.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}function SVGDropShadowEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var r=createNS("feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,t.appendChild(r);var n=createNS("feOffset");n.setAttribute("dx","25"),n.setAttribute("dy","0"),n.setAttribute("in","drop_shadow_1"),n.setAttribute("result","drop_shadow_2"),this.feOffset=n,t.appendChild(n);var i=createNS("feFlood");i.setAttribute("flood-color","#00ff00"),i.setAttribute("flood-opacity","1"),i.setAttribute("result","drop_shadow_3"),this.feFlood=i,t.appendChild(i);var o=createNS("feComposite");o.setAttribute("in","drop_shadow_3"),o.setAttribute("in2","drop_shadow_2"),o.setAttribute("operator","in"),o.setAttribute("result","drop_shadow_4"),t.appendChild(o);var a,s=createNS("feMerge");t.appendChild(s),a=createNS("feMergeNode"),s.appendChild(a),(a=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=s,this.originalNodeAdded=!1,s.appendChild(a)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,n="_";for(e=0;e<r;e+=1)n+=t[e].transform.key+"_";var i=this.sequences[n];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){for(var r,n=0,i=t.transforms.length,o=e;n<i&&!e;){if(t.transforms[n].transform.mProps._mdf){o=!0;break}n+=1}if(o)for(t.finalTransform.reset(),n=i-1;n>=0;n-=1)r=t.transforms[n].transform.mProps.v.props,t.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);t._mdf=o},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var i=createNS("mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),i.appendChild(this.layerElement),n=i,this.globalData.defs.appendChild(i),featureSupport.maskType||1!=this.data.td||(i.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),n=r,i.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var a=createNS("g");o.appendChild(a),t=createElementID(),e=filtersFactory.createFilter(t);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),e.appendChild(s);var c=createNS("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),s.appendChild(c),this.globalData.defs.appendChild(e);var l=createNS("rect");l.setAttribute("width",this.comp.data.w),l.setAttribute("height",this.comp.data.h),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("fill","#ffffff"),l.setAttribute("opacity","0"),a.setAttribute("filter","url("+locationHref+"#"+t+")"),a.appendChild(l),a.appendChild(this.layerElement),n=a,featureSupport.maskType||(o.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),a.appendChild(l),r.appendChild(this.layerElement),n=r,a.appendChild(r)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),h=createNS("path");h.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var f=createElementID();if(u.setAttribute("id",f),u.appendChild(h),this.globalData.defs.appendChild(u),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+locationHref+"#"+f+")"),p.appendChild(this.layerElement),this.transformedElement=p,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+f+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,n=e.length;r<n;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===t)return void(r[n].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,n,i=e.length,o="";for(r=0;r<i;r+=1)n=e[r].ks.k,o+=buildShapeString(n,n.i.length,!0,t);return o},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,n,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(n,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,n=[],i="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(i),i=""):i+=t[e],e+=1;return n.push(i),n},SVGTextElement.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var i=r.fWeight,o=r.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("arial-label",r.t);var a,s=r.l||[],c=!!this.globalData.fontManager.chars;e=s.length;var l,u=this.mHelper,h="",f=this.data.singleShape,p=0,d=0,m=!0,y=r.tr/1e3*r.finalSize;if(!f||c||r.sz){var v,g,b=this.textSpans.length;for(t=0;t<e;t+=1)c&&f&&0!==t||(a=b>t?this.textSpans[t]:createNS(c?"path":"text"),b<=t&&(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=a,this.layerElement.appendChild(a)),a.style.display="inherit"),u.reset(),u.scale(r.finalSize/100,r.finalSize/100),f&&(s[t].n&&(p=-y,d+=r.yOffset,d+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(r,u,s[t].line,p,d),p+=s[t].l||0,p+=y),c?(l=(v=(g=this.globalData.fontManager.getCharData(r.finalText[t],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&g.data||{}).shapes?v.shapes[0].it:[],f?h+=this.createPathShape(u,l):a.setAttribute("d",this.createPathShape(u,l))):(f&&a.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),a.textContent=s[t].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));f&&a&&a.setAttribute("d",h)}else{var k=this.textContainer,_="start";switch(r.j){case 1:_="end";break;case 2:_="middle"}k.setAttribute("text-anchor",_),k.setAttribute("letter-spacing",y);var x=this.buildTextContents(r.finalText);for(e=x.length,d=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t]||createNS("tspan")).textContent=x[t],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",k.appendChild(a),this.textSpans[t]=a,d+=r.finalLineHeight;this.layerElement.appendChild(k)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,n,i=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n||(r=i[t],n=this.textSpans[t],r._mdf.m&&n.setAttribute("transform",r.m),r._mdf.o&&n.setAttribute("opacity",r.o),r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r._mdf.sc&&n.setAttribute("stroke",r.sc),r._mdf.fc&&n.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,n,i=this.shapes.length,o=this.stylesList.length,a=[],s=!1;for(r=0;r<o;r+=1){for(n=this.stylesList[r],s=!1,a.length=0,t=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(n)&&(a.push(e),s=e._isAnimated||s);a.length>1&&s&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,n=new SVGStyleData(t,e),i=n.pElem;if("st"===t.ty)r=new SVGStrokeStyleData(this,t,n);else if("fl"===t.ty)r=new SVGFillStyleData(this,t,n);else if("gf"===t.ty||"gs"===t.ty){r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),i.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))}return"st"!==t.ty&&"gs"!==t.ty||(i.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),i.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),n=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);var i=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,n,i,o,a){var s,c,l,u,h,f,p=[].concat(o),d=t.length-1,m=[],y=[];for(s=d;s>=0;s-=1){if((f=this.searchProcessedElement(t[s]))?e[s]=r[f-1]:t[s]._render=a,"fl"==t[s].ty||"st"==t[s].ty||"gf"==t[s].ty||"gs"==t[s].ty)f?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],i),t[s]._render&&n.appendChild(e[s].style.pElem),m.push(e[s].style);else if("gr"==t[s].ty){if(f)for(l=e[s].it.length,c=0;c<l;c+=1)e[s].prevViewData[c]=e[s].it[c];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,e[s].gr,i+1,p,a),t[s]._render&&n.appendChild(e[s].gr)}else"tr"==t[s].ty?(f||(e[s]=this.createTransformElement(t[s],n)),u=e[s].transform,p.push(u)):"sh"==t[s].ty||"rc"==t[s].ty||"el"==t[s].ty||"sr"==t[s].ty?(f||(e[s]=this.createShapeElement(t[s],p,i)),this.setElementStyles(e[s])):"tm"==t[s].ty||"rd"==t[s].ty||"ms"==t[s].ty?(f?(h=e[s]).closed=!1:((h=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=h,this.shapeModifiers.push(h)),y.push(h)):"rp"==t[s].ty&&(f?(h=e[s]).closed=!0:(h=ShapeModifiers.getModifier(t[s].ty),e[s]=h,h.init(this,t,s,e),this.shapeModifiers.push(h),a=!1),y.push(h));this.addProcessedElement(t[s],s+1)}for(d=m.length,s=0;s<d;s+=1)m[s].closed=!0;for(d=y.length,s=0;s<d;s+=1)y[s].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,n,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=(r=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<n;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),a=createElementID();o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(e),this.elem.globalData.defs.appendChild(o);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+a+")");i[0];)s.appendChild(i[0]);this.elem.layerElement.appendChild(s),this.masker=o,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,r,n,i=this.paths.length;for(e=0;e<i;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],n=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&n.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,c=n.getTotalLength();o="0 0 0 "+c*a+" ";var l,u=c*(s-a),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,f=Math.floor(u/h);for(l=0;l<f;l+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";o+="0 "+10*c+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;n.setAttribute("stroke-dasharray",o)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*p[0])+","+bm_floor(255*p[1])+","+bm_floor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,i=n[0]+" "+r[0]+" "+e[0],o=n[1]+" "+r[1]+" "+e[1],a=n[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,n,i){for(var o,a,s=0,c=Math.min(t,e),l=Math.max(t,e),u=Array.call(null,{length:256}),h=0,f=i-n,p=e-t;s<=256;)a=(o=s/256)<=c?p<0?i:n:o>=l?p<0?n:i:n+f*Math.pow((o-t)/p,1/r),u[h++]=a,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=r*Math.cos(n),o=r*Math.sin(n);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(t){var e,r,n=t.data.ef?t.data.ef.length:0,i=createElementID(),o=filtersFactory.createFilter(i),a=0;for(this.filters=[],e=0;e<n;e+=1)r=null,20===t.data.ef[e].ty?(a+=1,r=new SVGTintFilter(o,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(a+=1,r=new SVGFillFilter(o,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?r=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(a+=1,r=new SVGTritoneFilter(o,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(a+=1,r=new SVGProLevelsFilter(o,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(a+=1,r=new SVGDropShadowEffect(o,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty&&(r=new SVGMatte3Effect(o,t.effectsManager.effectElements[e],t)),r&&this.filters.push(r);a&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+locationHref+"#"+i+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var t;for(this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,r){this.failed=!1,this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,r)}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,n=this.masksProperties.length,i=!1;for(r=0;r<n;r++)"n"!==this.masksProperties[r].mode&&(i=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVEffects(){}function HBaseElement(t,e,r){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,t.pe,0,0,this),t.ks.p.s?(this.px=n(this,t.ks.p.x,1,0,this),this.py=n(this,t.ks.p.y,1,0,this),this.pz=n(this,t.ks.p.z,1,0,this)):this.p=n(this,t.ks.p,1,0,this),t.ks.a&&(this.a=n(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,o=t.ks.or.k.length;for(i=0;i<o;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=n(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,t.ks.rx,0,degToRads,this),this.ry=n(this,t.ks.ry,0,degToRads,this),this.rz=n(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var n,i=r.children,o=0,a=i.length;o<a&&i[o]!==t.layerElement;)o+=1;o<=a-2&&(n=i[o+1]);var s=createNS("use");s.setAttribute("href","#"+e),n?r.insertBefore(s,n):r.appendChild(s)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(n);var o=createNS("symbol");o.setAttribute("id",r),this.replaceInParent(e,r),o.appendChild(e.layerElement),i.appendChild(o);var a=createNS("use");a.setAttribute("href","#"+r),n.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,n=e.length;r<n;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){this.hidden||this.data.hd||(this.renderTransform(),this.renderRenderable(),this.setBlendMode(),this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,n=t.getContext("2d"),i=this.img.width,o=this.img.height,a=i/o,s=this.assetData.w/this.assetData.h,c=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>s&&"xMidYMid slice"===c||a<s&&"xMidYMid slice"!==c?e=(r=o)*s:r=(e=i)/s,n.drawImage(this.img,(i-e)/2,(o-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(t){this.failed||this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,n,i=this.element.finalTransform.mat,o=this.element.canvasContext,a=this.masksProperties.length;for(o.beginPath(),t=0;t<a;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),n=this.viewData[t].v,e=i.applyToPointArray(n.v[0][0],n.v[0][1],0),o.moveTo(e[0],e[1]);var s,c=n._length;for(s=1;s<c;s++)r=i.applyToTriplePoints(n.o[s-1],n.i[s],n.v[s]),o.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=i.applyToTriplePoints(n.o[s-1],n.i[0],n.v[0]),o.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};if("fl"==t.ty||"st"==t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(r.co="rgb("+bm_floor(n.c.v[0])+","+bm_floor(n.c.v[1])+","+bm_floor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty){if(r.lc=this.lcEnum[t.lc]||"round",r.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(r.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(r.wi=n.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);n.d=i,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,n,i){var o,a,s,c,l,u,h=t.length-1,f=[],p=[],d=[].concat(i);for(o=h;o>=0;o-=1){if((c=this.searchProcessedElement(t[o]))?e[o]=r[c-1]:t[o]._shouldRender=n,"fl"==t[o].ty||"st"==t[o].ty||"gf"==t[o].ty||"gs"==t[o].ty)c?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],d),f.push(e[o].style);else if("gr"==t[o].ty){if(c)for(s=e[o].it.length,a=0;a<s;a+=1)e[o].prevViewData[a]=e[o].it[a];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,n,d)}else"tr"==t[o].ty?(c||(u=this.createTransformElement(t[o]),e[o]=u),d.push(e[o]),this.addTransformToStyleList(e[o])):"sh"==t[o].ty||"rc"==t[o].ty||"el"==t[o].ty||"sr"==t[o].ty?c||(e[o]=this.createShapeElement(t[o])):"tm"==t[o].ty||"rd"==t[o].ty?(c?(l=e[o]).closed=!1:((l=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=l,this.shapeModifiers.push(l)),p.push(l)):"rp"==t[o].ty&&(c?(l=e[o]).closed=!0:(l=ShapeModifiers.getModifier(t[o].ty),e[o]=l,l.init(this,t,o,e),this.shapeModifiers.push(l),n=!1),p.push(l));this.addProcessedElement(t[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(f),h=p.length,o=0;o<h;o+=1)p[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,n,i,o,a,s,c,l=this.stylesList.length,u=this.globalData.renderer,h=this.globalData.canvasContext;for(t=0;t<l;t+=1)if(("st"!==(s=(c=this.stylesList[t]).type)&&"gs"!==s||0!==c.wi)&&c.data._shouldRender&&0!==c.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),o=c.elements,"st"===s||"gs"===s?(h.strokeStyle="st"===s?c.co:c.grd,h.lineWidth=c.wi,h.lineCap=c.lc,h.lineJoin=c.lj,h.miterLimit=c.ml||0):h.fillStyle="fl"===s?c.co:c.grd,u.ctxOpacity(c.coOp),"st"!==s&&"gs"!==s&&h.beginPath(),u.ctxTransform(c.preTransforms.finalTransform.props),r=o.length,e=0;e<r;e+=1){for("st"!==s&&"gs"!==s||(h.beginPath(),c.da&&(h.setLineDash(c.da),h.lineDashOffset=c.do)),i=(a=o[e].trNodes).length,n=0;n<i;n+=1)"m"==a[n].t?h.moveTo(a[n].p[0],a[n].p[1]):"c"==a[n].t?h.bezierCurveTo(a[n].pts[0],a[n].pts[1],a[n].pts[2],a[n].pts[3],a[n].pts[4],a[n].pts[5]):h.closePath();"st"!==s&&"gs"!==s||(h.stroke(),c.da&&h.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&h.fill(c.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,n){var i,o;for(o=t,i=e.length-1;i>=0;i-=1)"tr"==e[i].ty?(o=r[i].transform,this.renderShapeTransform(t,o)):"sh"==e[i].ty||"el"==e[i].ty||"rc"==e[i].ty||"sr"==e[i].ty?this.renderPath(e[i],r[i]):"fl"==e[i].ty?this.renderFill(e[i],r[i],o):"st"==e[i].ty?this.renderStroke(e[i],r[i],o):"gf"==e[i].ty||"gs"==e[i].ty?this.renderGradientFill(e[i],r[i],o):"gr"==e[i].ty?this.renderShape(o,e[i].it,r[i].it):e[i].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,n,i,o=t.trNodes,a=e.paths,s=a._length;o.length=0;var c=t.transforms.finalTransform;for(i=0;i<s;i+=1){var l=a.shapes[i];if(l&&l.v){for(n=l._length,r=1;r<n;r+=1)1===r&&o.push({t:"m",p:c.applyToPointArray(l.v[0][0],l.v[0][1],0)}),o.push({t:"c",pts:c.applyToTriplePoints(l.o[r-1],l.i[r],l.v[r])});1===n&&o.push({t:"m",p:c.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&n&&(o.push({t:"c",pts:c.applyToTriplePoints(l.o[r-1],l.i[0],l.v[0])}),o.push({t:"z"}))}}t.trNodes=o}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,n=e.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var n=e.style;if(!n.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var i=this.globalData.canvasContext,o=e.s.v,a=e.e.v;if(1===t.t)f=i.createLinearGradient(o[0],o[1],a[0],a[1]);else var s=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)),c=Math.atan2(a[1]-o[1],a[0]-o[0]),l=s*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),u=Math.cos(c+e.a.v)*l+o[0],h=Math.sin(c+e.a.v)*l+o[1],f=i.createRadialGradient(u,h,0,o[0],o[1],s);var p,d=t.g.p,m=e.g.c,y=1;for(p=0;p<d;p+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*p+1]),f.addColorStop(m[4*p]/100,"rgba("+m[4*p+1]+","+m[4*p+2]+","+m[4*p+3]+","+y+")");n.grd=f}n.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var n=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(n.da=i.dashArray,n.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var n,i,o=this.globalData.fontManager.getFontByName(t.f),a=t.l,s=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.finalText.length;var c,l,u,h,f,p,d,m,y,v,g=this.data.singleShape,b=t.tr/1e3*t.finalSize,k=0,_=0,x=!0,S=0;for(n=0;n<i;n+=1){for(l=(c=this.globalData.fontManager.getCharData(t.finalText[n],o.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&c.data||{},s.reset(),g&&a[n].n&&(k=-b,_+=t.yOffset,_+=x?1:0,x=!1),d=(f=l.shapes?l.shapes[0].it:[]).length,s.scale(t.finalSize/100,t.finalSize/100),g&&this.applyTextPropertiesToMatrix(t,s,a[n].line,k,_),y=createSizedArray(d),p=0;p<d;p+=1){for(h=f[p].ks.k.i.length,m=f[p].ks.k,v=[],u=1;u<h;u+=1)1==u&&v.push(s.applyToX(m.v[0][0],m.v[0][1],0),s.applyToY(m.v[0][0],m.v[0][1],0)),v.push(s.applyToX(m.o[u-1][0],m.o[u-1][1],0),s.applyToY(m.o[u-1][0],m.o[u-1][1],0),s.applyToX(m.i[u][0],m.i[u][1],0),s.applyToY(m.i[u][0],m.i[u][1],0),s.applyToX(m.v[u][0],m.v[u][1],0),s.applyToY(m.v[u][0],m.v[u][1],0));v.push(s.applyToX(m.o[u-1][0],m.o[u-1][1],0),s.applyToY(m.o[u-1][0],m.o[u-1][1],0),s.applyToX(m.i[0][0],m.i[0][1],0),s.applyToY(m.i[0][0],m.i[0][1],0),s.applyToX(m.v[0][0],m.v[0][1],0),s.applyToY(m.v[0][0],m.v[0][1],0)),y[p]=v}g&&(k+=a[n].l,k+=b),this.textSpans[S]?this.textSpans[S].elem=y:this.textSpans[S]={elem:y},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,n,i,o,a=this.canvasContext;this.finalTransform.mat.props;a.font=this.values.fValue,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,c=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var u,h,f=null,p=null,d=null;for(t=0;t<e;t+=1)if(!l[t].n){if((s=c[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?f!==s.fc&&(f=s.fc,a.fillStyle=s.fc):f!==this.values.fill&&(f=this.values.fill,a.fillStyle=this.values.fill),n=(u=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(o=(h=u[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?d!==s.sw&&(d=s.sw,a.lineWidth=s.sw):d!==this.values.sWidth&&(d=this.values.sWidth,a.lineWidth=this.values.sWidth),s&&s.sc?p!==s.sc&&(p=s.sc,a.strokeStyle=s.sc):p!==this.values.stroke&&(p=this.values.stroke,a.strokeStyle=this.values.stroke),n=(u=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(o=(h=u[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,n=0;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,n,i,o,a,s=t.sh.v,c=t.transformers,l=s._length;if(!(l<=1)){for(r=0;r<l-1;r+=1)n=this.getTransformedPoint(c,s.v[r]),i=this.getTransformedPoint(c,s.o[r]),o=this.getTransformedPoint(c,s.i[r+1]),a=this.getTransformedPoint(c,s.v[r+1]),this.checkBounds(n,i,o,a,e);s.c&&(n=this.getTransformedPoint(c,s.v[r]),i=this.getTransformedPoint(c,s.o[r]),o=this.getTransformedPoint(c,s.i[0]),a=this.getTransformedPoint(c,s.v[0]),this.checkBounds(n,i,o,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,n,i){this.getBoundsOfCurve(t,e,r,n);var o=this.shapeBoundingBox;i.x=bm_min(o.left,i.x),i.xMax=bm_max(o.right,i.xMax),i.y=bm_min(o.top,i.y),i.yMax=bm_max(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,n){for(var i,o,a,s,c,l,u,h=[[t[0],n[0]],[t[1],n[1]]],f=0;f<2;++f)if(o=6*t[f]-12*e[f]+6*r[f],i=-3*t[f]+9*e[f]-9*r[f]+3*n[f],a=3*e[f]-3*t[f],o|=0,a|=0,0!==(i|=0))(c=o*o-4*a*i)<0||(0<(l=(-o+bm_sqrt(c))/(2*i))&&l<1&&h[f].push(this.calculateF(l,t,e,r,n,f)),0<(u=(-o-bm_sqrt(c))/(2*i))&&u<1&&h[f].push(this.calculateF(u,t,e,r,n,f)));else{if(0===o)continue;0<(s=-a/o)&&s<1&&h[f].push(this.calculateF(s,t,e,r,n,f))}this.shapeBoundingBox.left=bm_min.apply(null,h[0]),this.shapeBoundingBox.top=bm_min.apply(null,h[1]),this.shapeBoundingBox.right=bm_max.apply(null,h[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,h[1])},HShapeElement.prototype.calculateF=function(t,e,r,n,i,o){return bm_pow(1-t,3)*e[o]+3*bm_pow(1-t,2)*t*r[o]+3*(1-t)*bm_pow(t,2)*n[o]+bm_pow(t,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it&&this.calculateBoundingBox(t[r].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),(r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y)&&(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r,n,i=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{e.fontFamily=i.fFamily;var o=t.fWeight,a=t.fStyle;e.fontStyle=a,e.fontWeight=o}var s,c,l,u=t.l;n=u.length;var h,f=this.mHelper,p="",d=0;for(r=0;r<n;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[d]?s=this.textPaths[d]:((s=createNS("path")).setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[d]?l=(c=this.textSpans[d]).children[0]:(c=createTag("div"),(l=createNS("svg")).appendChild(s),styleDiv(c)))):this.isMasked?s=this.textPaths[d]?this.textPaths[d]:createNS("text"):this.textSpans[d]?(c=this.textSpans[d],s=this.textPaths[d]):(styleDiv(c=createTag("span")),styleDiv(s=createTag("span")),c.appendChild(s)),this.globalData.fontManager.chars){var m,y=this.globalData.fontManager.getCharData(t.finalText[r],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(m=y?y.data:null,f.reset(),m&&m.shapes&&(h=m.shapes[0].it,f.scale(t.finalSize/100,t.finalSize/100),p=this.createPathShape(f,h),s.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(s);else{if(this.innerElem.appendChild(c),m&&m.shapes){document.body.appendChild(l);var v=l.getBBox();l.setAttribute("width",v.width+2),l.setAttribute("height",v.height+2),l.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2)),l.style.transform=l.style.webkitTransform="translate("+(v.x-1)+"px,"+(v.y-1)+"px)",u[r].yOffset=v.y-1}else l.setAttribute("width",1),l.setAttribute("height",1);c.appendChild(l)}}else s.textContent=u[r].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(s):(this.innerElem.appendChild(c),s.style.transform=s.style.webkitTransform="translate3d(0,"+-t.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[d]=s:this.textSpans[d]=c,this.textSpans[d].style.display="block",this.textPaths[d]=s,d+=1}for(;d<this.textSpans.length;)this.textSpans[d].style.display="none",d+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,e,r,n,i,o=0,a=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n?o+=1:(n=this.textSpans[t],i=this.textPaths[t],r=a[o],o+=1,r._mdf.m&&(this.isMasked?n.setAttribute("transform",r.m):n.style.transform=n.style.webkitTransform=r.m),n.style.opacity=r.o,r.sw&&r._mdf.sw&&i.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&i.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(i.setAttribute("fill",r.fc),i.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.innerElem.getBBox();this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.svgElement.setAttribute("width",c.width)),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.svgElement.setAttribute("height",c.height));this.currentBBox.w===c.width+2&&this.currentBBox.h===c.height+2&&this.currentBBox.x===c.x-1&&this.currentBBox.y===c.y-1||(this.currentBBox.w=c.width+2,this.currentBBox.h=c.height+2,this.currentBBox.x=c.x-1,this.currentBBox.y=c.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r=this.comp.threeDElements.length;for(t=0;t<r;t+=1)"3d"===(e=this.comp.threeDElements[t]).type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var n=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),a=[i[0]/o,i[1]/o,i[2]/o],s=Math.sqrt(a[2]*a[2]+a[0]*a[0]),c=Math.atan2(a[1],s),l=Math.atan2(a[0],-a[2]);this.mat.rotateY(l).rotateX(-c)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var h;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)"3d"===(h=this.comp.threeDElements[t]).type&&(u&&(h.container.style.transform=h.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(h.perspectiveElem.style.perspective=h.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],r=0,n=0,i=0,o=!0,a=!1;function s(t){for(var r=0,i=t.target;r<n;)e[r].animation===i&&(e.splice(r,1),r-=1,n-=1,i.isPaused||u()),r+=1}function c(t,r){if(!t)return null;for(var i=0;i<n;){if(e[i].elem==t&&null!==e[i].elem)return e[i].animation;i+=1}var o=new AnimationItem;return h(o,t),o.setData(t,r),o}function l(){i+=1,d()}function u(){i-=1}function h(t,r){t.addEventListener("destroy",s),t.addEventListener("_active",l),t.addEventListener("_idle",u),e.push({elem:r,animation:t}),n+=1}function f(t){var s,c=t-r;for(s=0;s<n;s+=1)e[s].animation.advanceTime(c);r=t,i&&!a?window.requestAnimationFrame(f):o=!0}function p(t){r=t,window.requestAnimationFrame(f)}function d(){!a&&i&&o&&(window.requestAnimationFrame(p),o=!1)}return t.registerAnimation=c,t.loadAnimation=function(t){var e=new AnimationItem;return h(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var i;for(i=0;i<n;i+=1)e[i].animation.setSpeed(t,r)},t.setDirection=function(t,r){var i;for(i=0;i<n;i+=1)e[i].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var n,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=i.length;for(n=0;n<o;n+=1)r&&i[n].setAttribute("data-bm-type",r),c(i[n],t);if(e&&0===o){r||(r="svg");var a=document.getElementsByTagName("body")[0];a.innerHTML="";var s=createTag("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",r),a.appendChild(s),c(s,t)}},t.resize=function(){var t;for(t=0;t<n;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,i){var o;for(o=0;o<n;o+=1)e[o].animation.goToAndStop(t,r,i)},t.destroy=function(t){var r;for(r=n-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,d()},t.getRegisteredAnimations=function(){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n.push(e[t].animation);return n},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||(!1===t.loop?this.loop=!1:!0===t.loop?this.loop=!0:this.loop=parseInt(t.loop)),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,t.animationData?this.configAnimation(t.animationData):t.path&&("json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json"),-1!=t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){var r={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},n=t.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var i=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";""===i||(r.loop="false"!==i&&("true"===i||parseInt(i)));var o=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==o,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,n=this.animationData.layers,i=n.length,o=t.layers,a=o.length;for(r=0;r<a;r+=1)for(e=0;e<i;){if(n[e].id==o[r].id){n[e]=o[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){this.renderer&&(this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.renderer.searchExtraCompositions(t.assets),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded())},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){!1!==this.isLoaded&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,r){r&&this.name!=r||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,r){this.goToAndStop(t,e,r),this.play()},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var r,n=t.length;for(r=0;r<n;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))};var Expressions=function(){var t={};return t.initExpressions=function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0===(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}},t}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var r,n=t.length,i=[];for(r=0;r<n;r+=1)i[r]=-t[r];return i}return t.propType?t.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=typeof t,n=typeof e;if("string"===r||"string"===n)return t+e;if(isNumerable(r,t)&&isNumerable(n,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,a=e.length,s=[];i<o||i<a;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?s[i]=t[i]+e[i]:s[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return s}return 0}var add=sum;function sub(t,e){var r=typeof t,n=typeof e;if(isNumerable(r,t)&&isNumerable(n,e))return"string"===r&&(t=parseInt(t)),"string"===n&&(e=parseInt(e)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]=t[0]-e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,a=e.length,s=[];i<o||i<a;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?s[i]=t[i]-e[i]:s[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return s}return 0}function mul(t,e){var r,n,i,o=typeof t,a=typeof e;if(isNumerable(o,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t[n]*e;return r}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t*e[n];return r}return 0}function div(t,e){var r,n,i,o=typeof t,a=typeof e;if(isNumerable(o,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t[n]/e;return r}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t/e[n];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var n=r;r=e,e=n}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var r,n=Math.min(t.length,e.length),i=0;for(r=0;r<n;r+=1)i+=Math.pow(e[r]-t[r],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,n=t[0],i=t[1],o=t[2],a=Math.max(n,i,o),s=Math.min(n,i,o),c=(a+s)/2;if(a==s)e=r=0;else{var l=a-s;switch(r=c>.5?l/(2-a-s):l/(a+s),a){case n:e=(i-o)/l+(i<o?6:0);break;case i:e=(o-n)/l+2;break;case o:e=(n-i)/l+4}e/=6}return[e,r,c,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,n,i=t[0],o=t[1],a=t[2];if(0===o)e=r=n=a;else{var s=a<.5?a*(1+o):a+o-a*o,c=2*a-s;e=hue2rgb(c,s,i+1/3),r=hue2rgb(c,s,i),n=hue2rgb(c,s,i-1/3)}return[e,r,n,t[3]]}function linear(t,e,r,n,i){if(void 0!==n&&void 0!==i||(n=e,i=r,e=0,r=1),r<e){var o=r;r=e,e=o}if(t<=e)return n;if(t>=r)return i;var a=r===e?0:(t-e)/(r-e);if(!n.length)return n+(i-n)*a;var s,c=n.length,l=createTypedArray("float32",c);for(s=0;s<c;s+=1)l[s]=n[s]+(i[s]-n[s])*a;return l}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,n=e.length;t||(t=createTypedArray("float32",n));var i=createTypedArray("float32",n),o=BMMath.random();for(r=0;r<n;r+=1)i[r]=t[r]+o*(e[r]-t[r]);return i}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,n){var i,o=t.length,a=shape_pool.newElement();a.setPathData(!!n,o);var s,c,l=[0,0];for(i=0;i<o;i+=1)s=e&&e[i]?e[i]:l,c=r&&r[i]?r[i]:l,a.setTripleAt(t[i][0],t[i][1],c[0]+t[i][0],c[1]+t[i][1],s[0]+t[i][0],s[1]+t[i][1],i,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,n,i=this.pv.length?this.pv.length:1,o=createTypedArray("float32",i);var a=Math.floor(5*time);for(r=0,n=0;r<a;){for(n=0;n<i;n+=1)o[n]+=-e+2*e*BMMath.random();r+=1}var s=5*time,c=s-Math.floor(s),l=createTypedArray("float32",i);if(i>1){for(n=0;n<i;n+=1)l[n]=this.pv[n]+o[n]+(-e+2*e*BMMath.random())*c;return l}return this.pv+o[0]+(-e+2*e*BMMath.random())*c}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(t,e,r,n,i){return applyEase(easeOutBez,t,e,r,n,i)}function easeIn(t,e,r,n,i){return applyEase(easeInBez,t,e,r,n,i)}function ease(t,e,r,n,i){return applyEase(easeInOutBez,t,e,r,n,i)}function applyEase(t,e,r,n,i,o){void 0===i?(i=r,o=n):e=(e-r)/(n-r);var a=t(e=e>1?1:e<0?0:e);if($bm_isInstanceOfArray(i)){var s,c=i.length,l=createTypedArray("float32",c);for(s=0;s<c;s+=1)l[s]=(o[s]-i[s])*a+i[s];return l}return(o-i)*a+i}function nearestKey(t){var e,r,n,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(e=0;e<i-1;e+=1){if(t===data.k[e].t){r=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,n=data.k[e+1].t):(r=e+1,n=data.k[e].t);break}}-1===r&&(r=e+1,n=data.k[e].t)}else r=0,n=0;var o={};return o.index=r,o.time=n/elem.comp.globalData.frameRate,o}function key(t){var e,r,n,i;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);for(t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]},n=(i=t!==data.k.length-1||data.k[t].h?data.k[t].s:data.k[t].s||0===data.k[t].s?data.k[t-1].s:data.k[t].e).length,r=0;r<n;r+=1)e[r]=i[r],e.value[r]=i[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),n=0;if(e.length){var i;for(i=0;i<e.length;i+=1)n+=Math.pow(r[i]-e[i],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,n=this.getValueAtTime(t),i=this.getValueAtTime(t+-.001);if(n.length)for(e=createTypedArray("float32",n.length),r=0;r<n.length;r+=1)e[r]=(i[r]-n[r])/-.001;else e=(i-n)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,i,o,a,s,c=this.comp.renderedFrame,l=this.keyframes,u=l[l.length-1].t;if(c<=u)return this.pv;if(r?i=u-(n=e?Math.abs(u-elem.comp.globalData.frameRate*e):Math.max(0,u-this.elem.data.ip)):((!e||e>l.length-1)&&(e=l.length-1),n=u-(i=l[l.length-1-e].t)),"pingpong"===t){if(Math.floor((c-i)/n)%2!=0)return this.getValueAtTime((n-(c-i)%n+i)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(i/this.comp.globalData.frameRate,0),f=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((c-i)%n+i)/this.comp.globalData.frameRate,0),d=Math.floor((c-i)/n);if(this.pv.length){for(a=(s=new Array(h.length)).length,o=0;o<a;o+=1)s[o]=(f[o]-h[o])*d+p[o];return s}return(f-h)*d+p}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),y=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-y[o])*((c-u)/this.comp.globalData.frameRate)/5e-4;return s}return m+(c-u)/.001*(m-y)}}return this.getValueAtTime(((c-i)%n+i)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,i,o,a,s,c=this.comp.renderedFrame,l=this.keyframes,u=l[0].t;if(c>=u)return this.pv;if(r?i=u+(n=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-u)):((!e||e>l.length-1)&&(e=l.length-1),n=(i=l[e].t)-u),"pingpong"===t){if(Math.floor((u-c)/n)%2==0)return this.getValueAtTime(((u-c)%n+u)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(u/this.comp.globalData.frameRate,0),f=this.getValueAtTime(i/this.comp.globalData.frameRate,0),p=this.getValueAtTime((n-(u-c)%n+u)/this.comp.globalData.frameRate,0),d=Math.floor((u-c)/n)+1;if(this.pv.length){for(a=(s=new Array(h.length)).length,o=0;o<a;o+=1)s[o]=p[o]-(f[o]-h[o])*d;return s}return p-(f-h)*d}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),y=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-y[o])*(u-c)/.001;return s}return m+(m-y)*(u-c)/.001}}return this.getValueAtTime((n-(u-c)%n+u)/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,n,i=this.comp.renderedFrame/this.comp.globalData.frameRate,o=i-t,a=e>1?(i+t-o)/(e-1):1,s=0,c=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;s<e;){if(n=this.getValueAtTime(o+s*a),this.pv.length)for(c=0;c<this.pv.length;c+=1)r[c]+=n[c];else r+=n;s+=1}if(this.pv.length)for(c=0;c<this.pv.length;c+=1)r[c]/=e;else r/=e;return r}function n(t){console.warn("Transform at time not supported")}function i(t){}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var a=o(t,e,r);return a.dynamicProperties.length?a.getValueAtTime=n.bind(a):a.getValueAtTime=i.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(n,i,o,s,c){var l=a(n,i,o,s,c);l.kf?l.getValueAtTime=expressionHelpers.getValueAtTime.bind(l):l.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(l),l.setGroupProperty=expressionHelpers.setGroupProperty,l.loopOut=t,l.loopIn=e,l.smooth=r,l.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(l),l.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(l),l.numKeys=1===i.a?i.k.length:0,l.propertyIndex=i.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),l._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(n,i,l),l.k&&c.addDynamicProperty(l),l};var s=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();function l(){}l.prototype={vertices:function(t,e){this.k&&this.getValue();var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var n,i=r._length,o=r[t],a=r.v,s=createSizedArray(i);for(n=0;n<i;n+=1)s[n]="i"===t||"o"===t?[o[n][0]-a[n][0],o[n][1]-a[n][1]]:[o[n][0],o[n][1]];return s},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,i=this._segmentsLength,o=i.lengths,a=i.totalLength*t,s=0,c=o.length,l=0;s<c;){if(l+o[s].addedLength>a){var u=s,h=r.c&&s===c-1?0:s+1,f=(a-l)/o[s].addedLength;n=bez.getPointInSegment(r.v[u],r.v[h],r.o[u],r.i[h],f,o[s]);break}l+=o[s].addedLength,s+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(t,e,r){t=1==t?this.v.c?0:.999:t;var n=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),o=i[0]-n[0],a=i[1]-n[1],s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return"tangent"===r?[o/s,a/s]:[-a/s,o/s]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([l],s),extendPrototype([l],c),c.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},c.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,n,i){var o=u(t,e,r,n,i);return o.propertyIndex=e.ix,o.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,o):4===r&&expressionHelpers.searchExpressions(t,e.ks,o),o.k&&t.addDynamicProperty(o),o}}(),TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var n={};return this.copyData(n,t),n.t=r.toString(),n.__complete=!1,n}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(){function t(t,h,f){var p,d=[],m=t?t.length:0;for(p=0;p<m;p+=1)"gr"==t[p].ty?d.push(e(t[p],h[p],f)):"fl"==t[p].ty?d.push(r(t[p],h[p],f)):"st"==t[p].ty?d.push(n(t[p],h[p],f)):"tm"==t[p].ty?d.push(i(t[p],h[p],f)):"tr"==t[p].ty||("el"==t[p].ty?d.push(o(t[p],h[p],f)):"sr"==t[p].ty?d.push(a(t[p],h[p],f)):"sh"==t[p].ty?d.push(u(t[p],h[p],f)):"rc"==t[p].ty?d.push(s(t[p],h[p],f)):"rd"==t[p].ty?d.push(c(t[p],h[p],f)):"rp"==t[p].ty&&d.push(l(t[p],h[p],f)));return d}function e(e,r,n){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=function(t){return 1===t?i:n(t-1)};var o=function(e,r,n){var i,o=function(t){for(var e=0,r=i.length;e<r;){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}if("number"==typeof t)return i[t-1]};return o.propertyGroup=function(t){return 1===t?o:n(t-1)},i=t(e.it,r.it,o.propertyGroup),o.numProperties=i.length,o.propertyIndex=e.cix,o._name=e.nm,o}(e,r,i.propertyGroup),a=function(t,e,r){function n(t){return 1==t?i:r(--t)}e.transform.mProps.o.setGroupProperty(n),e.transform.mProps.p.setGroupProperty(n),e.transform.mProps.a.setGroupProperty(n),e.transform.mProps.s.setGroupProperty(n),e.transform.mProps.r.setGroupProperty(n),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(n),e.transform.mProps.sa.setGroupProperty(n));function i(e){return t.a.ix===e||"Anchor Point"===e?i.anchorPoint:t.o.ix===e||"Opacity"===e?i.opacity:t.p.ix===e||"Position"===e?i.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:t.s.ix===e||"Scale"===e?i.scale:t.sk&&t.sk.ix===e||"Skew"===e?i.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?i.skewAxis:void 0}return e.transform.op.setGroupProperty(n),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),i.ty="tr",i.mn=t.mn,i.propertyGroup=r,i}(e.it[e.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.content=o,i.transform=a,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i}function r(t,e,r){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:void 0}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),n}function n(t,e,r){function n(t){return 1===t?ob:r(t-1)}function i(t){return 1===t?c:n(t-1)}function o(r){Object.defineProperty(c,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var a,s=t.d?t.d.length:0,c={};for(a=0;a<s;a+=1)o(a),e.d.dataProps[a].p.setGroupProperty(i);function l(t){return"Color"===t||"color"===t?l.color:"Opacity"===t||"opacity"===t?l.opacity:"Stroke Width"===t||"stroke width"===t?l.strokeWidth:void 0}return Object.defineProperties(l,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return c}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(n),e.o.setGroupProperty(n),e.w.setGroupProperty(n),l}function i(t,e,r){function n(t){return 1==t?i:r(--t)}function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:void 0}return i.propertyIndex=t.ix,e.s.setGroupProperty(n),e.e.setGroupProperty(n),e.o.setGroupProperty(n),i.propertyIndex=t.ix,i.propertyGroup=r,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),i.mn=t.mn,i}function o(t,e,r){function n(t){return 1==t?o:r(--t)}o.propertyIndex=t.ix;var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.s.ix===e?o.size:void 0}return i.s.setGroupProperty(n),i.p.setGroupProperty(n),Object.defineProperties(o,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:t.nm}}),o.mn=t.mn,o}function a(t,e,r){function n(t){return 1==t?o:r(--t)}var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.r.ix===e?o.rotation:t.pt.ix===e?o.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?o.outerRadius:t.os.ix===e?o.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?o.innerRoundness:void 0:o.innerRadius}return o.propertyIndex=t.ix,i.or.setGroupProperty(n),i.os.setGroupProperty(n),i.pt.setGroupProperty(n),i.p.setGroupProperty(n),i.r.setGroupProperty(n),t.ir&&(i.ir.setGroupProperty(n),i.is.setGroupProperty(n)),Object.defineProperties(o,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:t.nm}}),o.mn=t.mn,o}function s(t,e,r){function n(t){return 1==t?o:r(--t)}var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.r.ix===e?o.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?o.size:void 0}return o.propertyIndex=t.ix,i.p.setGroupProperty(n),i.s.setGroupProperty(n),i.r.setGroupProperty(n),Object.defineProperties(o,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:t.nm}}),o.mn=t.mn,o}function c(t,e,r){var n=e;function i(e){if(t.r.ix===e||"Round Corners 1"===e)return i.radius}return i.propertyIndex=t.ix,n.rd.setGroupProperty((function(t){return 1==t?i:r(--t)})),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(n.rd)},_name:{value:t.nm}}),i.mn=t.mn,i}function l(t,e,r){function n(t){return 1==t?o:r(--t)}var i=e;function o(e){return t.c.ix===e||"Copies"===e?o.copies:t.o.ix===e||"Offset"===e?o.offset:void 0}return o.propertyIndex=t.ix,i.c.setGroupProperty(n),i.o.setGroupProperty(n),Object.defineProperties(o,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:t.nm}}),o.mn=t.mn,o}function u(t,e,r){var n=e.sh;function i(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return i.path}return n.setGroupProperty((function(t){return 1==t?i:r(--t)})),Object.defineProperties(i,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},mn:{value:t.mn}}),i}return function(e,r,n){var i;function o(t){if("number"==typeof t)return i[t-1];for(var e=0,r=i.length;e<r;){if(i[e]._name===t)return i[e];e+=1}}return o.propertyGroup=n,i=t(e,r,o),o.numProperties=i.length,o}}(),TextExpressionInterface=function(t){var e;function r(){}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return void 0!==r&&(t.textProperty.currentData.t=void 0,(e=new String(r)).value=r||new String(r)),e}}),r},LayerExpressionInterface=function(){function t(t,e){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(r);return r.applyToPointArray(t[0],t[1],t[2]||0)}return r.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(r);return r.inversePoint(t)}return r.inversePoint(t)}function r(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function n(){return[1,1,1,1]}return function(i){var o;function a(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return a.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return o;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return a.effect}}a.toWorld=t,a.fromWorld=e,a.toComp=t,a.fromComp=r,a.sampleImage=n,a.sourceRectAtTime=i.sourceRectAtTime.bind(i),a._elem=i;var s=getDescriptor(o=TransformExpressionInterface(i.finalTransform.mProp),"anchorPoint");return Object.defineProperties(a,{hasParent:{get:function(){return i.hierarchy.length}},parent:{get:function(){return i.hierarchy[0].layerInterface}},rotation:getDescriptor(o,"rotation"),scale:getDescriptor(o,"scale"),position:getDescriptor(o,"position"),opacity:getDescriptor(o,"opacity"),anchorPoint:s,anchor_point:s,transform:{get:function(){return o}},active:{get:function(){return i.isInRange}}}),a.startTime=i.data.st,a.index=i.data.ind,a.source=i.data.refId,a.height=0===i.data.ty?i.data.h:100,a.width=0===i.data.ty?i.data.w:100,a.inPoint=i.data.ip/i.comp.globalData.frameRate,a.outPoint=i.data.op/i.comp.globalData.frameRate,a._name=i.data.nm,a.registerMaskInterface=function(t){a.mask=new MaskManagerInterface(t,i)},a.registerEffectsInterface=function(t){a.effect=t},a}}(),CompExpressionInterface=function(t){function e(e){for(var r=0,n=t.layers.length;r<n;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}if(Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p)var r=ExpressionPropertyInterface(t.p);return Object.defineProperty(e,"position",{get:function(){return t.p?r():[t.px.v,t.py.v,t.pz?t.pz.v:0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(r,n,i,o){var a,s=[],c=r.ef.length;for(a=0;a<c;a+=1)5===r.ef[a].ty?s.push(t(r.ef[a],n.effectElements[a],n.effectElements[a].propertyGroup,o)):s.push(e(n.effectElements[a],r.ef[a].ty,o,l));function l(t){return 1===t?u:i(t-1)}var u=function(t){for(var e=r.ef,n=0,i=e.length;n<i;){if(t===e[n].nm||t===e[n].mn||t===e[n].ix)return 5===e[n].ty?s[n]:s[n]();n+=1}return s[0]()};return u.propertyGroup=l,"ADBE Color Control"===r.mn&&Object.defineProperty(u,"color",{get:function(){return s[0]()}}),Object.defineProperty(u,"numProperties",{get:function(){return r.np}}),u.active=u.enabled=0!==r.en,u}function e(t,e,r,n){var i=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(n),function(){return 10===e?r.comp.compInterface(t.p.v):i()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var n,i=[],o=e.data.ef,a=e.effectsManager.effectElements.length;for(n=0;n<a;n+=1)i.push(t(o[n],e.effectsManager.effectElements[n],r,e));return function(t){for(var r=e.data.ef||[],n=0,o=r.length;n<o;){if(t===r[n].nm||t===r[n].mn||t===r[n].ix)return i[n];n+=1}}}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}});return function(e,r){var n,i=createSizedArray(e.viewData.length),o=e.viewData.length;for(n=0;n<o;n+=1)i[n]=new t(e.viewData[n],e.masksProperties[n]);return function(t){for(n=0;n<o;){if(e.masksProperties[n].nm===t)return i[n];n+=1}}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(n){if(t.numKeys){var i="";i="s"in e.keyframes[n-1]?e.keyframes[n-1].s:"e"in e.keyframes[n-2]?e.keyframes[n-2].e:e.keyframes[n-2].s;var o="unidimensional"===r?new Number(i):Object.assign({},i);return o.time=e.keyframes[n-1].t/e.elem.comp.globalData.frameRate,o}return 0},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function n(){return t}return function(i){return i?"unidimensional"===i.propType?function(e){e&&"pv"in e||(e=t);var n=1/e.mult,i=e.pv*n,o=new Number(i);return o.value=i,r(o,e,"unidimensional"),function(){return e.k&&e.getValue(),i=e.v*n,o.value!==i&&((o=new Number(i)).value=i,r(o,e,"unidimensional")),o}}(i):function(t){t&&"pv"in t||(t=e);var n=1/t.mult,i=t.pv.length,o=createTypedArray("float32",i),a=createTypedArray("float32",i);return o.value=a,r(o,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)o[e]=a[e]=t.v[e]*n;return o}}(i):n}}(),TextExpressionSelectorProp,propertyGetTextProp;function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(t,e){var r=t.ef||[];this.effectElements=[];var n,i,o=r.length;for(n=0;n<o;n++)i=new GroupEffect(r[n],e),this.effectElements.push(i)}function GroupEffect(t,e){this.init(t,e)}TextExpressionSelectorProp=function(){function t(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}return function(e,r){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=r.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,r,this),this.getMult=t,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(t,e,r){return 1===e.t?new TextExpressionSelectorProp(t,e,r):propertyGetTextProp(t,e,r)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,n,i=this.data.ef.length,o=this.data.ef;for(r=0;r<i;r+=1){switch(n=null,o[r].ty){case 0:n=new SliderEffect(o[r],e,this);break;case 1:n=new AngleEffect(o[r],e,this);break;case 2:n=new ColorEffect(o[r],e,this);break;case 3:n=new PointEffect(o[r],e,this);break;case 4:case 7:n=new CheckboxEffect(o[r],e,this);break;case 10:n=new LayerIndexEffect(o[r],e,this);break;case 11:n=new MaskIndexEffect(o[r],e,this);break;case 5:n=new EffectsManager(o[r],e,this);break;default:n=new NoValueEffect(o[r],e,this)}n&&this.effectElements.push(n)}};var lottiejs={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r++){var n=e[r].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}}lottiejs.play=animationManager.play,lottiejs.pause=animationManager.pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=animationManager.togglePause,lottiejs.setSpeed=animationManager.setSpeed,lottiejs.setDirection=animationManager.setDirection,lottiejs.stop=animationManager.stop,lottiejs.searchAnimations=searchAnimations,lottiejs.registerAnimation=animationManager.registerAnimation,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=animationManager.resize,lottiejs.goToAndStop=animationManager.goToAndStop,lottiejs.destroy=animationManager.destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.freeze=animationManager.freeze,lottiejs.unfreeze=animationManager.unfreeze,lottiejs.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottiejs.__getFactory=getFactory,lottiejs.version="5.5.2";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottiejs}))},5333:function(t,e,r){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;t.exports=function(t,e,r){if("string"!=typeof e){var a=Object.getOwnPropertyNames(e);o&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||i[a[s]]||r&&r[a[s]]))try{t[a[s]]=e[a[s]]}catch(t){}}return t}},5334:function(t,e){if(!r)var r={map:function(t,e){var r={};return e?t.map((function(t,n){return r.index=n,e.call(r,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var r={};return t.reduce(e?function(t,n,i){return r.index=i,t+e.call(r,n)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?r.map(t,e):t)}};var n=function(){function t(t,e,r){return(t<<10)+(e<<5)+r}function e(t){var e=[],r=!1;function n(){e.sort(t),r=!0}return{push:function(t){e.push(t),r=!1},peek:function(t){return r||n(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return r||n(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return r||n(),e}}}function n(t,e,r,n,i,o,a){this.r1=t,this.r2=e,this.g1=r,this.g2=n,this.b1=i,this.b2=o,this.histo=a}function i(){this.vboxes=new e((function(t,e){return r.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function o(e,n){if(n.count()){var i=n.r2-n.r1+1,o=n.g2-n.g1+1,a=n.b2-n.b1+1,s=r.max([i,o,a]);if(1==n.count())return[n.copy()];var c,l,u,h,f=0,p=[],d=[];if(s==i)for(c=n.r1;c<=n.r2;c++){for(h=0,l=n.g1;l<=n.g2;l++)for(u=n.b1;u<=n.b2;u++)h+=e[t(c,l,u)]||0;f+=h,p[c]=f}else if(s==o)for(c=n.g1;c<=n.g2;c++){for(h=0,l=n.r1;l<=n.r2;l++)for(u=n.b1;u<=n.b2;u++)h+=e[t(l,c,u)]||0;f+=h,p[c]=f}else for(c=n.b1;c<=n.b2;c++){for(h=0,l=n.r1;l<=n.r2;l++)for(u=n.g1;u<=n.g2;u++)h+=e[t(l,u,c)]||0;f+=h,p[c]=f}return p.forEach((function(t,e){d[e]=f-t})),m(s==i?"r":s==o?"g":"b")}function m(t){var e,r,i,o,a,s=t+"1",l=t+"2",u=0;for(c=n[s];c<=n[l];c++)if(p[c]>f/2){for(i=n.copy(),o=n.copy(),a=(e=c-n[s])<=(r=n[l]-c)?Math.min(n[l]-1,~~(c+r/2)):Math.max(n[s],~~(c-1-e/2));!p[a];)a++;for(u=d[a];!u&&p[a-1];)u=d[--a];return i[l]=a,o[s]=i[l]+1,[i,o]}}}return n.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(e){var r=this.histo;if(!this._count_set||e){var n,i,o,a=0;for(n=this.r1;n<=this.r2;n++)for(i=this.g1;i<=this.g2;i++)for(o=this.b1;o<=this.b2;o++)a+=r[t(n,i,o)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new n(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var r=this.histo;if(!this._avg||e){var n,i,o,a,s=0,c=0,l=0,u=0;for(i=this.r1;i<=this.r2;i++)for(o=this.g1;o<=this.g2;o++)for(a=this.b1;a<=this.b2;a++)s+=n=r[t(i,o,a)]||0,c+=n*(i+.5)*8,l+=n*(o+.5)*8,u+=n*(a+.5)*8;this._avg=s?[~~(c/s),~~(l/s),~~(u/s)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var e=t[0]>>3;return gval=t[1]>>3,bval=t[2]>>3,e>=this.r1&&e<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},i.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,r=0;r<e.size();r++)if(e.peek(r).vbox.contains(t))return e.peek(r).color;return this.nearest(t)},nearest:function(t){for(var e,r,n,i=this.vboxes,o=0;o<i.size();o++)((r=Math.sqrt(Math.pow(t[0]-i.peek(o).color[0],2)+Math.pow(t[1]-i.peek(o).color[1],2)+Math.pow(t[2]-i.peek(o).color[2],2)))<e||void 0===e)&&(e=r,n=i.peek(o).color);return n},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return r.naturalOrder(r.sum(t.color),r.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,i=t[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(t[n].color=[255,255,255])}},{quantize:function(a,s){if(!a.length||s<2||s>256)return!1;var c=function(e){var r,n,i,o,a=new Array(32768);return e.forEach((function(e){n=e[0]>>3,i=e[1]>>3,o=e[2]>>3,r=t(n,i,o),a[r]=(a[r]||0)+1})),a}(a);c.forEach((function(){0}));var l=function(t,e){var r,i,o,a=1e6,s=0,c=1e6,l=0,u=1e6,h=0;return t.forEach((function(t){r=t[0]>>3,i=t[1]>>3,o=t[2]>>3,r<a?a=r:r>s&&(s=r),i<c?c=i:i>l&&(l=i),o<u?u=o:o>h&&(h=o)})),new n(a,s,c,l,u,h,e)}(a,c),u=new e((function(t,e){return r.naturalOrder(t.count(),e.count())}));function h(t,e){for(var r,n=1,i=0;i<1e3;)if((r=t.pop()).count()){var a=o(c,r),s=a[0],l=a[1];if(!s)return;if(t.push(s),l&&(t.push(l),n++),n>=e)return;if(i++>1e3)return}else t.push(r),i++}u.push(l),h(u,.75*s);for(var f=new e((function(t,e){return r.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));u.size();)f.push(u.pop());h(f,s-f.size());for(var p=new i;f.size();)p.push(f.pop());return p}}}();t.exports=n.quantize},5364:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{name:"Afghanistan",code:"AF"},{name:"Aland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia, Plurinational State of",code:"BO"},{name:"Bonaire, Sint Eustatius and Saba",code:"BQ"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote d'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Curacao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and McDonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestine, State of",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Barthélemy",code:"BL"},{name:"Saint Helena, Ascension and Tristan da Cunha",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Martin (French part)",code:"MF"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Sint Maarten (Dutch part)",code:"SX"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela, Bolivarian Republic of",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]},5393:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{label:"Alberta",value:"AB"},{label:"British Columbia",value:"BC"},{label:"Manitoba",value:"MB"},{label:"New Brunswick",value:"NB"},{label:"Newfoundland and Labrador",value:"NL"},{label:"Nova Scotia",value:"NS"},{label:"Ontario",value:"ON"},{label:"Prince Edward Island",value:"PE"},{label:"Quebec",value:"QC"},{label:"Saskatchewan",value:"SK"},{label:"Northwest Territories",value:"NT"},{label:"Nunavut",value:"NU"},{label:"Yukon",value:"YT"}]},5394:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{label:"Alabama",value:"AL"},{label:"Alaska",value:"AK"},{label:"American Samoa",value:"AS"},{label:"Arizona",value:"AZ"},{label:"Arkansas",value:"AR"},{label:"Armed Forces: Americas",value:"AA"},{label:"Armed Forces: Europe",value:"AE"},{label:"Armed Forces: Pacific",value:"AP"},{label:"California",value:"CA"},{label:"Colorado",value:"CO"},{label:"Connecticut",value:"CT"},{label:"Delaware",value:"DE"},{label:"District Of Columbia",value:"DC"},{label:"Federated States Of Micronesia",value:"FM"},{label:"Florida",value:"FL"},{label:"Georgia",value:"GA"},{label:"Guam",value:"GU"},{label:"Hawaii",value:"HI"},{label:"Idaho",value:"ID"},{label:"Illinois",value:"IL"},{label:"Indiana",value:"IN"},{label:"Iowa",value:"IA"},{label:"Kansas",value:"KS"},{label:"Kentucky",value:"KY"},{label:"Louisiana",value:"LA"},{label:"Maine",value:"ME"},{label:"Marshall Islands",value:"MH"},{label:"Maryland",value:"MD"},{label:"Massachusetts",value:"MA"},{label:"Michigan",value:"MI"},{label:"Minnesota",value:"MN"},{label:"Mississippi",value:"MS"},{label:"Missouri",value:"MO"},{label:"Montana",value:"MT"},{label:"Nebraska",value:"NE"},{label:"Nevada",value:"NV"},{label:"New Hampshire",value:"NH"},{label:"New Jersey",value:"NJ"},{label:"New Mexico",value:"NM"},{label:"New York",value:"NY"},{label:"North Carolina",value:"NC"},{label:"North Dakota",value:"ND"},{label:"Northern Mariana Islands",value:"MP"},{label:"Ohio",value:"OH"},{label:"Oklahoma",value:"OK"},{label:"Oregon",value:"OR"},{label:"Palau",value:"PW"},{label:"Pennsylvania",value:"PA"},{label:"Puerto Rico",value:"PR"},{label:"Rhode Island",value:"RI"},{label:"South Carolina",value:"SC"},{label:"South Dakota",value:"SD"},{label:"Tennessee",value:"TN"},{label:"Texas",value:"TX"},{label:"Utah",value:"UT"},{label:"Vermont",value:"VT"},{label:"Virgin Islands",value:"VI"},{label:"Virginia",value:"VA"},{label:"Washington",value:"WA"},{label:"West Virginia",value:"WV"},{label:"Wisconsin",value:"WI"},{label:"Wyoming",value:"WY"}]},5395:function(t,e,r){"use strict";var n={},i=["visa","master-card","american-express","diners-club","discover","jcb","unionpay","maestro"];function o(t){var e,r,n;return t?(e=t.prefixPattern.source,r=t.exactPattern.source,(n=JSON.parse(JSON.stringify(t))).prefixPattern=e,n.exactPattern=r,n):null}function a(t){var e,r,a=[],s=[];if(!("string"==typeof t||t instanceof String))return[];for(r=0;r<i.length;r++)e=n[i[r]],0!==t.length?e.exactPattern.test(t)?s.push(o(e)):e.prefixPattern.test(t)&&a.push(o(e)):a.push(o(e));return s.length?s:a}n.visa={niceType:"Visa",type:"visa",prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},n["master-card"]={niceType:"MasterCard",type:"master-card",prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27[0-1]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},n["american-express"]={niceType:"American Express",type:"american-express",prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},n["diners-club"]={niceType:"Diners Club",type:"diners-club",prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14],code:{name:"CVV",size:3}},n.discover={niceType:"Discover",type:"discover",prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},n.jcb={niceType:"JCB",type:"jcb",prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},n.unionpay={niceType:"UnionPay",type:"unionpay",prefixPattern:/^(6|62)$/,exactPattern:/^62\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},n.maestro={niceType:"Maestro",type:"maestro",prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^5[06-9]\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},a.getTypeInfo=function(t){return o(n[t])},a.types={VISA:"visa",MASTERCARD:"master-card",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro"},t.exports=a},7308:function(t,e,r){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return a(t)?t:V(t)}function n(t){return s(t)?t:G(t)}function i(t){return c(t)?t:H(t)}function o(t){return a(t)&&!l(t)?t:q(t)}function a(t){return!(!t||!t[h])}function s(t){return!(!t||!t[f])}function c(t){return!(!t||!t[p])}function l(t){return s(t)||c(t)}function u(t){return!(!t||!t[d])}e(n,r),e(i,r),e(o,r),r.isIterable=a,r.isKeyed=s,r.isIndexed=c,r.isAssociative=l,r.isOrdered=u,r.Keyed=n,r.Indexed=i,r.Set=o;var h="@@__IMMUTABLE_ITERABLE__@@",f="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",m={},y={value:!1},v={value:!1};function g(t){return t.value=!1,t}function b(t){t&&(t.value=!0)}function k(){}function _(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function x(t){return void 0===t.size&&(t.size=t.__iterate(w)),t.size}function S(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?x(t)+e:e}function w(){return!0}function E(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function A(t,e){return T(t,e,0)}function C(t,e){return T(t,e,e)}function T(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var P,D,O,M="function"==typeof Symbol&&Symbol.iterator,F=M||"@@iterator";function B(t){this.next=t}function I(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function N(){return{value:void 0,done:!0}}function R(t){return!!z(t)}function L(t){return t&&"function"==typeof t.next}function j(t){var e=z(t);return e&&e.call(t)}function z(t){var e=t&&(M&&t[M]||t["@@iterator"]);if("function"==typeof e)return e}function K(t){return t&&"number"==typeof t.length}function V(t){return null==t?X():a(t)?t.toSeq():function(t){var e=tt(t)||"object"==typeof t&&new W(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function G(t){return null==t?X().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():Z(t)}function H(t){return null==t?X():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():Q(t)}function q(t){return(null==t?X():a(t)?s(t)?t.entrySeq():t:Q(t)).toSetSeq()}function U(t){this._array=t,this.size=t.length}function W(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function J(t){this._iterable=t,this.size=t.length||t.size}function Y(t){this._iterator=t,this._iteratorCache=[]}function $(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function X(){return P||(P=new U([]))}function Z(t){var e=Array.isArray(t)?new U(t).fromEntrySeq():L(t)?new Y(t).fromEntrySeq():R(t)?new J(t).fromEntrySeq():"object"==typeof t?new W(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function Q(t){var e=tt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function tt(t){return K(t)?new U(t):L(t)?new Y(t):R(t)?new J(t):void 0}function et(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[r?o-a:a];if(!1===e(s[1],n?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,r)}function rt(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,a=0;return new B((function(){var t=i[r?o-a:a];return a++>o?{value:void 0,done:!0}:I(e,n?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,r)}function nt(t,e){return e?function t(e,r,n,i){return Array.isArray(r)?e.call(i,n,H(r).map((function(n,i){return t(e,n,i,r)}))):ot(r)?e.call(i,n,G(r).map((function(n,i){return t(e,n,i,r)}))):r}(e,t,"",{"":t}):it(t)}function it(t){return Array.isArray(t)?H(t).map(it).toList():ot(t)?G(t).map(it).toMap():t}function ot(t){return t&&(t.constructor===Object||void 0===t.constructor)}function at(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function st(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||c(t)!==c(e)||u(t)!==u(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!l(t);if(u(t)){var n=t.entries();return e.every((function(t,e){var i=n.next().value;return i&&at(i[1],t)&&(r||at(i[0],e))}))&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var h=!0,f=e.__iterate((function(e,n){if(r?!t.has(e):i?!at(e,t.get(n,m)):!at(t.get(n,m),e))return h=!1,!1}));return h&&t.size===f}function ct(t,e){if(!(this instanceof ct))return new ct(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(D)return D;D=this}}function lt(t,e){if(!t)throw new Error(e)}function ut(t,e,r){if(!(this instanceof ut))return new ut(t,e,r);if(lt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(O)return O;O=this}}function ht(){throw TypeError("Abstract")}function ft(){}function pt(){}function dt(){}B.prototype.toString=function(){return"[Iterator]"},B.KEYS=0,B.VALUES=1,B.ENTRIES=2,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[F]=function(){return this},e(V,r),V.of=function(){return V(arguments)},V.prototype.toSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq {","}")},V.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},V.prototype.__iterate=function(t,e){return et(this,t,e,!0)},V.prototype.__iterator=function(t,e){return rt(this,t,e,!0)},e(G,V),G.prototype.toKeyedSeq=function(){return this},e(H,V),H.of=function(){return H(arguments)},H.prototype.toIndexedSeq=function(){return this},H.prototype.toString=function(){return this.__toString("Seq [","]")},H.prototype.__iterate=function(t,e){return et(this,t,e,!1)},H.prototype.__iterator=function(t,e){return rt(this,t,e,!1)},e(q,V),q.of=function(){return q(arguments)},q.prototype.toSetSeq=function(){return this},V.isSeq=$,V.Keyed=G,V.Set=q,V.Indexed=H,V.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(U,H),U.prototype.get=function(t,e){return this.has(t)?this._array[S(this,t)]:e},U.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===t(r[e?n-i:i],i,this))return i+1;return i},U.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new B((function(){return i>n?{value:void 0,done:!0}:I(t,i,r[e?n-i++:i++])}))},e(W,G),W.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},W.prototype.has=function(t){return this._object.hasOwnProperty(t)},W.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var a=n[e?i-o:o];if(!1===t(r[a],a,this))return o+1}return o},W.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new B((function(){var a=n[e?i-o:o];return o++>i?{value:void 0,done:!0}:I(t,a,r[a])}))},W.prototype[d]=!0,e(J,H),J.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=j(this._iterable),n=0;if(L(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},J.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=j(this._iterable);if(!L(r))return new B(N);var n=0;return new B((function(){var e=r.next();return e.done?e:I(t,n++,e.value)}))},e(Y,H),Y.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(r=n.next()).done;){var a=r.value;if(i[o]=a,!1===t(a,o++,this))break}return o},Y.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new B((function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return I(t,i,n[i++])}))},e(ct,H),ct.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ct.prototype.get=function(t,e){return this.has(t)?this._value:e},ct.prototype.includes=function(t){return at(this._value,t)},ct.prototype.slice=function(t,e){var r=this.size;return E(t,e,r)?this:new ct(this._value,C(e,r)-A(t,r))},ct.prototype.reverse=function(){return this},ct.prototype.indexOf=function(t){return at(this._value,t)?0:-1},ct.prototype.lastIndexOf=function(t){return at(this._value,t)?this.size:-1},ct.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},ct.prototype.__iterator=function(t,e){var r=this,n=0;return new B((function(){return n<r.size?I(t,n++,r._value):{value:void 0,done:!0}}))},ct.prototype.equals=function(t){return t instanceof ct?at(this._value,t._value):st(t)},e(ut,H),ut.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ut.prototype.get=function(t,e){return this.has(t)?this._start+S(this,t)*this._step:e},ut.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},ut.prototype.slice=function(t,e){return E(t,e,this.size)?this:(t=A(t,this.size),(e=C(e,this.size))<=t?new ut(0,0):new ut(this.get(t,this._end),this.get(e,this._end),this._step))},ut.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},ut.prototype.lastIndexOf=function(t){return this.indexOf(t)},ut.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;o<=r;o++){if(!1===t(i,o,this))return o+1;i+=e?-n:n}return o},ut.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new B((function(){var a=i;return i+=e?-n:n,o>r?{value:void 0,done:!0}:I(t,o++,a)}))},ut.prototype.equals=function(t){return t instanceof ut?this._start===t._start&&this._end===t._end&&this._step===t._step:st(this,t)},e(ht,r),e(ft,ht),e(pt,ht),e(dt,ht),ht.Keyed=ft,ht.Indexed=pt,ht.Set=dt;var mt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function yt(t){return t>>>1&1073741824|3221225471&t}function vt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return yt(r)}if("string"===e)return t.length>Et?function(t){var e=Tt[t];return void 0===e&&(e=gt(t),Ct===At&&(Ct=0,Tt={}),Ct++,Tt[t]=e),e}(t):gt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(xt&&void 0!==(e=bt.get(t)))return e;if(void 0!==(e=t[wt]))return e;if(!_t){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[wt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++St,1073741824&St&&(St=0),xt)bt.set(t,e);else{if(void 0!==kt&&!1===kt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(_t)Object.defineProperty(t,wt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[wt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[wt]=e}}return e}(t);if("function"==typeof t.toString)return gt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function gt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return yt(e)}var bt,kt=Object.isExtensible,_t=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),xt="function"==typeof WeakMap;xt&&(bt=new WeakMap);var St=0,wt="__immutablehash__";"function"==typeof Symbol&&(wt=Symbol(wt));var Et=16,At=255,Ct=0,Tt={};function Pt(t){lt(t!==1/0,"Cannot perform this action with an infinite size.")}function Dt(t){return null==t?Ht():Ot(t)&&!u(t)?t:Ht().withMutations((function(e){var r=n(t);Pt(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}function Ot(t){return!(!t||!t[Ft])}e(Dt,ft),Dt.prototype.toString=function(){return this.__toString("Map {","}")},Dt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Dt.prototype.set=function(t,e){return qt(this,t,e)},Dt.prototype.setIn=function(t,e){return this.updateIn(t,m,(function(){return e}))},Dt.prototype.remove=function(t){return qt(this,t,m)},Dt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return m}))},Dt.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},Dt.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=function t(e,r,n,i){var o=e===m,a=r.next();if(a.done){var s=o?n:e,c=i(s);return c===s?e:c}lt(o||e&&e.set,"invalid keyPath");var l=a.value,u=o?m:e.get(l,m),h=t(u,r,n,i);return h===u?e:h===m?e.remove(l):(o?Ht():e).set(l,h)}(this,Ye(t),e,r);return n===m?void 0:n},Dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ht()},Dt.prototype.merge=function(){return Yt(this,void 0,arguments)},Dt.prototype.mergeWith=function(e){var r=t.call(arguments,1);return Yt(this,e,r)},Dt.prototype.mergeIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Ht(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,r):r[r.length-1]}))},Dt.prototype.mergeDeep=function(){return Yt(this,$t,arguments)},Dt.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return Yt(this,Xt(e),r)},Dt.prototype.mergeDeepIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Ht(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,r):r[r.length-1]}))},Dt.prototype.sort=function(t){return _e(Le(this,t))},Dt.prototype.sortBy=function(t,e){return _e(Le(this,e,t))},Dt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Dt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new k)},Dt.prototype.asImmutable=function(){return this.__ensureOwner()},Dt.prototype.wasAltered=function(){return this.__altered},Dt.prototype.__iterator=function(t,e){return new zt(this,t,e)},Dt.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],r)}),e),n},Dt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Gt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Dt.isMap=Ot;var Mt,Ft="@@__IMMUTABLE_MAP__@@",Bt=Dt.prototype;function It(t,e){this.ownerID=t,this.entries=e}function Nt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function Rt(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Lt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function jt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function zt(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Vt(t._root)}function Kt(t,e){return I(t,e[0],e[1])}function Vt(t,e){return{node:t,index:0,__prev:e}}function Gt(t,e,r,n){var i=Object.create(Bt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Ht(){return Mt||(Mt=Gt(0))}function qt(t,e,r){var n,i;if(t._root){var o=g(y),a=g(v);if(n=Ut(t._root,t.__ownerID,0,void 0,e,r,o,a),!a.value)return t;i=t.size+(o.value?r===m?-1:1:0)}else{if(r===m)return t;i=1,n=new It(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Gt(i,n):Ht()}function Ut(t,e,r,n,i,o,a,s){return t?t.update(e,r,n,i,o,a,s):o===m?t:(b(s),b(a),new jt(e,n,[i,o]))}function Wt(t){return t.constructor===jt||t.constructor===Lt}function Jt(t,e,r,n,i){if(t.keyHash===n)return new Lt(e,n,[t.entry,i]);var o,a=31&(0===r?t.keyHash:t.keyHash>>>r),s=31&(0===r?n:n>>>r);return new Nt(e,1<<a|1<<s,a===s?[Jt(t,e,r+5,n,i)]:(o=new jt(e,n,i),a<s?[t,o]:[o,t]))}function Yt(t,e,r){for(var i=[],o=0;o<r.length;o++){var s=r[o],c=n(s);a(s)||(c=c.map((function(t){return nt(t)}))),i.push(c)}return Zt(t,e,i)}function $t(t,e,r){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):at(t,e)?t:e}function Xt(t){return function(e,r,n){if(e&&e.mergeDeepWith&&a(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return at(e,i)?e:i}}function Zt(t,e,r){return 0===(r=r.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations((function(t){for(var n=e?function(r,n){t.update(n,m,(function(t){return t===m?r:e(t,r,n)}))}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)})):t.constructor(r[0])}function Qt(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function te(t,e,r,n){var i=n?t:_(t);return i[e]=r,i}Bt[Ft]=!0,Bt.delete=Bt.remove,Bt.removeIn=Bt.deleteIn,It.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(at(r,i[o][0]))return i[o][1];return n},It.prototype.update=function(t,e,r,n,i,o,a){for(var s=i===m,c=this.entries,l=0,u=c.length;l<u&&!at(n,c[l][0]);l++);var h=l<u;if(h?c[l][1]===i:s)return this;if(b(a),(s||!h)&&b(o),!s||1!==c.length){if(!h&&!s&&c.length>=ee)return function(t,e,r,n){t||(t=new k);for(var i=new jt(t,vt(r),[r,n]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,c,n,i);var f=t&&t===this.ownerID,p=f?c:_(c);return h?s?l===u-1?p.pop():p[l]=p.pop():p[l]=[n,i]:p.push([n,i]),f?(this.entries=p,this):new It(t,p)}},Nt.prototype.get=function(t,e,r,n){void 0===e&&(e=vt(r));var i=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0==(o&i)?n:this.nodes[Qt(o&i-1)].get(t+5,e,r,n)},Nt.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=vt(n));var s=31&(0===e?r:r>>>e),c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&i===m)return this;var h=Qt(l&c-1),f=this.nodes,p=u?f[h]:void 0,d=Ut(p,t,e+5,r,n,i,o,a);if(d===p)return this;if(!u&&d&&f.length>=re)return function(t,e,r,n,i){for(var o=0,a=new Array(32),s=0;0!==r;s++,r>>>=1)a[s]=1&r?e[o++]:void 0;return a[n]=i,new Rt(t,o+1,a)}(t,f,l,s,d);if(u&&!d&&2===f.length&&Wt(f[1^h]))return f[1^h];if(u&&d&&1===f.length&&Wt(d))return d;var y=t&&t===this.ownerID,v=u?d?l:l^c:l|c,g=u?d?te(f,h,d,y):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,a=0;a<n;a++)a===e&&(o=1),i[a]=t[a+o];return i}(f,h,y):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=r,a=-1):o[s]=t[s+a];return o}(f,h,d,y);return y?(this.bitmap=v,this.nodes=g,this):new Nt(t,v,g)},Rt.prototype.get=function(t,e,r,n){void 0===e&&(e=vt(r));var i=31&(0===t?e:e>>>t),o=this.nodes[i];return o?o.get(t+5,e,r,n):n},Rt.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=vt(n));var s=31&(0===e?r:r>>>e),c=i===m,l=this.nodes,u=l[s];if(c&&!u)return this;var h=Ut(u,t,e+5,r,n,i,o,a);if(h===u)return this;var f=this.count;if(u){if(!h&&--f<ne)return function(t,e,r,n){for(var i=0,o=0,a=new Array(r),s=0,c=1,l=e.length;s<l;s++,c<<=1){var u=e[s];void 0!==u&&s!==n&&(i|=c,a[o++]=u)}return new Nt(t,i,a)}(t,l,f,s)}else f++;var p=t&&t===this.ownerID,d=te(l,s,h,p);return p?(this.count=f,this.nodes=d,this):new Rt(t,f,d)},Lt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(at(r,i[o][0]))return i[o][1];return n},Lt.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=vt(n));var s=i===m;if(r!==this.keyHash)return s?this:(b(a),b(o),Jt(this,t,e,r,[n,i]));for(var c=this.entries,l=0,u=c.length;l<u&&!at(n,c[l][0]);l++);var h=l<u;if(h?c[l][1]===i:s)return this;if(b(a),(s||!h)&&b(o),s&&2===u)return new jt(t,this.keyHash,c[1^l]);var f=t&&t===this.ownerID,p=f?c:_(c);return h?s?l===u-1?p.pop():p[l]=p.pop():p[l]=[n,i]:p.push([n,i]),f?(this.entries=p,this):new Lt(t,this.keyHash,p)},jt.prototype.get=function(t,e,r,n){return at(r,this.entry[0])?this.entry[1]:n},jt.prototype.update=function(t,e,r,n,i,o,a){var s=i===m,c=at(n,this.entry[0]);return(c?i===this.entry[1]:s)?this:(b(a),s?void b(o):c?t&&t===this.ownerID?(this.entry[1]=i,this):new jt(t,this.keyHash,[n,i]):(b(o),Jt(this,t,e,vt(n),[n,i])))},It.prototype.iterate=Lt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},Nt.prototype.iterate=Rt.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},jt.prototype.iterate=function(t,e){return t(this.entry)},e(zt,B),zt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return Kt(t,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return Kt(t,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return Kt(t,o.entry);e=this._stack=Vt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ee=8,re=16,ne=8;function ie(t){var e=de();if(null==t)return e;if(oe(t))return t;var r=i(t),n=r.size;return 0===n?e:(Pt(n),n>0&&n<32?pe(0,n,5,null,new ce(r.toArray())):e.withMutations((function(t){t.setSize(n),r.forEach((function(e,r){return t.set(r,e)}))})))}function oe(t){return!(!t||!t[ae])}e(ie,pt),ie.of=function(){return this(arguments)},ie.prototype.toString=function(){return this.__toString("List [","]")},ie.prototype.get=function(t,e){if((t=S(this,t))>=0&&t<this.size){var r=ve(this,t+=this._origin);return r&&r.array[31&t]}return e},ie.prototype.set=function(t,e){return function(t,e,r){if((e=S(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?ge(t,e).set(0,r):ge(t,0,e+1).set(e,r)}));e+=t._origin;var n=t._tail,i=t._root,o=g(v);return e>=ke(t._capacity)?n=me(n,t.__ownerID,0,e,r,o):i=me(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):pe(t._origin,t._capacity,t._level,i,n):t}(this,t,e)},ie.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ie.prototype.insert=function(t,e){return this.splice(t,0,e)},ie.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):de()},ie.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(r){ge(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])}))},ie.prototype.pop=function(){return ge(this,0,-1)},ie.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){ge(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])}))},ie.prototype.shift=function(){return ge(this,1)},ie.prototype.merge=function(){return be(this,void 0,arguments)},ie.prototype.mergeWith=function(e){var r=t.call(arguments,1);return be(this,e,r)},ie.prototype.mergeDeep=function(){return be(this,$t,arguments)},ie.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return be(this,Xt(e),r)},ie.prototype.setSize=function(t){return ge(this,0,t)},ie.prototype.slice=function(t,e){var r=this.size;return E(t,e,r)?this:ge(this,A(t,r),C(e,r))},ie.prototype.__iterator=function(t,e){var r=0,n=fe(this,e);return new B((function(){var e=n();return e===he?{value:void 0,done:!0}:I(t,r++,e)}))},ie.prototype.__iterate=function(t,e){for(var r,n=0,i=fe(this,e);(r=i())!==he&&!1!==t(r,n++,this););return n},ie.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?pe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ie.isList=oe;var ae="@@__IMMUTABLE_LIST__@@",se=ie.prototype;function ce(t,e){this.array=t,this.ownerID=e}se[ae]=!0,se.delete=se.remove,se.setIn=Bt.setIn,se.deleteIn=se.removeIn=Bt.removeIn,se.update=Bt.update,se.updateIn=Bt.updateIn,se.mergeIn=Bt.mergeIn,se.mergeDeepIn=Bt.mergeDeepIn,se.withMutations=Bt.withMutations,se.asMutable=Bt.asMutable,se.asImmutable=Bt.asImmutable,se.wasAltered=Bt.wasAltered,ce.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&31;if(n>=this.array.length)return new ce([],t);var i,o=0===n;if(e>0){var a=this.array[n];if((i=a&&a.removeBefore(t,e-5,r))===a&&o)return this}if(o&&!i)return this;var s=ye(this,t);if(!o)for(var c=0;c<n;c++)s.array[c]=void 0;return i&&(s.array[n]=i),s},ce.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&31;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((n=o&&o.removeAfter(t,e-5,r))===o&&i===this.array.length-1)return this}var a=ye(this,t);return a.array.splice(i+1),n&&(a.array[i]=n),a};var le,ue,he={};function fe(t,e){var r=t._origin,n=t._capacity,i=ke(n),o=t._tail;return a(t._root,t._level,0);function a(t,s,c){return 0===s?function(t,a){var s=a===i?o&&o.array:t&&t.array,c=a>r?0:r-a,l=n-a;return l>32&&(l=32),function(){if(c===l)return he;var t=e?--l:c++;return s&&s[t]}}(t,c):function(t,i,o){var s,c=t&&t.array,l=o>r?0:r-o>>i,u=1+(n-o>>i);return u>32&&(u=32),function(){for(;;){if(s){var t=s();if(t!==he)return t;s=null}if(l===u)return he;var r=e?--u:l++;s=a(c&&c[r],i-5,o+(r<<i))}}}(t,s,c)}}function pe(t,e,r,n,i,o,a){var s=Object.create(se);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function de(){return le||(le=pe(0,0,5))}function me(t,e,r,n,i,o){var a,s=n>>>r&31,c=t&&s<t.array.length;if(!c&&void 0===i)return t;if(r>0){var l=t&&t.array[s],u=me(l,e,r-5,n,i,o);return u===l?t:((a=ye(t,e)).array[s]=u,a)}return c&&t.array[s]===i?t:(b(o),a=ye(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function ye(t,e){return e&&t&&e===t.ownerID?t:new ce(t?t.array.slice():[],e)}function ve(t,e){if(e>=ke(t._capacity))return t._tail;if(e<1<<t._level+5){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&31],n-=5;return r}}function ge(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new k,i=t._origin,o=t._capacity,a=i+e,s=void 0===r?o:r<0?o+r:i+r;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var c=t._level,l=t._root,u=0;a+u<0;)l=new ce(l&&l.array.length?[void 0,l]:[],n),u+=1<<(c+=5);u&&(a+=u,i+=u,s+=u,o+=u);for(var h=ke(o),f=ke(s);f>=1<<c+5;)l=new ce(l&&l.array.length?[l]:[],n),c+=5;var p=t._tail,d=f<h?ve(t,s-1):f>h?new ce([],n):p;if(p&&f>h&&a<o&&p.array.length){for(var m=l=ye(l,n),y=c;y>5;y-=5){var v=h>>>y&31;m=m.array[v]=ye(m.array[v],n)}m.array[h>>>5&31]=p}if(s<o&&(d=d&&d.removeAfter(n,0,s)),a>=f)a-=f,s-=f,c=5,l=null,d=d&&d.removeBefore(n,0,a);else if(a>i||f<h){for(u=0;l;){var g=a>>>c&31;if(g!==f>>>c&31)break;g&&(u+=(1<<c)*g),c-=5,l=l.array[g]}l&&a>i&&(l=l.removeBefore(n,c,a-u)),l&&f<h&&(l=l.removeAfter(n,c,f-u)),u&&(a-=u,s-=u)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=l,t._tail=d,t.__hash=void 0,t.__altered=!0,t):pe(a,s,c,l,d)}function be(t,e,r){for(var n=[],o=0,s=0;s<r.length;s++){var c=r[s],l=i(c);l.size>o&&(o=l.size),a(c)||(l=l.map((function(t){return nt(t)}))),n.push(l)}return o>t.size&&(t=t.setSize(o)),Zt(t,e,n)}function ke(t){return t<32?0:t-1>>>5<<5}function _e(t){return null==t?we():xe(t)?t:we().withMutations((function(e){var r=n(t);Pt(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}function xe(t){return Ot(t)&&u(t)}function Se(t,e,r,n){var i=Object.create(_e.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function we(){return ue||(ue=Se(Ht(),de()))}function Ee(t,e,r){var n,i,o=t._map,a=t._list,s=o.get(e),c=void 0!==s;if(r===m){if(!c)return t;a.size>=32&&a.size>=2*o.size?(n=(i=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(r===a.get(s)[1])return t;n=o,i=a.set(s,[e,r])}else n=o.set(e,a.size),i=a.set(a.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):Se(n,i)}function Ae(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ce(t){this._iter=t,this.size=t.size}function Te(t){this._iter=t,this.size=t.size}function Pe(t){this._iter=t,this.size=t.size}function De(t){var e=Ue(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=We,e.__iterateUncached=function(e,r){var n=this;return t.__iterate((function(t,r){return!1!==e(r,t,n)}),r)},e.__iteratorUncached=function(e,r){if(2===e){var n=t.__iterator(e,r);return new B((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,r)},e}function Oe(t,e,r){var n=Ue(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,m);return o===m?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate((function(t,i,a){return!1!==n(e.call(r,t,i,a),i,o)}),i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(2,i);return new B((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return I(n,s,e.call(r,a[1],s,t),i)}))},n}function Me(t,e){var r=Ue(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=De(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=We,r.__iterate=function(e,r){var n=this;return t.__iterate((function(t,r){return e(t,r,n)}),!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function Fe(t,e,r,n){var i=Ue(t);return n&&(i.has=function(n){var i=t.get(n,m);return i!==m&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,m);return o!==m&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate((function(t,o,c){if(e.call(r,t,o,c))return s++,i(t,n?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(2,o),s=0;return new B((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,l=c[0],u=c[1];if(e.call(r,u,l,t))return I(i,n?l:s++,u,o)}}))},i}function Be(t,e,r,n){var i=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r|=0),E(e,r,i))return t;var o=A(e,i),a=C(r,i);if(o!=o||a!=a)return Be(t.toSeq().cacheResult(),e,r,n);var s,c=a-o;c==c&&(s=c<0?0:c);var l=Ue(t);return l.size=0===s?s:t.size&&s||void 0,!n&&$(t)&&s>=0&&(l.get=function(e,r){return(e=S(this,e))>=0&&e<s?t.get(e+o,r):r}),l.__iterateUncached=function(e,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var a=0,c=!0,l=0;return t.__iterate((function(t,r){if(!c||!(c=a++<o))return l++,!1!==e(t,n?r:l-1,i)&&l!==s})),l},l.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var i=0!==s&&t.__iterator(e,r),a=0,c=0;return new B((function(){for(;a++<o;)i.next();if(++c>s)return{value:void 0,done:!0};var t=i.next();return n||1===e?t:I(e,c-1,0===e?void 0:t.value[1],t)}))},l}function Ie(t,e,r,n){var i=Ue(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return t.__iterate((function(t,o,l){if(!s||!(s=e.call(r,t,o,l)))return c++,i(t,n?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(2,o),c=!0,l=0;return new B((function(){var t,o,u;do{if((t=s.next()).done)return n||1===i?t:I(i,l++,0===i?void 0:t.value[1],t);var h=t.value;o=h[0],u=h[1],c&&(c=e.call(r,u,o,a))}while(c);return 2===i?t:I(i,o,u,t)}))},i}function Ne(t,e){var r=s(t),i=[t].concat(e).map((function(t){return a(t)?r&&(t=n(t)):t=r?Z(t):Q(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||r&&s(o)||c(t)&&c(o))return o}var l=new U(i);return r?l=l.toKeyedSeq():c(t)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}}),0),l}function Re(t,e,r){var n=Ue(t);return n.__iterateUncached=function(n,i){var o=0,s=!1;return function t(c,l){var u=this;c.__iterate((function(i,c){return(!e||l<e)&&a(i)?t(i,l+1):!1===n(i,r?c:o++,u)&&(s=!0),!s}),i)}(t,0),o},n.__iteratorUncached=function(n,i){var o=t.__iterator(n,i),s=[],c=0;return new B((function(){for(;o;){var t=o.next();if(!1===t.done){var l=t.value;if(2===n&&(l=l[1]),e&&!(s.length<e)||!a(l))return r?t:I(n,c++,l,t);s.push(o),o=l.__iterator(n,i)}else o=s.pop()}return{value:void 0,done:!0}}))},n}function Le(t,e,r){e||(e=Je);var n=s(t),i=0,o=t.toSeq().map((function(e,n){return[n,e,i++,r?r(e,n,t):e]})).toArray();return o.sort((function(t,r){return e(t[3],r[3])||t[2]-r[2]})).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?G(o):c(t)?H(o):q(o)}function je(t,e,r){if(e||(e=Je),r){var n=t.toSeq().map((function(e,n){return[e,r(e,n,t)]})).reduce((function(t,r){return ze(e,t[1],r[1])?r:t}));return n&&n[0]}return t.reduce((function(t,r){return ze(e,t,r)?r:t}))}function ze(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function Ke(t,e,n){var i=Ue(t);return i.size=new U(n).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(1,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map((function(t){return t=r(t),j(i?t.reverse():t)})),a=0,s=!1;return new B((function(){var r;return s||(r=o.map((function(t){return t.next()})),s=r.some((function(t){return t.done}))),s?{value:void 0,done:!0}:I(t,a++,e.apply(null,r.map((function(t){return t.value}))))}))},i}function Ve(t,e){return $(t)?e:t.constructor(e)}function Ge(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function He(t){return Pt(t.size),x(t)}function qe(t){return s(t)?n:c(t)?i:o}function Ue(t){return Object.create((s(t)?G:c(t)?H:q).prototype)}function We(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):V.prototype.cacheResult.call(this)}function Je(t,e){return t>e?1:t<e?-1:0}function Ye(t){var e=j(t);if(!e){if(!K(t))throw new TypeError("Expected iterable or array-like: "+t);e=j(r(t))}return e}function $e(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(tr.bind(void 0,t))}catch(t){}}(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Dt(o)},i=n.prototype=Object.create(Xe);return i.constructor=n,n}e(_e,Dt),_e.of=function(){return this(arguments)},_e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},_e.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},_e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):we()},_e.prototype.set=function(t,e){return Ee(this,t,e)},_e.prototype.remove=function(t){return Ee(this,t,m)},_e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},_e.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],r)}),e)},_e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},_e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?Se(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},_e.isOrderedMap=xe,_e.prototype[d]=!0,_e.prototype.delete=_e.prototype.remove,e(Ae,G),Ae.prototype.get=function(t,e){return this._iter.get(t,e)},Ae.prototype.has=function(t){return this._iter.has(t)},Ae.prototype.valueSeq=function(){return this._iter.valueSeq()},Ae.prototype.reverse=function(){var t=this,e=Me(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ae.prototype.map=function(t,e){var r=this,n=Oe(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},Ae.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?He(this):0,function(i){return t(i,e?--r:r++,n)}),e)},Ae.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(1,e),n=e?He(this):0;return new B((function(){var i=r.next();return i.done?i:I(t,e?--n:n++,i.value,i)}))},Ae.prototype[d]=!0,e(Ce,H),Ce.prototype.includes=function(t){return this._iter.includes(t)},Ce.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate((function(e){return t(e,n++,r)}),e)},Ce.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e),n=0;return new B((function(){var e=r.next();return e.done?e:I(t,n++,e.value,e)}))},e(Te,q),Te.prototype.has=function(t){return this._iter.includes(t)},Te.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){return t(e,e,r)}),e)},Te.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e);return new B((function(){var e=r.next();return e.done?e:I(t,e.value,e.value,e)}))},e(Pe,G),Pe.prototype.entrySeq=function(){return this._iter.toSeq()},Pe.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){if(e){Ge(e);var n=a(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}}),e)},Pe.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e);return new B((function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){Ge(n);var i=a(n);return I(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}}))},Ce.prototype.cacheResult=Ae.prototype.cacheResult=Te.prototype.cacheResult=Pe.prototype.cacheResult=We,e($e,ft),$e.prototype.toString=function(){return this.__toString(Qe(this)+" {","}")},$e.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},$e.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},$e.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Ze(this,Ht()))},$e.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Qe(this));var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Ze(this,r)},$e.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Ze(this,e)},$e.prototype.wasAltered=function(){return this._map.wasAltered()},$e.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map((function(t,e){return r.get(e)})).__iterator(t,e)},$e.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map((function(t,e){return r.get(e)})).__iterate(t,e)},$e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Ze(this,e,t):(this.__ownerID=t,this._map=e,this)};var Xe=$e.prototype;function Ze(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function Qe(t){return t._name||t.constructor.name||"Record"}function tr(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){lt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function er(t){return null==t?cr():rr(t)&&!u(t)?t:cr().withMutations((function(e){var r=o(t);Pt(r.size),r.forEach((function(t){return e.add(t)}))}))}function rr(t){return!(!t||!t[ir])}Xe.delete=Xe.remove,Xe.deleteIn=Xe.removeIn=Bt.removeIn,Xe.merge=Bt.merge,Xe.mergeWith=Bt.mergeWith,Xe.mergeIn=Bt.mergeIn,Xe.mergeDeep=Bt.mergeDeep,Xe.mergeDeepWith=Bt.mergeDeepWith,Xe.mergeDeepIn=Bt.mergeDeepIn,Xe.setIn=Bt.setIn,Xe.update=Bt.update,Xe.updateIn=Bt.updateIn,Xe.withMutations=Bt.withMutations,Xe.asMutable=Bt.asMutable,Xe.asImmutable=Bt.asImmutable,e(er,dt),er.of=function(){return this(arguments)},er.fromKeys=function(t){return this(n(t).keySeq())},er.prototype.toString=function(){return this.__toString("Set {","}")},er.prototype.has=function(t){return this._map.has(t)},er.prototype.add=function(t){return ar(this,this._map.set(t,!0))},er.prototype.remove=function(t){return ar(this,this._map.remove(t))},er.prototype.clear=function(){return ar(this,this._map.clear())},er.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var r=0;r<e.length;r++)o(e[r]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},er.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var r=this;return this.withMutations((function(t){r.forEach((function(r){e.every((function(t){return t.includes(r)}))||t.remove(r)}))}))},er.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var r=this;return this.withMutations((function(t){r.forEach((function(r){e.some((function(t){return t.includes(r)}))&&t.remove(r)}))}))},er.prototype.merge=function(){return this.union.apply(this,arguments)},er.prototype.mergeWith=function(e){var r=t.call(arguments,1);return this.union.apply(this,r)},er.prototype.sort=function(t){return lr(Le(this,t))},er.prototype.sortBy=function(t,e){return lr(Le(this,e,t))},er.prototype.wasAltered=function(){return this._map.wasAltered()},er.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate((function(e,n){return t(n,n,r)}),e)},er.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},er.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},er.isSet=rr;var nr,ir="@@__IMMUTABLE_SET__@@",or=er.prototype;function ar(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function sr(t,e){var r=Object.create(or);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function cr(){return nr||(nr=sr(Ht()))}function lr(t){return null==t?dr():ur(t)?t:dr().withMutations((function(e){var r=o(t);Pt(r.size),r.forEach((function(t){return e.add(t)}))}))}function ur(t){return rr(t)&&u(t)}or[ir]=!0,or.delete=or.remove,or.mergeDeep=or.merge,or.mergeDeepWith=or.mergeWith,or.withMutations=Bt.withMutations,or.asMutable=Bt.asMutable,or.asImmutable=Bt.asImmutable,or.__empty=cr,or.__make=sr,e(lr,er),lr.of=function(){return this(arguments)},lr.fromKeys=function(t){return this(n(t).keySeq())},lr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},lr.isOrderedSet=ur;var hr,fr=lr.prototype;function pr(t,e){var r=Object.create(fr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function dr(){return hr||(hr=pr(we()))}function mr(t){return null==t?_r():yr(t)?t:_r().unshiftAll(t)}function yr(t){return!(!t||!t[gr])}fr[d]=!0,fr.__empty=dr,fr.__make=pr,e(mr,pt),mr.of=function(){return this(arguments)},mr.prototype.toString=function(){return this.__toString("Stack [","]")},mr.prototype.get=function(t,e){var r=this._head;for(t=S(this,t);r&&t--;)r=r.next;return r?r.value:e},mr.prototype.peek=function(){return this._head&&this._head.value},mr.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):kr(t,e)},mr.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Pt(t.size);var e=this.size,r=this._head;return t.reverse().forEach((function(t){e++,r={value:t,next:r}})),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):kr(e,r)},mr.prototype.pop=function(){return this.slice(1)},mr.prototype.unshift=function(){return this.push.apply(this,arguments)},mr.prototype.unshiftAll=function(t){return this.pushAll(t)},mr.prototype.shift=function(){return this.pop.apply(this,arguments)},mr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):_r()},mr.prototype.slice=function(t,e){if(E(t,e,this.size))return this;var r=A(t,this.size);if(C(e,this.size)!==this.size)return pt.prototype.slice.call(this,t,e);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):kr(n,i)},mr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?kr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},mr.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},mr.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new B((function(){if(n){var e=n.value;return n=n.next,I(t,r++,e)}return{value:void 0,done:!0}}))},mr.isStack=yr;var vr,gr="@@__IMMUTABLE_STACK__@@",br=mr.prototype;function kr(t,e,r,n){var i=Object.create(br);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function _r(){return vr||(vr=kr(0))}function xr(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}br[gr]=!0,br.withMutations=Bt.withMutations,br.asMutable=Bt.asMutable,br.asImmutable=Bt.asImmutable,br.wasAltered=Bt.wasAltered,r.Iterator=B,xr(r,{toArray:function(){Pt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,r){t[r]=e})),t},toIndexedSeq:function(){return new Ce(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Ae(this,!0)},toMap:function(){return Dt(this.toKeyedSeq())},toObject:function(){Pt(this.size);var t={};return this.__iterate((function(e,r){t[r]=e})),t},toOrderedMap:function(){return _e(this.toKeyedSeq())},toOrderedSet:function(){return lr(s(this)?this.valueSeq():this)},toSet:function(){return er(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Te(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return mr(s(this)?this.valueSeq():this)},toList:function(){return ie(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return Ve(this,Ne(this,e))},includes:function(t){return this.some((function(e){return at(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Pt(this.size);var r=!0;return this.__iterate((function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1})),r},filter:function(t,e){return Ve(this,Fe(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},findEntry:function(t,e){var r;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Pt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Pt(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate((function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return Ve(this,Oe(this,t,e))},reduce:function(t,e,r){var n,i;return Pt(this.size),arguments.length<2?i=!0:n=e,this.__iterate((function(e,o,a){i?(i=!1,n=e):n=t.call(r,n,e,o,a)})),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Ve(this,Me(this,!0))},slice:function(t,e){return Ve(this,Be(this,t,e,!0))},some:function(t,e){return!this.every(Cr(t),e)},sort:function(t){return Ve(this,Le(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return x(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var n=Dt().asMutable();return t.__iterate((function(i,o){n.update(e.call(r,i,o,t),0,(function(t){return t+1}))})),n.asImmutable()}(this,t,e)},equals:function(t){return st(this,t)},entrySeq:function(){var t=this;if(t._cache)return new U(t._cache);var e=t.toSeq().map(Ar).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Cr(t),e)},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},first:function(){return this.find(w)},flatMap:function(t,e){return Ve(this,function(t,e,r){var n=qe(t);return t.toSeq().map((function(i,o){return n(e.call(r,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Ve(this,Re(this,t,!0))},fromEntrySeq:function(){return new Pe(this)},get:function(t,e){return this.find((function(e,r){return at(r,t)}),void 0,e)},getIn:function(t,e){for(var r,n=this,i=Ye(t);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,m):m)===m)return e}return n},groupBy:function(t,e){return function(t,e,r){var n=s(t),i=(u(t)?_e():Dt()).asMutable();t.__iterate((function(o,a){i.update(e.call(r,o,a,t),(function(t){return(t=t||[]).push(n?[a,o]:o),t}))}));var o=qe(t);return i.map((function(e){return Ve(t,o(e))}))}(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:r(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:r(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(Er).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return je(this,t)},maxBy:function(t,e){return je(this,e,t)},min:function(t){return je(this,t?Tr(t):Or)},minBy:function(t,e){return je(this,e?Tr(e):Or,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ve(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ve(this,Ie(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Cr(t),e)},sortBy:function(t,e){return Ve(this,Le(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ve(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ve(this,function(t,e,r){var n=Ue(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return t.__iterate((function(t,i,s){return e.call(r,t,i,s)&&++a&&n(t,i,o)})),a},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=t.__iterator(2,i),s=!0;return new B((function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,c=i[0],l=i[1];return e.call(r,l,c,o)?2===n?t:I(n,c,l,t):(s=!1,{value:void 0,done:!0})}))},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Cr(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=u(t),r=s(t),n=e?1:0;return function(t,e){return e=mt(e,3432918353),e=mt(e<<15|e>>>-15,461845907),e=mt(e<<13|e>>>-13,5),e=mt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=yt((e=mt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(r?e?function(t,e){n=31*n+Mr(vt(t),vt(e))|0}:function(t,e){n=n+Mr(vt(t),vt(e))|0}:e?function(t){n=31*n+vt(t)|0}:function(t){n=n+vt(t)|0}),n)}(this))}});var Sr=r.prototype;Sr[h]=!0,Sr[F]=Sr.values,Sr.__toJS=Sr.toArray,Sr.__toStringMapper=Pr,Sr.inspect=Sr.toSource=function(){return this.toString()},Sr.chain=Sr.flatMap,Sr.contains=Sr.includes,function(){try{Object.defineProperty(Sr,"length",{get:function(){if(!r.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),xr(n,{flip:function(){return Ve(this,De(this))},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey((function(e){return at(e,t)}))},lastKeyOf:function(t){return this.findLastKey((function(e){return at(e,t)}))},mapEntries:function(t,e){var r=this,n=0;return Ve(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],n++,r)})).fromEntrySeq())},mapKeys:function(t,e){var r=this;return Ve(this,this.toSeq().flip().map((function(n,i){return t.call(e,n,i,r)})).flip())}});var wr=n.prototype;function Er(t,e){return e}function Ar(t,e){return[e,t]}function Cr(t){return function(){return!t.apply(this,arguments)}}function Tr(t){return function(){return-t.apply(this,arguments)}}function Pr(t){return"string"==typeof t?JSON.stringify(t):t}function Dr(){return _(arguments)}function Or(t,e){return t<e?1:t>e?-1:0}function Mr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return wr[f]=!0,wr[F]=Sr.entries,wr.__toJS=Sr.toObject,wr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Pr(t)},xr(i,{toKeyedSeq:function(){return new Ae(this,!1)},filter:function(t,e){return Ve(this,Fe(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Ve(this,Me(this,!1))},slice:function(t,e){return Ve(this,Be(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=A(t,t<0?this.count():this.size);var n=this.slice(0,t);return Ve(this,1===r?n:n.concat(_(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.toKeyedSeq().findLastKey(t,e);return void 0===r?-1:r},first:function(){return this.get(0)},flatten:function(t){return Ve(this,Re(this,t,!1))},get:function(t,e){return(t=S(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,r){return r===t}),void 0,e)},has:function(t){return(t=S(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ve(this,function(t,e){var r=Ue(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate((function(t,n){return(!o||!1!==r(e,o++,i))&&!1!==r(t,o++,i)}),n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(1,n),a=0;return new B((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?I(r,a++,e):I(r,a++,i.value,i)}))},r}(this,t))},interleave:function(){var t=[this].concat(_(arguments)),e=Ke(this.toSeq(),H.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Ve(this,r)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ve(this,Ie(this,t,e,!1))},zip:function(){var t=[this].concat(_(arguments));return Ve(this,Ke(this,Dr,t))},zipWith:function(t){var e=_(arguments);return e[0]=this,Ve(this,Ke(this,t,e))}}),i.prototype[p]=!0,i.prototype[d]=!0,xr(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Sr.includes,xr(G,n.prototype),xr(H,i.prototype),xr(q,o.prototype),xr(ft,n.prototype),xr(pt,i.prototype),xr(dt,o.prototype),{Iterable:r,Seq:V,Collection:ht,Map:Dt,OrderedMap:_e,List:ie,Stack:mr,Set:er,OrderedSet:lr,Record:$e,Range:ut,Repeat:ct,is:at,fromJS:nt}}()},7314:function(t,e,r){"use strict";var n=function(t){if(void 0===t)throw new Error("invariant(...): Second argument must be a string.")};t.exports=function(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(n(e),!t){var a;if(void 0===e)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(e.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},7323:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r(10057),o=r(8892),a=r(10058),s=r(8510),c=r(7308),l=c.OrderedSet,u=c.Record,h=c.Stack,f=u({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()}),p=function(){e.createEmpty=function(t){return e.createWithContent(o.createFromText(""),t)},e.createWithContent=function(t,r){if(0===t.getBlockMap().count())return e.createEmpty(r);var n=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:h(),redoStack:h(),decorator:r||null,selection:s.createEmpty(n)})},e.create=function(t){var r=t.currentContent,i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),i.forEach((function(e){n(t,e,r[e])}))}return t}({},t,{treeMap:m(r,t.decorator),directionMap:a.getDirectionMap(r)});return new e(new f(i))},e.set=function(t,r){return new e(t.getImmutable().withMutations((function(e){var n=e.get("decorator"),o=n;null===r.decorator?o=null:r.decorator&&(o=r.decorator);var a=r.currentContent||t.getCurrentContent();if(o!==n){var s,c=e.get("treeMap");return s=o&&n?function(t,e,r,n,o){return r.merge(e.toSeq().filter((function(e){return n.getDecorations(e,t)!==o.getDecorations(e,t)})).map((function(e){return i.generate(t,e,n)})))}(a,a.getBlockMap(),c,o,n):m(a,o),void e.merge({decorator:o,treeMap:s,nativelyRenderedContent:null})}a!==t.getCurrentContent()&&e.set("treeMap",function(t,e,r,n){var o=t.getCurrentContent().set("entityMap",r),a=o.getBlockMap();return t.getImmutable().get("treeMap").merge(e.toSeq().filter((function(t,e){return t!==a.get(e)})).map((function(t){return i.generate(o,t,n)})))}(t,a.getBlockMap(),a.getEntityMap(),o)),e.merge(r)})))};var t=e.prototype;function e(t){n(this,"_immutable",void 0),this._immutable=t}return t.toJS=function(){return this.getImmutable().toJS()},t.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},t.getCurrentContent=function(){return this.getImmutable().get("currentContent")},t.getUndoStack=function(){return this.getImmutable().get("undoStack")},t.getRedoStack=function(){return this.getImmutable().get("redoStack")},t.getSelection=function(){return this.getImmutable().get("selection")},t.getDecorator=function(){return this.getImmutable().get("decorator")},t.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},t.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},t.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},t.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},t.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,r){return e.set(t,{inlineStyleOverride:r})},t.getCurrentInlineStyle=function(){var t=this.getInlineStyleOverride();if(null!=t)return t;var e=this.getCurrentContent(),r=this.getSelection();return r.isCollapsed()?function(t,e){var r=e.getStartKey(),n=e.getStartOffset(),i=t.getBlockForKey(r);if(n>0)return i.getInlineStyleAt(n-1);if(i.getLength())return i.getInlineStyleAt(0);return v(t,r)}(e,r):function(t,e){var r=e.getStartKey(),n=e.getStartOffset(),i=t.getBlockForKey(r);if(n<i.getLength())return i.getInlineStyleAt(n);if(n>0)return i.getInlineStyleAt(n-1);return v(t,r)}(e,r)},t.getBlockTree=function(t){return this.getImmutable().getIn(["treeMap",t])},t.isSelectionAtStartOfContent=function(){var t=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(t,0,0)},t.isSelectionAtEndOfContent=function(){var t=this.getCurrentContent().getBlockMap().last(),e=t.getLength();return this.getSelection().hasEdgeWithin(t.getKey(),e,e)},t.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(t,e){return d(t,e,!1)},e.forceSelection=function(t,e){return e.getHasFocus()||(e=e.set("hasFocus",!0)),d(t,e,!0)},e.moveSelectionToEnd=function(t){var r=t.getCurrentContent().getLastBlock(),n=r.getKey(),i=r.getLength();return e.acceptSelection(t,new s({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}))},e.moveFocusToEnd=function(t){var r=e.moveSelectionToEnd(t);return e.forceSelection(r,r.getSelection())},e.push=function(t,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.getCurrentContent()===r)return t;var o=a.getDirectionMap(r,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:r,directionMap:o,lastChangeType:n,selection:r.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var s=t.getSelection(),c=t.getCurrentContent(),l=t.getUndoStack(),u=r;s!==c.getSelectionAfter()||y(t,n)?(l=l.push(c),u=u.set("selectionBefore",s)):"insert-characters"!==n&&"backspace-character"!==n&&"delete-character"!==n||(u=u.set("selectionBefore",c.getSelectionBefore()));var f=t.getInlineStyleOverride(),p=["adjust-depth","change-block-type","split-block"];-1===p.indexOf(n)&&(f=null);var d={currentContent:u,directionMap:o,undoStack:l,redoStack:h(),lastChangeType:n,selection:r.getSelectionAfter(),forceSelection:i,inlineStyleOverride:f};return e.set(t,d)},e.undo=function(t){if(!t.getAllowUndo())return t;var r=t.getUndoStack(),n=r.peek();if(!n)return t;var i=t.getCurrentContent(),o=a.getDirectionMap(n,t.getDirectionMap());return e.set(t,{currentContent:n,directionMap:o,undoStack:r.shift(),redoStack:t.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var r=t.getRedoStack(),n=r.peek();if(!n)return t;var i=t.getCurrentContent(),o=a.getDirectionMap(n,t.getDirectionMap());return e.set(t,{currentContent:n,directionMap:o,undoStack:t.getUndoStack().push(i),redoStack:r.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:n.getSelectionAfter()})},t.getImmutable=function(){return this._immutable},e}();function d(t,e,r){return p.set(t,{selection:e,forceSelection:r,nativelyRenderedContent:null,inlineStyleOverride:null})}function m(t,e){return t.getBlockMap().map((function(r){return i.generate(t,r,e)})).toOrderedMap()}function y(t,e){return e!==t.getLastChangeType()||"insert-characters"!==e&&"backspace-character"!==e&&"delete-character"!==e}function v(t,e){var r=t.getBlockMap().reverse().skipUntil((function(t,r){return r===e})).skip(1).skipUntil((function(t,e){return t.getLength()})).first();return r?r.getInlineStyleAt(r.getLength()-1):l()}t.exports=p},7362:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(var n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}},7380:function(t,e,r){"use strict";r.r(e);var n=r(7381),i=r(7308),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.delimiter,i=void 0===r?"\n":r;return"document"===t.object||"block"===t.object&&n.Block.isBlockList(t.nodes)?t.nodes.map(a).join(i):t.text}var s={deserialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.defaultBlock,a=void 0===r?"line":r,s=e.defaultMarks,c=void 0===s?[]:s,l=e.delimiter,u=void 0===l?"\n":l,h=e.toJSON,f=void 0!==h&&h;i.Set.isSet(c)&&(c=c.toArray()),a=n.Node.createProperties(a),c=c.map(n.Mark.createProperties);var p={object:"value",document:{object:"document",data:{},nodes:t.split(u).map((function(t){return o({},a,{object:"block",data:{},nodes:[{object:"text",text:t,marks:c}]})}))}},d=f?p:n.Value.fromJSON(p);return d},serialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(t.document,e)}};e.default=s},7381:function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"Annotation",(function(){return et})),r.d(e,"Block",(function(){return ut})),r.d(e,"Change",(function(){return _t})),r.d(e,"Data",(function(){return G})),r.d(e,"Decoration",(function(){return W})),r.d(e,"Document",(function(){return nt})),r.d(e,"Editor",(function(){return xe})),r.d(e,"Inline",(function(){return ot})),r.d(e,"KeyUtils",(function(){return k})),r.d(e,"Leaf",(function(){return Ce})),r.d(e,"Mark",(function(){return q})),r.d(e,"Node",(function(){return ct})),r.d(e,"Operation",(function(){return bt})),r.d(e,"PathUtils",(function(){return z})),r.d(e,"Point",(function(){return V})),r.d(e,"Range",(function(){return Q})),r.d(e,"resetMemoization",(function(){return Le})),r.d(e,"Selection",(function(){return Y})),r.d(e,"Text",(function(){return st})),r.d(e,"TextUtils",(function(){return Ft})),r.d(e,"useMemoization",(function(){return je})),r.d(e,"Value",(function(){return ft}));var n=r(7308),i=r(9907),o=r.n(i),a=r(9986),s=r(83),c=r(9909),l=r.n(c),u=r(9911),h=r(9912),f=r.n(h),p=r(9216),d=r.n(p),m=r(9985),y=r.n(m),v=void 0,g=void 0;function b(){v=0,g=function(){return""+v++}}b();var k={create:function(t){if(null==t)return g();if("string"==typeof t)return t;throw new Error("Keys must be strings, but you passed: "+t)},setGenerator:function(t){g=t},resetGenerator:b},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},S=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),w=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},C=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},T=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},P=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},D=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)};function O(t,e){for(var r=j(t,e),n=0;n<r;n++){var i=t.get(n),o=e.get(n);if(i<o)return-1;if(i>o)return 1}return t.size===e.size?0:null}function M(t){if(null==t)return null;if(n.List.isList(t))return t;if(Array.isArray(t))return Object(n.List)(t);throw new Error("Paths can only be created from arrays or lists, but you passed: "+t)}function F(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j(t,e),n=t.slice(0,r),i=e.slice(0,r);return[n,i]}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.size-1;return I(t,0-e,r)}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.size-1,n=t.get(r),i=n+e,o=t.set(r,i);return o}function N(t,e){var r=F(t,e),n=P(r,2),i=n[0],o=n[1];return t.size<e.size&&0===O(i,o)}function R(t,e){return t.equals(e)}function L(t,e){var r=t.size-1,n=F(t,e,r),i=P(n,2),o=i[0],a=i[1],s=t.get(r),c=e.get(r);return R(o,a)&&s<c}function j(t,e){return Math.min(t.size,e.size)}var z={compare:O,create:M,crop:F,decrement:B,getAncestors:function(t){return Object(n.List)().withMutations((function(e){for(var r=0;r<t.size;r++)e.push(t.slice(0,r))}))},increment:I,isAbove:N,isAfter:function(t,e){var r=F(t,e),n=P(r,2);return 1===O(n[0],n[1])},isBefore:function(t,e){var r=F(t,e),n=P(r,2);return-1===O(n[0],n[1])},isEqual:R,isOlder:function(t,e){var r=t.size-1,n=F(t,e,r),i=P(n,2),o=i[0],a=i[1],s=t.get(r),c=e.get(r);return R(o,a)&&s>c},isPath:function(t){return(n.List.isList(t)||Array.isArray(t))&&t.every((function(t){return"number"==typeof t}))},isSibling:function(t,e){if(t.size!==e.size)return!1;var r=t.butLast(),n=e.butLast();return r.equals(n)},isYounger:L,lift:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.slice(0,-1*e);return r},drop:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.slice(e);return r},max:function(t,e){return Math.max(t.size,e.size)},min:j,relate:function(t,e){for(var r=[],n=0;n<t.size&&n<e.size;n++){var i=t.get(n);if(i!==e.get(n))break;r.push(i)}return M(r)},transform:function(t,e){var r=e.type,i=e.position,o=e.path;if("add_mark"===r||"insert_text"===r||"remove_mark"===r||"remove_text"===r||"set_mark"===r||"set_node"===r||"set_selection"===r||"set_value"===r||"add_annotation"===r||"remove_annotation"===r||"set_annotation"===r||0===t.size)return Object(n.List)([t]);var a=o.size-1,s=R(o,t),c=L(o,t),l=N(o,t);if("insert_node"===r&&(s||c||l)&&(t=I(t,1,a)),"remove_node"===r&&(c?t=B(t,1,a):(s||l)&&(t=[])),"merge_node"===r&&(s||c?t=B(t,1,a):l&&(t=I(t=B(t,1,a),i,a+1))),"split_node"===r&&(s?t=[t,I(t)]:c?t=I(t,1,a):l&&t.get(a+1)>=i&&(t=B(t=I(t,1,a),i,a+1))),"move_node"===r){var u=e.newPath;if(R(o,u))return Object(n.List)([t]);l||s?t=L(o,u)&&o.size<u.size?B(u,1,j(u,o)-1).concat(t.slice(o.size)):u.concat(t.slice(o.size)):(c&&(t=B(t,1,a)),(L(u,t)||R(u,t)||N(u,t))&&(t=I(t,1,u.size-1)))}var h=Array.isArray(t)?t:[t];return Object(n.List)(h)}},K={key:void 0,offset:void 0,path:void 0},V=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"isAfterPoint",value:function(t){return!this.isUnset&&(this.key===t.key&&this.offset>t.offset||1===z.compare(this.path,t.path))}},{key:"isAfterRange",value:function(t){return!this.isUnset&&this.isAfterPoint(t.end)}},{key:"isAtEndOfRange",value:function(t){return!this.isUnset&&this.equals(t.end)}},{key:"isAtStartOfRange",value:function(t){return!this.isUnset&&this.equals(t.start)}},{key:"isBeforePoint",value:function(t){return!this.isUnset&&(this.key===t.key&&this.offset<t.offset||-1===z.compare(this.path,t.path))}},{key:"isBeforeRange",value:function(t){return!this.isUnset&&this.isBeforePoint(t.start)}},{key:"isInRange",value:function(t){return!this.isUnset&&(this.equals(t.start)||this.equals(t.end)||this.isAfterPoint(t.start)&&this.isBeforePoint(t.end))}},{key:"isAtEndOfNode",value:function(t){if(this.isUnset)return!1;var e=t.getLastText();return this.key===e.key&&this.offset===e.text.length}},{key:"isAtStartOfNode",value:function(t){if(this.isUnset)return!1;if(0!==this.offset)return!1;var e=t.getFirstText();return this.key===e.key}},{key:"isInNode",value:function(t){return!this.isUnset&&("text"===t.object&&t.key===this.key||!!t.hasNode(this.key))}},{key:"moveBackward",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===t)return this;if(t<0)return this.moveForward(-t);var e=this.setOffset(this.offset-t);return e}},{key:"moveForward",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===t)return this;if(t<0)return this.moveBackward(-t);var e=this.setOffset(this.offset+t);return e}},{key:"moveTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.key;"number"==typeof t?(e=t,t=this.path):"string"==typeof t?t=(r=t)===this.key?this.path:null:r=t.equals(this.path)?this.key:null;var n=this.merge({key:r,path:t,offset:e});return n}},{key:"moveToStartOfNode",value:function(t){var e=t.getFirstText();return this.moveTo(e.key,0)}},{key:"moveToEndOfNode",value:function(t){var e=t.getLastText();return this.moveTo(e.key,e.text.length)}},{key:"normalize",value:function(t){if(null==this.key&&null==this.path)return this.setOffset(null);var r=this.key,n=this.offset,i=this.path,o=i&&t.getNode(i);if(!o&&(o=t.getNode(r)))return this.merge({path:t.getPath(r)});if(!o){Object(a.a)(!1,"A point's `path` or `key` invalid and was reset!");var s=t.getFirstText();return s?this.merge({key:s.key,offset:0,path:t.getPath(s.key)}):e.create()}if("text"!==o.object){Object(a.a)(!1,"A point should not reference a non-text node!");var c=o.getTextAtOffset(n),l=o.getOffset(c.key);return this.merge({offset:n-l,key:c.key,path:t.getPath(c.key)})}o&&i&&r&&r!==o.key&&Object(a.a)(!1,"A point's `key` did not match its `path`!");var u=this.merge({key:o.key,path:null==i?t.getPath(o.key):i,offset:null==n?0:Math.min(n,o.text.length)});if(u.offset===o.text.length){var h=t.getClosestBlock(u.path).getNextText();h&&(u=u.merge({key:h.key,path:t.getPath(h.key),offset:0}))}return u}},{key:"setKey",value:function(t){return null!=t&&(t=k.create(t)),this.set("key",t)}},{key:"setOffset",value:function(t){return this.set("offset",t)}},{key:"setPath",value:function(t){return null!=t&&(t=z.create(t)),this.set("path",t)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return t.preserveKeys||delete e.key,e}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isPoint(t))return t;if(o()(t))return e.fromJSON(t);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isPoint(t))return{key:t.key,offset:t.offset,path:t.path};if(o()(t)){var r={};return"key"in t&&(r.key=t.key),"offset"in t&&(r.offset=t.offset),"path"in t&&(r.path=z.create(t.path)),"path"in t&&!("key"in t)&&(r.key=null),"key"in t&&!("path"in t)&&(r.path=null),r}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.key,n=void 0===r?null:r,i=t.offset,o=void 0===i?null:i,a=t.path,s=void 0===a?null:a;return new e({key:n,offset:o,path:z.create(s)})}}]),e}(Object(n.Record)(K)),G=function(){function t(){x(this,t)}return S(t,null,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.Map.isMap(e))return e;if(o()(e))return t.fromJSON(e);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+e)}},{key:"fromJSON",value:function(t){return new n.Map(t)}}]),t}();G.fromJS=G.fromJSON;var H={data:void 0,type:void 0},q=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isMark(t))return t;if("string"==typeof t&&(t={type:t}),o()(t))return e.fromJSON(t);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+t)}},{key:"createSet",value:function(t){if(n.Set.isSet(t)||Array.isArray(t))return new n.Set(t.map(e.create));if(null==t)return Object(n.Set)();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isMark(t))return{data:t.data,type:t.type};if("string"==typeof t)return{type:t};if(o()(t)){var r={};return"type"in t&&(r.type=t.type),"data"in t&&(r.data=G.create(t.data)),r}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.data,i=void 0===r?{}:r,o=t.type;if("string"!=typeof o)throw new Error("`Mark.fromJS` requires a `type` string.");return new e({type:o,data:new n.Map(i)})}},{key:"isMarkSet",value:function(t){return n.Set.isSet(t)&&t.every((function(t){return e.isMark(t)}))}}]),e}(Object(n.Record)(H)),U={type:void 0,data:void 0,anchor:void 0,focus:void 0},W=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"setProperties",value:function(t){return t=e.createProperties(t),this.merge(t)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDecoration(t))return t;if(Q.isRange(t))return e.fromJSON(Q.createProperties(t));if(o()(t))return e.fromJSON(t);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.List.isList(t)||Array.isArray(t)){var r=new n.List(t.map(e.create));return r}throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDecoration(t))return{type:t.type,data:t.data,anchor:V.createProperties(t.anchor),focus:V.createProperties(t.focus),mark:q.create(t.mark)};if(o()(t)){var r={};return"type"in t&&(r.type=t.type),"data"in t&&(r.data=G.create(t.data)),"anchor"in t&&(r.anchor=V.create(t.anchor)),"focus"in t&&(r.focus=V.create(t.focus)),r}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.anchor,n=t.focus,i=t.type,o=t.data;if(t.mark&&!i&&(Object(a.a)(!1,"As of slate@0.47 the `decoration.mark` property has been changed to `decoration.type` and `decoration.data` directly."),i=t.mark.type,o=t.mark.data),!i)throw new Error("Decorations must be created with a `type`, but you passed: "+JSON.stringify(t));return new e({type:i,data:G.create(o||{}),anchor:V.fromJSON(r||{}),focus:V.fromJSON(n||{})})}}]),e}(Object(n.Record)(U)),J={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},Y=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"setIsFocused",value:function(t){return this.set("isFocused",t)}},{key:"setMarks",value:function(t){return this.set("marks",t)}},{key:"setProperties",value:function(t){var r=t=e.createProperties(t),n=r.anchor,i=r.focus,o=C(r,["anchor","focus"]);return n&&(o.anchor=V.create(n)),i&&(o.focus=V.create(i)),this.merge(o)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map((function(t){return t.toJSON()}))};return e}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isSelection(t))return t;if(Q.isRange(t))return e.fromJSON(Q.createProperties(t));if(o()(t))return e.fromJSON(t);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isSelection(t))return{anchor:V.createProperties(t.anchor),focus:V.createProperties(t.focus),isFocused:t.isFocused,marks:t.marks};if(Q.isRange(t))return{anchor:V.createProperties(t.anchor),focus:V.createProperties(t.focus)};if(o()(t)){var r={};return"anchor"in t&&(r.anchor=V.create(t.anchor)),"focus"in t&&(r.focus=V.create(t.focus)),"isFocused"in t&&(r.isFocused=t.isFocused),"marks"in t&&(r.marks=null==t.marks?null:q.createSet(t.marks)),r}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.anchor,i=t.focus,o=t.isFocused,a=void 0!==o&&o,s=t.marks,c=void 0===s?null:s;return new e({anchor:V.fromJSON(r||{}),focus:V.fromJSON(i||{}),isFocused:a,marks:null==c?null:new n.Set(c.map(q.fromJSON))})}}]),e}(Object(n.Record)(J)),$={annotation:"@@__SLATE_ANNOTATION__@@",block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function X(t,e){return!(!e||!e[$[t]])}var Z={anchor:void 0,focus:void 0},Q=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isRange(t))return"range"===t.object?t:e.fromJSON(e.createProperties(t));if(o()(t))return e.fromJSON(t);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.List.isList(t)||Array.isArray(t)){var r=new n.List(t.map(e.create));return r}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isRange(t))return{anchor:V.createProperties(t.anchor),focus:V.createProperties(t.focus)};if(o()(t)){var r={};return"anchor"in t&&(r.anchor=V.create(t.anchor)),"focus"in t&&(r.focus=V.create(t.focus)),r}throw new Error("`Range.createProperties` only accepts objects, annotations, decorations, ranges or selections, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.anchor,n=t.focus;return new e({anchor:V.fromJSON(r||{}),focus:V.fromJSON(n||{})})}},{key:"isRange",value:function(t){return X("range",t)||W.isDecoration(t)||Y.isSelection(t)}}]),e}(Object(n.Record)(Z)),tt={key:void 0,type:void 0,data:void 0,anchor:void 0,focus:void 0},et=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"setProperties",value:function(t){return t=e.createProperties(t),this.merge(t)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,key:this.key,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isAnnotation(t))return t;if(Q.isRange(t))return e.fromJSON(Q.createProperties(t));if(o()(t))return e.fromJSON(t);throw new Error("`Annotation.create` only accepts objects or annotations, but you passed it: "+t)}},{key:"createMap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.Map.isMap(t))return t;if(o()(t)){var r={};for(var i in t){var a=t[i],s=e.create(a);r[i]=s}return Object(n.Map)(r)}throw new Error("`Annotation.createMap` only accepts arrays or lists, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isAnnotation(t))return{key:t.key,type:t.type,data:t.data,anchor:V.createProperties(t.anchor),focus:V.createProperties(t.focus)};if(o()(t)){var r={};return"key"in t&&(r.key=t.key),"type"in t&&(r.type=t.type),"data"in t&&(r.data=G.create(t.data)),"anchor"in t&&(r.anchor=V.create(t.anchor)),"focus"in t&&(r.focus=V.create(t.focus)),r}throw new Error("`Annotation.createProperties` only accepts objects or annotations, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.key,n=t.type,i=t.data,o=t.anchor,a=t.focus;if(!r)throw new Error("Annotations must be created with a `key`, but you passed: "+JSON.stringify(t));if(!n)throw new Error("Annotations must be created with a `type`, but you passed: "+JSON.stringify(t));return new e({key:r,type:n,data:G.create(i||{}),anchor:V.fromJSON(o||{}),focus:V.fromJSON(a||{})})}}]),e}(Object(n.Record)(tt)),rt={data:void 0,key:void 0,nodes:void 0},nt=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(e){return e.toJSON(t)}))};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDocument(t))return t;if((n.List.isList(t)||Array.isArray(t))&&(t={nodes:t}),o()(t))return e.fromJSON(t);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isDocument(t))return t;var r=t.data,i=void 0===r?{}:r,o=t.key,a=void 0===o?k.create():o,s=t.nodes,c=void 0===s?[]:s;return new e({key:a,data:new n.Map(i),nodes:ct.createList(c)})}}]),e}(Object(n.Record)(rt)),it={data:void 0,key:void 0,nodes:void 0,type:void 0},ot=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(e){return e.toJSON(t)}))};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isInline(t))return t;if("string"==typeof t&&(t={type:t}),o()(t))return e.fromJSON(t);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.List.isList(t)||Array.isArray(t)){var r=new n.List(t.map(e.create));return r}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isInline(t))return t;var r=t.data,i=void 0===r?{}:r,o=t.key,a=void 0===o?k.create():o,s=t.nodes,c=void 0===s?[]:s,l=t.type;if("string"!=typeof l)throw new Error("`Inline.fromJS` requires a `type` string.");return new e({key:a,type:l,data:new n.Map(i),nodes:ct.createList(c)})}},{key:"isInlineList",value:function(t){return n.List.isList(t)&&t.every((function(t){return e.isInline(t)}))}}]),e}(Object(n.Record)(it)),at={key:void 0,marks:void 0,text:void 0},st=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"addMark",value:function(t){t=q.create(t);var e=this.marks.add(t);return this.set("marks",e)}},{key:"addMarks",value:function(t){return t=q.createSet(t),this.set("marks",this.marks.union(t))}},{key:"getLeaves",value:function(t){var e=[{text:this.text,marks:this.marks,decorations:[]}],r=function(t,e){return[{text:t.text.slice(0,e),marks:t.marks,decorations:[].concat(D(t.decorations))},{text:t.text.slice(e),marks:t.marks,decorations:[].concat(D(t.decorations))}]},n=t,i=!0,o=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u=l.start,h=l.end,f=[],p=0,d=!0,m=!1,y=void 0;try{for(var v,g=e[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value,k=b.text.length,_=p;if(p+=k,u.offset<=_&&h.offset>=_+k)b.decorations.push(l),f.push(b);else if(u.offset>_+k||h.offset<_||h.offset===_&&0!==_)f.push(b);else{var x=b,S=void 0,w=void 0;if(h.offset<_+k){var E=r(x,h.offset-_),A=P(E,2);x=A[0],w=A[1]}if(u.offset>_){var C=r(x,u.offset-_),T=P(C,2);S=T[0],x=T[1]}x.decorations.push(l),S&&f.push(S),f.push(x),w&&f.push(w)}}}catch(t){m=!0,y=t}finally{try{!d&&g.return&&g.return()}finally{if(m)throw y}}e=f}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return e}},{key:"insertText",value:function(t,e){var r=this.text,n=r.slice(0,t)+e+r.slice(t);return this.set("text",n)}},{key:"removeMark",value:function(t){t=q.create(t);var e=this.marks.remove(t);return this.set("marks",e)}},{key:"removeText",value:function(t,e){var r=this.text,n=r.slice(0,t)+r.slice(t+e);return this.set("text",n)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,text:this.text,marks:this.marks.toArray().map((function(t){return t.toJSON()}))};return t.preserveKeys&&(e.key=this.key),e}},{key:"setMark",value:function(t,e){var r=this.marks,n=q.create(t),i=n.merge(e),o=r.remove(n).add(i);return this.set("marks",o)}},{key:"splitText",value:function(t){var e=this.text;return[this.set("text",e.slice(0,t)),this.set("text",e.slice(t)).regenerateKey()]}},{key:"mergeText",value:function(t){var e=this.text+t.text;return this.set("text",e)}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.isText(t))return t;if("string"==typeof t&&(t={text:t}),o()(t))return e.fromJSON(t);throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.List.isList(t)||Array.isArray(t)){var r=new n.List(t.map(e.create));return r}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isText(t))return t;Object(s.default)(null==t.leaves,"As of slate@0.46, the `leaves` property of text nodes has been removed! Each individual leaf should be created as a text node instead.");var r=t.text,n=void 0===r?"":r,i=t.marks,o=void 0===i?[]:i,a=t.key;return new e({key:void 0===a?k.create():a,text:n,marks:q.createSet(o)})}},{key:"isTextList",value:function(t){return n.List.isList(t)&&t.every((function(t){return e.isText(t)}))}}]),e}(Object(n.Record)(at)),ct=function(){function t(){x(this,t)}return S(t,null,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isNode(e))return e;if(o()(e)){var r=e.object;switch(!r&&e.kind&&(Object(a.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),r=e.kind),r){case"block":return ut.create(e);case"document":return nt.create(e);case"inline":return ot.create(e);case"text":return st.create(e);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.List.isList(e)||Array.isArray(e)){var r=[];e.forEach((function(e){if(e&&"text"===e.object&&e.leaves&&Array.isArray(e.leaves)){Object(a.a)(!1,"As of slate@0.46, the `leaves` property of Text nodes has been removed. Instead, each text node contains a string of text and a unique set of marks and leaves are unnecessary.");var n=st.createList(e.leaves).toArray();r=r.concat(n)}else{var i=t.create(e);r.push(i)}}));var i=Object(n.List)(r);return i}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+e)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(ut.isBlock(t)||ot.isInline(t))return{data:t.data,type:t.type};if("string"==typeof t)return{type:t};if(o()(t)){var e={};return"type"in t&&(e.type=t.type),"data"in t&&(e.data=G.create(t.data)),e}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var e=t.object;switch(!e&&t.kind&&(Object(a.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),e=t.kind),e){case"block":return ut.fromJSON(t);case"document":return nt.fromJSON(t);case"inline":return ot.fromJSON(t);case"text":return st.fromJSON(t);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+t)}}},{key:"isNode",value:function(t){return ut.isBlock(t)||nt.isDocument(t)||ot.isInline(t)||st.isText(t)}},{key:"isNodeList",value:function(e){return n.List.isList(e)&&e.every((function(e){return t.isNode(e)}))}}]),t}(),lt={data:void 0,key:void 0,nodes:void 0,type:void 0},ut=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(e){return e.toJSON(t)}))};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isBlock(t))return t;if("string"==typeof t&&(t={type:t}),o()(t))return e.fromJSON(t);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.List.isList(t)||Array.isArray(t)){var r=new n.List(t.map(e.create));return r}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isBlock(t))return t;var r=t.data,i=void 0===r?{}:r,o=t.key,a=void 0===o?k.create():o,s=t.nodes,c=void 0===s?[]:s,l=t.type;if("string"!=typeof l)throw new Error("`Block.fromJSON` requires a `type` string.");return new e({key:a,type:l,data:Object(n.Map)(i),nodes:ct.createList(c)})}},{key:"isBlockList",value:function(t){return n.List.isList(t)&&t.every((function(t){return e.isBlock(t)}))}}]),e}(Object(n.Record)(lt)),ht={annotations:void 0,data:void 0,document:void 0,selection:void 0},ft=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"addAnnotation",value:function(t){t=et.create(t);var e=this,r=e,n=r.annotations,i=r.document,o=t.key;return t=t.updatePoints((function(t){return t.normalize(i)})),n=n.set(o,t),e=e.set("annotations",n)}},{key:"addMark",value:function(t,e){e=q.create(e);var r=this,n=r.document;return n=n.addMark(t,e),r=r.set("document",n)}},{key:"insertNode",value:function(t,e){var r=this,n=r.document;return n=n.insertNode(t,e),r=(r=r.set("document",n)).mapRanges((function(t){return t.updatePoints((function(t){return t.setPath(null)}))}))}},{key:"insertText",value:function(t,e,r){var n=this,i=n.document,o=i.assertNode(t);return i=i.insertText(t,e,r),o=i.assertNode(t),n=(n=n.set("document",i)).mapPoints((function(t){return t.key===o.key&&t.offset>=e?t.setOffset(Math.min(o.text.length,t.offset+r.length)):t}),!0)}},{key:"mergeNode",value:function(t){var e=this,r=e.document,n=r.mergeNode(t);t=r.resolvePath(t);var i=z.decrement(t),o=r.getNode(i),a=r.getNode(t);return e=(e=e.set("document",n)).mapRanges((function(t){if("text"===a.object){var e=o.text.length;t.anchor.key===a.key&&(t=t.moveAnchorTo(o.key,e+t.anchor.offset)),t.focus.key===a.key&&(t=t.moveFocusTo(o.key,e+t.focus.offset))}return t=t.updatePoints((function(t){return t.setPath(null)}))}))}},{key:"moveNode",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this,i=n,o=i.document;return z.isEqual(t,e)?n:(o=o.moveNode(t,e,r),n=(n=n.set("document",o)).mapPoints((function(t){return t.setPath(null)})))}},{key:"removeAnnotation",value:function(t){t=et.create(t);var e=this,r=e.annotations,n=t.key;return r=r.delete(n),e=e.set("annotations",r)}},{key:"removeMark",value:function(t,e){e=q.create(e);var r=this,n=r.document;return n=n.removeMark(t,e),r=r.set("document",n)}},{key:"removeNode",value:function(t){var e=this,r=e.document,n=r.assertNode(t),i="text"===n.object?n:n.getFirstText()||n,o="text"===n.object?n:n.getLastText()||n,a=r.getPreviousText(i.key),s=r.getNextText(o.key);return r=r.removeNode(t),e=(e=e.set("document",r)).mapRanges((function(t){var e=t,r=e.anchor,i=e.focus;return n.hasNode(r.key)&&(t=a?t.moveAnchorTo(a.key,a.text.length):s?t.moveAnchorTo(s.key,0):t.unset()),n.hasNode(i.key)&&(t=a?t.moveFocusTo(a.key,a.text.length):s?t.moveFocusTo(s.key,0):t.unset()),t=t.updatePoints((function(t){return t.setPath(null)}))}))}},{key:"removeText",value:function(t,e,r){var n=this,i=n.document,o=i.assertNode(t);i=i.removeText(t,e,r),n=n.set("document",i);var a=r.length,s=e,c=e+a;return n=n.mapPoints((function(t){return t.key!==o.key?t:t.offset>=c?t.setOffset(t.offset-a):t.offset>s?t.setOffset(s):t}))}},{key:"setAnnotation",value:function(t,e){e=et.createProperties(e);var r=et.create(t),n=r.merge(e),i=this,o=i.annotations,a=r.key;return o=o.set(a,n),i=i.set("annotations",o)}},{key:"setNode",value:function(t,e){var r=this,n=r.document;return n=n.setNode(t,e),r=r.set("document",n)}},{key:"setMark",value:function(t,e,r){var n=this,i=n.document;return i=i.setMark(t,e,r),n=n.set("document",i)}},{key:"setProperties",value:function(t){var e=this,r=e.document,n=t.data,i=t.annotations,o={};return n&&(o.data=n),i&&(o.annotations=i.map((function(t){return t.isSet?t:r.resolveAnnotation(t)}))),e=e.merge(o)}},{key:"setSelection",value:function(t){var e=this,r=e,n=r.document,i=r.selection,o=i.setProperties(t);return i=n.resolveSelection(o),e=e.set("selection",i)}},{key:"splitNode",value:function(t,e,r){var n=this,i=n.document,o=i.splitNode(t,e,r),a=i.assertNode(t);return n=(n=n.set("document",o)).mapRanges((function(t){var r=o.getNextText(a.key),n=t,i=n.anchor,s=n.focus;return a.key===i.key&&e<=i.offset&&(t=t.moveAnchorTo(r.key,i.offset-e)),a.key===s.key&&e<=s.offset&&(t=t.moveFocusTo(r.key,s.offset-e)),t=t.updatePoints((function(t){return t.setPath(null)}))}))}},{key:"mapRanges",value:function(t,e){var r=this,n=r,i=n.document,o=n.selection,a=n.annotations,s=o.isSet?t(o):o;s||(s=o.unset()),s===o||e||(s=i.createSelection(s)),r=r.set("selection",s);var c=a.map((function(e){var r=e.isSet?t(e):e;return r&&r!==e&&(r=i.createAnnotation(r)),r}));return c=c.filter((function(t){return!!t})),r=r.set("annotations",c)}},{key:"mapPoints",value:function(t,e){return this.mapRanges((function(e){return e.updatePoints(t)}),e)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,document:this.document.toJSON(t)};return t.preserveData&&(e.data=this.data.toJSON(t)),t.preserveAnnotations&&(e.annotations=this.annotations.map((function(e){return e.toJSON(t)})).toObject()),t.preserveSelection&&(e.selection=this.selection.toJSON(t)),e}},{key:"change",value:function(){Object(s.default)(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new n.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new n.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new n.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?nt.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new n.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new n.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){Object(s.default)(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isValue(t))return t;if(o()(t))return e.fromJSON(t,r);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isValue(t))return{annotations:t.annotations,data:t.data};if(o()(t)){var r={};return"annotations"in t&&(r.annotations=et.createMap(t.annotations)),"data"in t&&(r.data=G.create(t.data)),r}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.data,n=void 0===r?{}:r,i=t.annotations,o=void 0===i?{}:i,a=t.document,s=void 0===a?{}:a,c=t.selection,l=void 0===c?{}:c;if(n=G.fromJSON(n),l=(s=nt.fromJSON(s)).createSelection(l),o=et.createMap(o),l.isUnset){var u=s.getFirstText();u&&(l=l.moveToStartOfNode(u)),l=s.createSelection(l)}return new e({annotations:o,data:n,document:s,selection:l})}}]),e}(Object(n.Record)(ht)),pt=l()("slate:operation:apply");function dt(t,e){var r=(e=bt.create(e)).type;switch(pt(r,e),window.ENABLE_SLATE_LOGGING&&console.log("    apply_operation: "+r+" "+(JSON.stringify(e.toJSON().properties)||"").substring(0,100)),r){case"add_annotation":var n=e.annotation;return t.addAnnotation(n);case"add_mark":var i=e,o=i.path,a=i.mark;return t.addMark(o,a);case"insert_node":var s=e,c=s.path,l=s.node;return t.insertNode(c,l);case"insert_text":var u=e,h=u.path,f=u.offset,p=u.text,d=u.marks;return t.insertText(h,f,p,d);case"merge_node":var m=e.path;return t.mergeNode(m);case"move_node":var y=e,v=y.path,g=y.newPath;return t.moveNode(v,g);case"remove_annotation":var b=e.annotation;return t.removeAnnotation(b);case"remove_mark":var k=e,_=k.path,x=k.mark;return t.removeMark(_,x);case"remove_node":var S=e.path;return t.removeNode(S);case"remove_text":var w=e,E=w.path,A=w.offset,C=w.text;return t.removeText(E,A,C);case"set_annotation":var T=e,P=T.properties,D=T.newProperties;return t.setAnnotation(P,D);case"set_mark":var O=e,M=O.path,F=O.properties,B=O.newProperties;return t.setMark(M,F,B);case"set_node":var I=e,N=I.path,R=I.newProperties;return t.setNode(N,R);case"set_selection":var L=e.newProperties;return t.setSelection(L);case"set_value":var j=e.newProperties;return t.setProperties(j);case"split_node":var z=e,K=z.path,V=z.position,G=z.properties;return t.splitNode(K,V,G);default:throw new Error('Unknown operation type: "'+r+'".')}}var mt=l()("slate:operation:invert");function yt(t){var e=(t=bt.create(t)).type;switch(mt(e,t),e){case"move_node":var r=t,n=r.newPath,i=r.path;if(z.isEqual(n,i))return t;var o=z.transform(i,t).first(),a=z.transform(z.increment(i),t).first();return t.set("path",o).set("newPath",a);case"merge_node":var s=t.path,c=z.decrement(s);return t.set("type","split_node").set("path",c);case"split_node":var l=t.path,u=z.increment(l);return t.set("type","merge_node").set("path",u);case"set_annotation":case"set_node":case"set_value":case"set_selection":case"set_mark":var h=t,f=h.properties,p=h.newProperties;return t.set("properties",p).set("newProperties",f);case"insert_node":case"insert_text":return t.set("type",e.replace("insert_","remove_"));case"remove_node":case"remove_text":return t.set("type",e.replace("remove_","insert_"));case"add_annotation":case"add_mark":return t.set("type",e.replace("add_","remove_"));case"remove_annotation":case"remove_mark":return t.set("type",e.replace("remove_","add_"));default:throw new Error('Unknown operation type: "'+e+'".')}}var vt={add_mark:["path","mark","data"],add_annotation:["annotation","data"],insert_node:["path","node","data"],insert_text:["path","offset","text","data"],merge_node:["path","position","properties","target","data"],move_node:["path","newPath","data"],remove_annotation:["annotation","data"],remove_mark:["path","mark","data"],remove_node:["path","node","data"],remove_text:["path","offset","text","data"],set_annotation:["properties","newProperties","data"],set_mark:["path","properties","newProperties","data"],set_node:["path","properties","newProperties","data"],set_selection:["properties","newProperties","data"],set_value:["properties","newProperties","data"],split_node:["path","position","properties","target","data"]},gt={annotation:void 0,data:void 0,length:void 0,mark:void 0,marks:void 0,newPath:void 0,newProperties:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,target:void 0,text:void 0,type:void 0},bt=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"apply",value:function(t){return dt(t,this)}},{key:"invert",value:function(){return yt(this)}},{key:"toJSON",value:function(){var t=this.object,e=this.type,r={object:t,type:e},n=vt[e],i=!0,o=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u=this[l];if("annotation"!==l&&"mark"!==l&&"marks"!==l&&"node"!==l&&"path"!==l&&"newPath"!==l||(u=u.toJSON()),"properties"===l&&"merge_node"===e){var h={};"data"in u&&(h.data=u.data.toJS()),"type"in u&&(h.type=u.type),u=h}if(("properties"===l||"newProperties"===l)&&"set_annotation"===e){var f={};"anchor"in u&&(f.anchor=u.anchor.toJS()),"focus"in u&&(f.focus=u.focus.toJS()),"key"in u&&(f.key=u.key),"data"in u&&(f.data=u.data.toJS()),"type"in u&&(f.type=u.type),u=f}if(("properties"===l||"newProperties"===l)&&"set_mark"===e){var p={};"data"in u&&(p.data=u.data.toJS()),"type"in u&&(p.type=u.type),u=p}if(("properties"===l||"newProperties"===l)&&"set_node"===e){var d={};"data"in u&&(d.data=u.data.toJS()),"type"in u&&(d.type=u.type),u=d}if(("properties"===l||"newProperties"===l)&&"set_selection"===e){var m={};"anchor"in u&&(m.anchor=u.anchor.toJSON()),"focus"in u&&(m.focus=u.focus.toJSON()),"isFocused"in u&&(m.isFocused=u.isFocused),"marks"in u&&(m.marks=u.marks&&u.marks.toJSON()),u=m}if(("properties"===l||"newProperties"===l)&&"set_value"===e){var y={};"data"in u&&(y.data=u.data.toJS()),u=y}if("properties"===l&&"split_node"===e){var v={};"data"in u&&(v.data=u.data.toJS()),"type"in u&&(v.type=u.type),u=v}"data"===l&&(u=u.toJSON()),r[l]=u}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return r}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isOperation(t))return t;if(o()(t))return e.fromJSON(t);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.List.isList(t)||Array.isArray(t)){var r=new n.List(t.map(e.create));return r}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isOperation(t))return t;var r=t.type,i=vt[r],o={type:r};if(!i)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+r+'"');var a=!0,s=!1,c=void 0;try{for(var l,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var h=l.value,f=t[h];if("data"===h&&void 0===f&&(f={}),void 0===f)throw new Error('`Operation.fromJSON` was passed a "'+r+'" operation without the required "'+h+'" attribute.');"annotation"===h&&(f=et.create(f)),"path"!==h&&"newPath"!==h||(f=z.create(f)),"mark"===h&&(f=q.create(f)),"node"===h&&(f=ct.create(f)),"properties"!==h&&"newProperties"!==h||"set_annotation"!==r||(f=et.createProperties(f)),"properties"!==h&&"newProperties"!==h||"set_mark"!==r||(f=q.createProperties(f)),"properties"!==h&&"newProperties"!==h||"set_node"!==r&&"merge_node"!==r&&"split_node"!==r||(f=ct.createProperties(f)),"properties"!==h&&"newProperties"!==h||"set_selection"!==r||(f=Y.createProperties(f)),"properties"!==h&&"newProperties"!==h||"set_value"!==r||(f=ft.createProperties(f)),"data"===h&&(f=Object(n.Map)(f)),o[h]=f}}catch(t){s=!0,c=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw c}}return new e(o)}},{key:"isOperationList",value:function(t){return n.List.isList(t)&&t.every((function(t){return e.isOperation(t)}))}}]),e}(Object(n.Record)(gt)),kt={operations:void 0,value:void 0},_t=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,value:this.value.toJSON(t),operations:this.operations.toArray().map((function(e){return e.toJSON(t)}))};return e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isChange(t))return t;if(o()(t))return e.fromJSON(t);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.value,n=t.operations,i=void 0===n?[]:n;return new e({value:ft.create(r),operations:bt.createList(i)})}}]),e}(Object(n.Record)(kt));function xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function e(e,r,n){var i=e.type,o=e.args,a=t[i];if(!a)return n();r.command.apply(r,[a].concat(D(o)))}function r(e,r){for(var n in t)e.registerCommand(n);return r()}return{onCommand:e,onConstruct:r}}var St=/\s/,wt=/['\u2018\u2019]/,Et=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function At(t){return 55296<=t&&t<=57343}function Ct(t,e,r){if(55356===t){var n=e.charCodeAt(r+1);return n<=57343&&n>=57339}return!1}function Tt(t){return t<=65039&&t>=65024}function Pt(t,e){if(St.test(t))return!1;if(wt.test(t)){var r=e.charAt(0),n=Dt(r);if(Pt(r=e.slice(0,n),e.slice(n)))return!0}return!Et.test(t)}function Dt(t){return At(t.charCodeAt(0))?2:1}function Ot(t,e,r){var n,i=0;if(""===t)return 1;for(var o=0;o<e;o++)for(var a=null,s=t.charCodeAt(i);s;)if(At(s)){var c=Ct(s,t,i);if(r){if(!c&&a&&"ZWJ"!==a||c&&a&&"SURR"!==a)break}else if("SURR"===a||"BMP"===a)break;i+=2,a=c?"MOD":"SURR",s=t.charCodeAt(i)}else if(8205!==s)if(10084!==(n=s)&&9794!==n&&9792!==n&&9760!==n&&9877!==n&&9992!==n&&9711!==n){if(!Tt(s)){if(r){if(Ct(t.charCodeAt(i+1),t,i+1)){i+=3,a="MOD",s=t.charCodeAt(i);continue}}else if("MOD"===a){i+=1;break}null===a&&(i+=1);break}if(!r&&a&&"ZWJ"!==a)break;i+=1,a="VAR",s=t.charCodeAt(i)}else{if(r&&"VAR"===a||a&&"ZWJ"!==a&&"VAR"!==a)break;i+=1,a="BMP",s=t.charCodeAt(i)}else i+=1,a="ZWJ",s=t.charCodeAt(i);return i}function Mt(t){for(var e=0,r=0,n=!1,i=void 0;i=t.charAt(r);){var o=Dt(i);if(Pt(i=t.slice(r,r+o),t.slice(r+o)))n=!0,e+=o;else{if(n)break;e+=o}r+=o}return e}var Ft={getCharLength:Dt,getCharOffset:Ot,getCharOffsetBackward:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t=t.slice(0,e),Ot(t=Object(u.reverse)(t),r)},getCharOffsetForward:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Ot(t=t.slice(e),r,!0)},getWordOffset:Mt,getWordOffsetBackward:function(t,e){return t=t.slice(0,e),Mt(t=Object(u.reverse)(t))},getWordOffsetForward:function(t,e){return Mt(t=t.slice(e))},isSurrogate:At,isWord:Pt};function Bt(t,e){e.isExpanded&&t.deleteAtRange(e);var r=t.value.document,n=e,i=n.start,o=n.end;return e=r.hasDescendant(i.path)?e.moveToStart():e.moveTo(o.path,0).normalize(r)}var It={addMarkAtRange:function(t,e,r){if(!e.isCollapsed){var n=t.value.document,i=e.start,o=e.end,a=n.getTextsAtRange(e);t.withoutNormalizing((function(){a.forEach((function(e){var n=e.key,a=0,s=e.text.length;n===i.key&&(a=i.offset),n===o.key&&(s=o.offset),n===i.key&&n===o.key&&(s=o.offset-i.offset),t.addMarkByKey(n,a,s,r)}))}))}},addMarksAtRange:function(t,e,r){r.forEach((function(r){return t.addMarkAtRange(e,r)}))},deleteAtRange:function(t,e){t.snapshotSelection();var r=t.value,n=e.start,i=e.end,o=n.key,a=n.offset,s=i.key,c=i.offset,l=r.document,u=l.hasVoidParent(o,t),h=l.hasVoidParent(s,t),f=l.getClosestBlock(o),p=l.getClosestBlock(s);if(null!=o||null!=s){var d=0===a&&0===c&&!1===u&&o===f.getFirstText().key&&s===p.getFirstText().key&&o!==s;if(d&&h){var m=l.getPreviousText(s);s=m.key,c=m.text.length,h=l.hasVoidParent(s,t)}t.withoutNormalizing((function(){for(;u;){var e=l.getClosestVoid(o,t),r=l.getNextText(o);if(t.removeNodeByKey(e.key),o===s)return;if(!r)return;l=t.value.document,o=r.key,a=0,u=l.hasVoidParent(o,t)}for(;h;){var n=l.getClosestVoid(s,t),i=l.getPreviousText(s);t.removeNodeByKey(n.key),l=t.value.document,s=i.key,c=i.text.length,h=l.hasVoidParent(s,t)}if(o===s&&d)t.removeNodeByKey(f.key);else if(o!==s){f=l.getClosestBlock(o),p=l.getClosestBlock(s);var m=l.getNode(o),y=l.getNode(s),v=m.text.length-a,g=c,b=l.getCommonAncestor(o,s),k=b.getFurthestChild(o),_=b.getFurthestChild(s),x=l.getParent(f.key),S=x.nodes.indexOf(f),w=x.nodes.indexOf(p),E=void 0;for(E=m;E.key!==k.key;){var A=l.getParent(E.key),C=A.nodes.indexOf(E);A.nodes.slice(C+1).reverse().forEach((function(e){t.removeNodeByKey(e.key)})),E=A}var T=b.nodes.indexOf(k),D=b.nodes.indexOf(_);for(b.nodes.slice(T+1,D).reverse().forEach((function(e){t.removeNodeByKey(e.key)})),E=y;E.key!==_.key;){var O=l.getParent(E.key),M=O.nodes.indexOf(E);O.nodes.slice(0,M).reverse().forEach((function(e){t.removeNodeByKey(e.key)})),E=O}if(0!==v&&t.removeTextByKey(o,a,v),0!==g&&t.removeTextByKey(s,0,c),f.key!==p.key){l=t.value.document;var F=void 0,B=!0,I=!1,N=void 0;try{for(var R,L=l.ancestors(p.key)[Symbol.iterator]();!(B=(R=L.next()).done);B=!0){var j=R.value,z=P(j,1)[0];if(z.nodes.size>1)break;F=z}}catch(t){I=!0,N=t}finally{try{!B&&L.return&&L.return()}finally{if(I)throw N}}w!==S+1&&t.moveNodeByKey(p.key,x.key,S+1),d?t.removeNodeByKey(f.key):t.mergeNodeByKey(p.key),F&&t.removeNodeByKey(F.key)}}else{var K=a,V=c-a;t.removeTextByKey(o,K,V)}}))}},deleteBackwardAtRange:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==r){var n=t.value,i=n.document,o=e,a=o.start,s=o.focus;if(e.isExpanded)t.deleteAtRange(e);else{var c=i.getClosestVoid(a.path,t);if(c)t.removeNodeByKey(c.key);else if(!a.isAtStartOfNode(i)){var l=i.getClosestBlock(a.path);if(1!==i.nodes.size&&l&&""===l.text&&1===l.nodes.size)t.removeNodeByKey(l.key);else{var u=i.getDescendant(a.path);if(a.isAtStartOfNode(u)){var h=i.getPreviousText(u.key),f=i.getClosestInline(u.key);f&&""===h.text&&(h=i.getPreviousText(h.key));var p=i.getClosestBlock(h.key),d=i.getClosestVoid(h.key,t);if(d)return void t.removeNodeByKey(d.key);if(1===r&&p!==l)return e=e.moveAnchorTo(h.key,h.text.length),void t.deleteAtRange(e)}if(r<=s.offset)return e=e.moveFocusBackward(r),void t.deleteAtRange(e);for(var m=u,y=0,v=s.offset;r>v;){if(null==(m=i.getPreviousText(m.key)))return;var g=v+m.text.length;if(r<=g){y=g-r;break}v=g}e=e.moveAnchorTo(m.key,y),t.deleteAtRange(e)}}}}},deleteCharBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var r=t.value.document,n=e.start,i=r.getClosestBlock(n.path),o=i.getOffset(n.key)+n.offset,a=i.text,s=Ft.getCharOffsetBackward(a,o);t.deleteBackwardAtRange(e,s)}},deleteCharForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var r=t.value.document,n=e.start,i=r.getClosestBlock(n.path);if(null==i){var o=r.getNode(n.path);(null!=o&&"block"===o.object||"document"===o.object)&&(i=o)}var a=i.getOffset(n.key)+n.offset,s=i.text,c=Ft.getCharOffsetForward(s,a);t.deleteForwardAtRange(e,c)}},deleteForwardAtRange:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==r){var n=t.value,i=n.document,o=e,a=o.start,s=o.focus;if(e.isExpanded)t.deleteAtRange(e);else{var c=i.getClosestVoid(a.path,t);if(c)t.removeNodeByKey(c.key);else{var l=i.getClosestBlock(a.path);if(l&&!t.isVoid(l)&&""===l.text&&1!==i.nodes.size){var u=i.getNextBlock(l.key);return t.removeNodeByKey(l.key),void(u&&u.key&&t.moveToStartOfNode(u))}if(!a.isAtEndOfNode(i)){var h=i.getDescendant(a.path);if(a.isAtEndOfNode(h)){var f=i.getNextText(h.key),p=i.getClosestBlock(f.key),d=i.getClosestVoid(f.key,t);if(d)return void t.removeNodeByKey(d.key);if(1===r&&p!==l)return e=e.moveFocusTo(f.key,0),void t.deleteAtRange(e)}if(r<=h.text.length-s.offset)return e=e.moveFocusForward(r),void t.deleteAtRange(e);for(var m=h,y=s.offset,v=h.text.length-s.offset;r>v;){if(null==(m=i.getNextText(m.key)))return;var g=v+m.text.length;if(r<=g){y=r-v;break}v=g}e=e.moveFocusTo(m.key,y),t.deleteAtRange(e)}}}}},deleteLineBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var r=t.value.document,n=e.start,i=r.getClosestBlock(n.path).getOffset(n.key)+n.offset;t.deleteBackwardAtRange(e,i)}},deleteLineForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var r=t.value.document,n=e.start,i=r.getClosestBlock(n.path),o=i.getOffset(n.key)+n.offset;t.deleteForwardAtRange(e,i.text.length-o)}},deleteWordBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var r=t.value.document,n=e.start,i=r.getClosestBlock(n.path),o=i.getOffset(n.key),a=o+n.offset,s=i.text,c=s.substring(o,o+n.offset);if(o>0&&0===c.trim().length)t.deleteBackwardAtRange(e,c.length+1);else{var l=0===a?1:Ft.getWordOffsetBackward(s,a);t.deleteBackwardAtRange(e,l)}}},deleteWordForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var r=t.value.document,n=e.start,i=r.getClosestBlock(n.path),o=i.getOffset(n.key),a=i.getNode(n.key),s=o+n.offset,c=i.text,l=a.text.substring(n.offset);if(0===l.trim().length){var u=i.nodes.indexOf(a);if(u+1<i.nodes.size){var h=i.nodes.get(u+1);if(null!=h&&"inline"===h.object)return void t.deleteForwardAtRange(e,l.length+1)}}var f=Ft.getWordOffsetForward(c,s),p=0===f?1:f;t.deleteForwardAtRange(e,p)}},insertBlockAtRange:function(t,e,r){e=Bt(t,e),r=ut.create(r);var n=t.value.document,i=e.start,o=i.key,a=i.offset,s=n.getClosestBlock(o),c=n.getClosestInline(o),l=n.getParent(s.key),u=l.nodes.indexOf(s),h=Nt(t,e);if("before"===h)t.insertNodeByKey(l.key,u,r);else if("behind"===h)t.insertNodeByKey(l.key,u+1,r);else{if(c&&t.isVoid(c)){var f=i.isAtEndOfNode(c),p=f?n.getNextText(o):n.getPreviousText(o),d=f?e.moveToStartOfNode(p):e.moveToEndOfNode(p);o=d.start.key,a=d.start.offset}t.withoutNormalizing((function(){t.splitDescendantsByKey(s.key,o,a),t.insertNodeByKey(l.key,u+1,r)}))}}},Nt=function(t,e){var r=t.value.document,n=e.start,i=n.key,o=r.getClosestBlock(i),a=r.getClosestInline(i);return t.isVoid(o)?n.isAtEndOfNode(o)?"behind":"before":a||""!==o.text?n.isAtStartOfNode(o)?"before":n.isAtEndOfNode(o)?"behind":"split":"behind"};It.insertFragmentAtRange=function(t,e,r){t.withoutNormalizing((function(){if(e=Bt(t,e),r.nodes.size){r=r.mapDescendants((function(t){return t.regenerateKey()}));var i=e.start,o=t.value.document,a=o.getDescendant(i.path),s=o.getClosestBlock(a.key),c=s.getFurthestChild(a.key),l=i.isAtStartOfNode(s),u=o.getParent(s.key),h=u.nodes.indexOf(s),f=r.getBlocks(),p=r.nodes.first(),d=r.nodes.last(),m=f.first(),y=f.last(),v=Rt(r,o,s.key);if(m===y&&t.isVoid(m))t.insertBlockAtRange(e,m);else if(v!==r||!p.hasBlockChildren()&&!d.hasBlockChildren()){if(m!==y){var g=v.getFurthest(m.key,(function(t){return 1===t.nodes.size}))||m,b=u.nodes.indexOf(s);v.removeNode(g.key).nodes.forEach((function(e,r){var n=b+r+1;t.insertNodeByKey(u.key,n,e)}))}if(0!==i.offset&&t.splitDescendantsByKey(c.key,i.key,i.offset),a=(o=t.value.document).getDescendant(i.key),c=(s=o.getClosestBlock(i.key)).getFurthestChild(a.key),m!==y){var k=l?c:s.getNextSibling(c.key),_=k?s.nodes.skipUntil((function(t){return t.key===k.key})):Object(n.List)(),x=y.nodes.size;_.forEach((function(e,r){var n=x+r;t.moveNodeByKey(e.key,y.key,n)}))}if(t.isVoid(s)||""!==s.text||s.findDescendant((function(e){return t.isVoid(e)}))){var S=s.getFurthestChild(a.key),w=s.nodes.indexOf(S);m.nodes.forEach((function(e,r){var n=0===i.offset?0:1,o=w+r+n;t.insertNodeByKey(s.key,o,e)}))}else t.removeNodeByKey(s.key),t.insertNodeByKey(u.key,h,m)}else{("before"===Nt(t,e)?r.nodes:r.nodes.reverse()).forEach((function(r){t.insertBlockAtRange(e,r)}))}}}))};var Rt=function(t,e,r){var n=function(t,e){return e.size>=t.size&&t.every((function(t,r){return e.get(r).type===t.type}))},i=function(t,e){return t.getAncestors(e).slice(1).push(t.getNode(e)).reverse()},o=function(t){for(var e=t;1===e.nodes.size&&"block"===e.nodes.first().object;)e=e.nodes.first();return e===t?null:e}(t);return o?function(e,r){var i=e.size-r.size;if(i<0)return t;for(var o=0;o<r.size;o++)for(var a=0;a<=i;a++)if(n(r.slice(o),e.slice(a)))return r.get(o);return t}(i(e,r),i(t,o.key)):t};It.insertInlineAtRange=function(t,e,r){r=ot.create(r),t.withoutNormalizing((function(){e=Bt(t,e);var n=t.value.document,i=e.start,o=n.getParent(i.path),a=n.assertDescendant(i.path),s=o.nodes.indexOf(a);t.isVoid(o)||(t.splitNodeByPath(i.path,i.offset),t.insertNodeByKey(o.key,s+1,r))}))},It.insertTextAtRange=function(t,e,r,n){t.withoutNormalizing((function(){e=Bt(t,e);var i=t.value.document,o=e.start,a=o.offset,s=i.getParent(o.path);t.isVoid(s)||t.insertTextByPath(o.path,a,r,n)}))},It.removeMarkAtRange=function(t,e,r){if(!e.isCollapsed){var n=t.value.document.getTextsAtRange(e),i=e.start,o=e.end;t.withoutNormalizing((function(){n.forEach((function(e){var n=e.key,a=0,s=e.text.length;n===i.key&&(a=i.offset),n===o.key&&(s=o.offset),n===i.key&&n===o.key&&(s=o.offset-i.offset),t.removeMarkByKey(n,a,s,r)}))}))}},It.setBlocksAtRange=function(t,e,r){var n=t.value.document,i=n.getLeafBlocksAtRange(e),o=e.start,a=e.end,s=e.isCollapsed,c=n.hasVoidParent(o.path,t),l=n.getClosestBlock(o.path),u=n.getClosestBlock(a.key),h=!1===s&&0===o.offset&&0===a.offset&&!1===c&&o.key===l.getFirstText().key&&a.key===u.getFirstText().key?i.slice(0,-1):i;t.withoutNormalizing((function(){h.forEach((function(e){t.setNodeByKey(e.key,r)}))}))},It.setInlinesAtRange=function(t,e,r){var n=t.value.document.getLeafInlinesAtRange(e);t.withoutNormalizing((function(){n.forEach((function(e){t.setNodeByKey(e.key,r)}))}))},It.splitBlockAtRange=function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e=Bt(t,e),i=n.start,o=n.end,a=t.value,s=a,c=s.document,l=c.assertDescendant(i.path),u=c.getClosestBlock(l.key),h=0;u&&"block"===u.object&&h<r;)l=u,u=c.getClosestBlock(u.key),h++;t.withoutNormalizing((function(){if(t.splitDescendantsByKey(l.key,i.path,i.offset),a=t.value,c=a.document,e.isExpanded){e.isBackward&&(e=e.flip());var r=c.getNextBlock(l.key);e=(e=e.moveAnchorToStartOfNode(r)).setFocus(e.focus.setPath(null)),i.path.equals(o.path)&&(e=e.moveFocusTo(e.anchor.key,o.offset-i.offset)),e=c.resolveRange(e),t.deleteAtRange(e)}}))},It.splitInlineAtRange=function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=e=Bt(t,e),i=n.start,o=t.value,a=o.document,s=a.assertDescendant(i.path),c=a.getClosestInline(s.key),l=0;c&&"inline"===c.object&&l<r;)s=c,c=a.getClosestInline(c.key),l++;t.splitDescendantsByKey(s.key,i.path,i.offset)},It.toggleMarkAtRange=function(t,e,r){e.isCollapsed||(r=q.create(r),t.value.document.getActiveMarksAtRange(e).some((function(t){return t.equals(r)}))?t.removeMarkAtRange(e,r):t.addMarkAtRange(e,r))},It.unwrapBlockAtRange=function(t,e,r){r=ct.createProperties(r);var n=t.value.document,i=n.getLeafBlocksAtRange(e),o=i.map((function(t){return n.getClosest(t.key,(function(t){return"block"===t.object&&((null==r.type||t.type===r.type)&&!(null!=r.data&&!t.data.isSuperset(r.data)))}))})).filter((function(t){return t})).toOrderedSet().toList();t.withoutNormalizing((function(){o.forEach((function(e){var r=e.nodes.first(),o=e.nodes.last(),a=t.value.document.getParent(e.key),s=a.nodes.indexOf(e),c=e.nodes.filter((function(t){return i.some((function(e){return t===e||t.hasDescendant(e.key)}))})),l=c.first(),u=c.last();if(r===l&&o===u)e.nodes.forEach((function(e,r){t.moveNodeByKey(e.key,a.key,s+r)})),t.removeNodeByKey(e.key);else if(o===u)e.nodes.skipUntil((function(t){return t===l})).forEach((function(e,r){t.moveNodeByKey(e.key,a.key,s+1+r)}));else if(r===l)e.nodes.takeUntil((function(t){return t===u})).push(u).forEach((function(e,r){t.moveNodeByKey(e.key,a.key,s+r)}));else{var h=l.getFirstText();t.splitDescendantsByKey(e.key,h.key,0),n=t.value.document,c.forEach((function(e,r){if(0===r){var i=e;e=n.getNextBlock(e.key),t.removeNodeByKey(i.key)}t.moveNodeByKey(e.key,a.key,s+1+r)}))}}))}))},It.unwrapInlineAtRange=function(t,e,r){r=ct.createProperties(r);var n=t.value.document,i=n.getTextsAtRange(e).map((function(t){return n.getClosest(t.key,(function(t){return"inline"===t.object&&((null==r.type||t.type===r.type)&&!(null!=r.data&&!t.data.isSuperset(r.data)))}))})).filter((function(t){return t})).toOrderedSet().toList();t.withoutNormalizing((function(){i.forEach((function(e){var r=t.value.document.getParent(e.key),n=r.nodes.indexOf(e);e.nodes.forEach((function(e,i){t.moveNodeByKey(e.key,r.key,n+i)})),t.removeNodeByKey(e.key)}))}))},It.wrapBlockAtRange=function(t,e,r){r=(r=ut.create(r)).set("nodes",r.nodes.clear());var n=t.value.document,i=n.getLeafBlocksAtRange(e),o=i.first(),a=i.last(),s=void 0,c=void 0,l=void 0;if(1===i.length?(s=n.getParent(o.key),c=i):s=n.getClosest(o.key,(function(t){return!!n.getClosest(a.key,(function(e){return t===e}))})),null==s&&(s=n),null==c){var u=s.nodes.reduce((function(t,e,r){return(e===o||e.hasDescendant(o.key))&&(t[0]=r),(e===a||e.hasDescendant(a.key))&&(t[1]=r),t}),[]);l=u[0],c=s.nodes.slice(u[0],u[1]+1)}null==l&&(l=s.nodes.indexOf(c.first())),t.withoutNormalizing((function(){t.insertNodeByKey(s.key,l,r),c.forEach((function(e,n){t.moveNodeByKey(e.key,r.key,n)}))}))},It.wrapInlineAtRange=function(t,e,r){var n=t.value.document,i=e.start,o=e.end;if(e.isCollapsed){var a=n.getClosestInline(i.path);if(!a)return;if(!t.isVoid(a))return;return t.wrapInlineByKey(a.key,r)}r=(r=ot.create(r)).set("nodes",r.nodes.clear());var s=n.getLeafBlocksAtRange(e),c=n.getClosestBlock(i.path),l=n.getClosestBlock(o.path),u=n.getClosestInline(i.path),h=n.getClosestInline(o.path),f=c.getFurthestChild(i.key),p=l.getFurthestChild(o.key);t.withoutNormalizing((function(){u&&u===h||(t.splitDescendantsByKey(p.key,o.key,o.offset),t.splitDescendantsByKey(f.key,i.key,i.offset)),n=t.value.document,c=n.getDescendant(c.key),l=n.getDescendant(l.key),f=c.getFurthestChild(i.key),p=l.getFurthestChild(o.key);var a=c.nodes.indexOf(f),d=l.nodes.indexOf(p);if(u&&u===h){var m=c.getTextsAtRange(e).map((function(t){return i.key===t.key&&o.key===t.key?t.splitText(i.offset)[1].splitText(o.offset-i.offset)[0].regenerateKey():i.key===t.key?t.splitText(i.offset)[1].regenerateKey():o.key===t.key?t.splitText(o.offset)[0].regenerateKey():t.regenerateKey()}));r=r.set("nodes",m),t.insertInlineAtRange(e,r)}else if(c===l){n=t.value.document,c=n.getClosestBlock(i.key),f=c.getFurthestChild(i.key);var y=n.getNextSibling(f.key),v=c.nodes.indexOf(y),g=i.key===o.key?y:c.getFurthestChild(o.key),b=c.nodes.skipUntil((function(t){return t===y})).takeUntil((function(t){return t===g})).push(g),k=r.regenerateKey();t.insertNodeByKey(c.key,v,k),b.forEach((function(e,r){t.moveNodeByKey(e.key,k.key,r)}))}else{var _=c.nodes.slice(a+1),x=l.nodes.slice(0,d+1),S=r.regenerateKey(),w=r.regenerateKey();t.insertNodeByKey(c.key,a+1,S),t.insertNodeByKey(l.key,d,w),_.forEach((function(e,r){t.moveNodeByKey(e.key,S.key,r)})),x.forEach((function(e,r){t.moveNodeByKey(e.key,w.key,r)})),s.slice(1,-1).forEach((function(e){var n=r.regenerateKey();t.insertNodeByKey(e.key,0,n),e.nodes.forEach((function(e,r){t.moveNodeByKey(e.key,n.key,r)}))}))}}))},It.wrapTextAtRange=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r,i=e.start,o=e.end,a=e.moveToStart(),s=e.moveToEnd();i.path.equals(o.path)&&(s=s.moveForward(r.length)),t.withoutNormalizing((function(){t.insertTextAtRange(a,r),t.insertTextAtRange(s,n)}))};var Lt={addMarkByPath:function(t,e,r,n,i){i=q.create(i),t.addMarksByPath(e,r,n,[i])},addMarksByPath:function(t,e,r,n,i){if((i=q.createSet(i)).size){var o=t.value.document.assertNode(e);t.withoutNormalizing((function(){r+n<o.text.length&&t.splitNodeByPath(e,r+n),r>0&&(t.splitNodeByPath(e,r),e=z.increment(e),r=0),i.forEach((function(r){t.applyOperation({type:"add_mark",path:e,mark:q.create(r)})}))}))}},replaceMarksByPath:function(t,e,r,n,i){var o=q.createSet(i),a=t.value.document.assertNode(e);a.marks.equals(o)||t.withoutNormalizing((function(){r+n<a.text.length&&t.splitNodeByPath(e,r+n),r>0&&(t.splitNodeByPath(e,r),e=z.increment(e),r=0);var i=o.subtract(a.marks);a.marks.subtract(o).forEach((function(r){t.applyOperation({type:"remove_mark",path:e,mark:q.create(r)})})),i.forEach((function(r){t.applyOperation({type:"add_mark",path:e,mark:q.create(r)})}))}))},insertFragmentByPath:function(t,e,r,n){n.nodes.forEach((function(n,i){t.insertNodeByPath(e,r+i,n)}))},insertNodeByPath:function(t,e,r,n){t.applyOperation({type:"insert_node",path:e.concat(r),node:n})},insertTextByPath:function(t,e,r,n,i){var o=t.value,a=o.annotations;o.document.assertNode(e),t.withoutNormalizing((function(){var o=!0,s=!1,c=void 0;try{for(var l,u=a.values()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value,f=h.start,p=h.end;t.isAtomic(h)&&(f.path.equals(e)&&f.offset<r&&(!p.path.equals(e)||p.offset>r)&&t.removeAnnotation(h))}}catch(t){s=!0,c=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw c}}t.applyOperation({type:"insert_text",path:e,offset:r,text:n}),i&&t.replaceMarksByPath(e,r,n.length,i)}))},mergeNodeByPath:function(t,e){var r=t.value.document,n=r.getDescendant(e),i=r.getPreviousSibling(e);if(!i)throw new Error('Unable to merge node with path "'+e+'", because it has no previous sibling.');var o="text"===i.object?i.text.length:i.nodes.size;t.applyOperation({type:"merge_node",path:e,position:o,properties:{type:n.type,data:n.data},target:null})},moveNodeByPath:function(t,e,r,n){if(z.isEqual(e,r))return t;var i=r.concat(n);if(z.isEqual(e,i))return t;t.applyOperation({type:"move_node",path:e,newPath:i})},removeMarkByPath:function(t,e,r,n,i){i=q.create(i),t.removeMarksByPath(e,r,n,[i])},removeMarksByPath:function(t,e,r,n,i){if((i=q.createSet(i)).size){var o=t.value.document.assertNode(e);i.intersect(o.marks).isEmpty()||t.withoutNormalizing((function(){r+n<o.text.length&&t.splitNodeByPath(e,r+n),r>0&&(t.splitNodeByPath(e,r),e=z.increment(e),r=0),i.forEach((function(i){t.applyOperation({type:"remove_mark",path:e,offset:r,length:n,mark:i})}))}))}},removeAllMarksByPath:function(t,e){var r=t.state.document.assertNode(e);t.withoutNormalizing((function(){if("text"!==r.object){var n=!0,i=!1,o=void 0;try{for(var a,s=r.texts()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,l=P(c,2),u=l[0],h=l[1],f=e.concat(h);t.removeMarksByPath(f,0,u.text.length,u.marks)}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}else t.removeMarksByPath(e,0,r.text.length,r.marks)}))},removeNodeByPath:function(t,e){var r=t.value.document.assertNode(e);t.applyOperation({type:"remove_node",path:e,node:r})},removeTextByPath:function(t,e,r,n){var i=t.value,o=i.document,a=i.annotations,s=o.assertNode(e).text.slice(r,r+n);t.withoutNormalizing((function(){var n=!0,i=!1,o=void 0;try{for(var c,l=a.values()[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var u=c.value,h=u.start,f=u.end;t.isAtomic(u)&&(h.path.equals(e)&&h.offset<r&&(!f.path.equals(e)||f.offset>r)&&t.removeAnnotation(u))}}catch(t){i=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}t.applyOperation({type:"remove_text",path:e,offset:r,text:s})}))},replaceNodeByPath:function(t,e,r){r=ct.create(r);var n=e.last(),i=z.lift(e);t.withoutNormalizing((function(){t.removeNodeByPath(e),t.insertNodeByPath(i,n,r)}))},replaceTextByPath:function(t,e,r,n,i,o){t.withoutNormalizing((function(){t.removeTextByPath(e,r,n),t.insertTextByPath(e,r,i,o)}))},setMarkByPath:function(t,e,r,n,i,o){i=q.create(i),o=q.createProperties(o);var a=t.value.document.assertNode(e);t.withoutNormalizing((function(){r+n<a.text.length&&t.splitNodeByPath(e,r+n),r>0&&(t.splitNodeByPath(e,r),e=z.increment(e),r=0),t.applyOperation({type:"set_mark",path:e,properties:i,newProperties:o})}))},setNodeByPath:function(t,e,r){var n=t.value.document.assertNode(e);r=ct.createProperties(r);var i=f()(n,Object.keys(r));t.applyOperation({type:"set_node",path:e,properties:i,newProperties:r})},setTextByPath:function(t,e,r,n){var i=t.value.document.assertNode(e).text.length;t.replaceTextByPath(e,0,i,r,n)},splitNodeByPath:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.target,o=void 0===i?null:i,a=t.value,s=a.document,c=s.getDescendant(e);t.applyOperation({type:"split_node",path:e,position:r,target:o,properties:{type:c.type,data:c.data}})},splitDescendantsByPath:function(t,e,r,n){if(e.equals(r))t.splitNodeByPath(r,n);else{var i=t.value.document,o=n,a=r;t.withoutNormalizing((function(){t.splitNodeByKey(r,n);var s=!0,c=!1,l=void 0;try{for(var u,h=i.ancestors(r)[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value,p=P(f,2)[1],d=o;if(o=a.last()+1,a=p,t.splitNodeByPath(p,o,{target:d}),p.equals(e))break}}catch(t){c=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(c)throw l}}}))}},unwrapInlineByPath:function(t,e,r){var n=t.value,i=n.document,o=n.selection,a=i.assertNode(e),s=a.getFirstText(),c=a.getLastText(),l=o.moveToRangeOfNode(s,c);t.unwrapInlineAtRange(l,r)},unwrapBlockByPath:function(t,e,r){var n=t.value,i=n.document,o=n.selection,a=i.assertNode(e),s=a.getFirstText(),c=a.getLastText(),l=o.moveToRangeOfNode(s,c);t.unwrapBlockAtRange(l,r)},unwrapNodeByPath:function(t,e){var r=t.value.document;r.assertNode(e);var n=z.lift(e),i=r.assertNode(n),o=e.last(),a=n.last(),s=z.lift(n),c=0===o,l=o===i.nodes.size-1;t.withoutNormalizing((function(){if(1===i.nodes.size)t.moveNodeByPath(e,s,a+1),t.removeNodeByPath(n);else if(c)t.moveNodeByPath(e,s,a);else if(l)t.moveNodeByPath(e,s,a+1);else{var r=z.increment(e,1,n.size-1);r=r.set(r.size-1,0),t.splitNodeByPath(n,o),t.moveNodeByPath(r,s,a+1)}}))},unwrapChildrenByPath:function(t,e){e=z.create(e);var r=t.value.document.assertNode(e),n=z.lift(e),i=e.last(),o=r.nodes;t.withoutNormalizing((function(){o.reverse().forEach((function(r,a){var s=o.size-a-1,c=e.push(s);t.moveNodeByPath(c,n,i+1)})),t.removeNodeByPath(e)}))},wrapBlockByPath:function(t,e,r){r=(r=ut.create(r)).set("nodes",r.nodes.clear());var n=z.lift(e),i=e.last(),o=z.increment(e);t.withoutNormalizing((function(){t.insertNodeByPath(n,i,r),t.moveNodeByPath(o,e,0)}))},wrapInlineByPath:function(t,e,r){r=(r=ot.create(r)).set("nodes",r.nodes.clear());var n=z.lift(e),i=e.last(),o=z.increment(e);t.withoutNormalizing((function(){t.insertNodeByPath(n,i,r),t.moveNodeByPath(o,e,0)}))},wrapNodeByPath:function(t,e,r){"block"===(r=ct.create(r)).object?t.wrapBlockByPath(e,r):"inline"===r.object&&t.wrapInlineByPath(e,r)}},jt=function(t){Lt[t+"ByKey"]=function(e,r){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a=e.value,s=a.document,c=s.assertPath(r);e[t+"ByPath"].apply(e,[c].concat(i))}},zt=!0,Kt=!1,Vt=void 0;try{for(var Gt,Ht=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceMarks","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(zt=(Gt=Ht.next()).done);zt=!0){jt(Gt.value)}}catch(t){Kt=!0,Vt=t}finally{try{!zt&&Ht.return&&Ht.return()}finally{if(Kt)throw Vt}}Lt.moveNodeByKey=function(t,e,r){for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=t.value,s=a.document,c=s.assertPath(e),l=s.assertPath(r);t.moveNodeByPath.apply(t,[c,l].concat(i))},Lt.splitDescendantsByKey=function(t,e,r){for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=t.value,s=a.document,c=s.assertPath(e),l=s.assertPath(r);t.splitDescendantsByPath.apply(t,[c,l].concat(i))};var qt={};qt.save=function(t,e){if(!(Date.now()>0)){var r=t.operations,i=t.value.data,o=t.tmp,a=o.save,s=o.merge;if(!1!==a&&function(t){if("set_selection"===t.type){var e=t.newProperties,r=e.isFocused,n=e.anchor,i=e.focus;if(void 0!==r&&!n&&!i)return!1}return!0}(e)){var c,l,u=i.get("undos")||Object(n.List)(),h=u.last(),f=h&&h.last();if(null==s&&(0!==r.size?s=!0:(c=e,s=!!(l=f)&&("set_selection"===c.type&&"set_selection"===l.type||"insert_text"===c.type&&"insert_text"===l.type&&c.offset===l.offset+l.text.length&&c.path.equals(l.path)||"remove_text"===c.type&&"remove_text"===l.type&&c.offset+c.text.length===l.offset&&c.path.equals(l.path)))),s&&h){var p=h.push(e);u=(u=u.pop()).push(p)}else{var d=Object(n.List)([e]);u=u.push(d)}u.size>100&&(u=u.takeLast(100)),t.withoutSaving((function(){var e=Object(n.List)(),r=i.set("undos",u).set("redos",e);t.setData(r)}))}}},qt.redo=function(t){var e=t.value.data,r=e.get("redos")||Object(n.List)(),i=e.get("undos")||Object(n.List)(),o=r.last();o&&t.withoutSaving((function(){t.withoutNormalizing((function(){o.forEach((function(e){var r=e,n=r.type,i=r.newProperties;"set_selection"===n&&(e=e.set("newProperties",d()(i,"isFocused"))),t.applyOperation(e)})),r=r.pop(),i=i.push(o);var n=e.set("undos",i).set("redos",r);t.setData(n)}))}))},qt.undo=function(t){var e=t.value.data,r=e.get("redos")||Object(n.List)(),i=e.get("undos")||Object(n.List)(),o=i.last();o&&t.withoutSaving((function(){t.withoutNormalizing((function(){o.slice().reverse().map((function(t){return t.invert()})).forEach((function(e){var r=e,n=r.type,i=r.newProperties;"set_selection"===n&&(e=e.set("newProperties",d()(i,"isFocused"))),t.applyOperation(e)})),r=r.push(o),i=i.pop();var n=e.set("undos",i).set("redos",r);t.setData(n)}))}))},qt.withoutMerging=function(t,e){var r=t.tmp.merge;t.tmp.merge=!1,e(t),t.tmp.merge=r},qt.withoutSaving=function(t,e){var r=t.tmp.save;t.tmp.save=!1,e(t),t.tmp.save=r};var Ut={};function Wt(t,e){for(var r,n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a=(r=t.value.selection)[e].apply(r,i);t.select(a)}function Jt(t,e,r,n){var i=e.slice(0,1).toUpperCase()+e.slice(1),o=r.slice(0,1).toUpperCase()+r.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),s="move"+i+"To"+o+"OfNode",c="text"===n?"getNode":"getClosest"+a,l=t.value,u=l.document,h=l.selection[e],f=u[c](h.key);f&&t[s](f)}function Yt(t,e,r,n,i){var o=e.slice(0,1).toUpperCase()+e.slice(1),a=r.slice(0,1).toUpperCase()+r.slice(1),s=n.slice(0,1).toUpperCase()+n.slice(1),c=i.slice(0,1).toUpperCase()+i.slice(1),l="move"+o+"To"+a+"OfNode",u="text"===i?"getNode":"getClosest"+c,h="get"+s+c,f=t.value,p=f.document,d=f.selection[e],m=p[u](d.key);if(m){var y=p[h](m.key);y&&t[l](y)}}function $t(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==r){if(r<0)return Xt(t,e,-r);var n=e.slice(0,1).toUpperCase()+e.slice(1),i=t.value,o=i.document,a=i.selection,s=a[e],c=o.hasVoidParent(s.path,t);if(!c&&s.offset-r>=0){var l=a["move"+n+"Backward"](r);t.select(l)}else{var u=o.getPreviousText(s.path);if(u){var h=o.getClosestBlock(s.path),f=h.hasNode(u.key),p=u&&o.hasVoidParent(u.key,t);if(t["move"+n+"ToEndOfNode"](u),!c&&!p&&f){var d=t.value.selection["move"+n+"Backward"](r);t.select(d)}}}}}function Xt(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==r){if(r<0)return $t(t,e,-r);var n=e.slice(0,1).toUpperCase()+e.slice(1),i=t.value,o=i.document,a=i.selection,s=a[e],c=o.getNode(s.path),l=o.hasVoidParent(s.path,t);if(!l&&s.offset+r<=c.text.length){var u=a["move"+n+"Forward"](r);t.select(u)}else{var h=o.getNextText(s.path);if(h){var f=o.getClosestBlock(s.path),p=f.hasNode(h.key),d=o.hasVoidParent(h.key,t);if(t["move"+n+"ToStartOfNode"](h),!l&&!d&&p){var m=t.value.selection["move"+n+"Forward"](r);t.select(m)}}}}}function Zt(t,e){var r=t.value,n=r.document,i=r.selection[e],o=n.getClosestBlock(i.key),a=o.getOffset(i.key)+i.offset,s=o.text,c=Ft.getWordOffsetBackward(s,a);t.command($t,e,c>0?c:1)}function Qt(t,e){var r=t.value,n=r.document,i=r.selection[e],o=n.getClosestBlock(i.key),a=o.getOffset(i.key)+i.offset,s=o.text,c=Ft.getWordOffsetForward(s,a);t.command(Xt,e,c>0?c:1)}Ut.blur=function(t){t.select({isFocused:!1})},Ut.deselect=function(t){var e=Y.create();t.select(e)},Ut.ensureSelection=function(t){var e=t.value,r=e.selection,n=e.document;if(null==r.start||null==r.end||r.start.isUnset||r.end.isUnset){var i=n.getFirstText();if(null!=i){var o={offset:0,key:i.key,path:n.getPath(i.key)};t.select(Q.create({anchor:o,focus:o}))}}},Ut.focus=function(t){t.select({isFocused:!0})},Ut.flip=function(t){t.command(Wt,"flip")},Ut.moveAnchorBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[$t,"anchor"].concat(r))},Ut.moveAnchorWordBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Zt,"anchor"].concat(r))},Ut.moveAnchorForward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Xt,"anchor"].concat(r))},Ut.moveAnchorWordForward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Qt,"anchor"].concat(r))},Ut.moveAnchorTo=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveAnchorTo"].concat(r))},Ut.moveAnchorToEndOfBlock=function(t){t.command(Jt,"anchor","end","block")},Ut.moveAnchorToEndOfInline=function(t){t.command(Jt,"anchor","end","inline")},Ut.moveAnchorToEndOfDocument=function(t){t.moveAnchorToEndOfNode(t.value.document).moveToAnchor()},Ut.moveAnchorToEndOfNextBlock=function(t){t.command(Yt,"anchor","end","next","block")},Ut.moveAnchorToEndOfNextInline=function(t){t.command(Yt,"anchor","end","next","inline")},Ut.moveAnchorToEndOfNextText=function(t){t.command(Yt,"anchor","end","next","text")},Ut.moveAnchorToEndOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveAnchorToEndOfNode"].concat(r))},Ut.moveAnchorToEndOfPreviousBlock=function(t){t.command(Yt,"anchor","end","previous","block")},Ut.moveAnchorToEndOfPreviousInline=function(t){t.command(Yt,"anchor","end","previous","inline")},Ut.moveAnchorToEndOfPreviousText=function(t){t.command(Yt,"anchor","end","previous","text")},Ut.moveAnchorToEndOfText=function(t){t.command(Jt,"anchor","end","text")},Ut.moveAnchorToStartOfBlock=function(t){t.command(Jt,"anchor","start","block")},Ut.moveAnchorToStartOfDocument=function(t){t.moveAnchorToStartOfNode(t.value.document).moveToAnchor()},Ut.moveAnchorToStartOfInline=function(t){t.command(Jt,"anchor","start","inline")},Ut.moveAnchorToStartOfNextBlock=function(t){t.command(Yt,"anchor","start","next","block")},Ut.moveAnchorToStartOfNextInline=function(t){t.command(Yt,"anchor","start","next","inline")},Ut.moveAnchorToStartOfNextText=function(t){t.command(Yt,"anchor","start","next","text")},Ut.moveAnchorToStartOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveAnchorToStartOfNode"].concat(r))},Ut.moveAnchorToStartOfPreviousBlock=function(t){t.command(Yt,"anchor","start","previous","block")},Ut.moveAnchorToStartOfPreviousInline=function(t){t.command(Yt,"anchor","start","previous","inline")},Ut.moveAnchorToStartOfPreviousText=function(t){t.command(Yt,"anchor","start","previous","text")},Ut.moveAnchorToStartOfText=function(t){t.command(Jt,"anchor","start","text")},Ut.moveBackward=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0!==e){var r=t.value,n=r.document,i=r.selection,o=i.start,a=n.getClosestBlock(o.key),s=a.getOffset(o.key),c=s+o.offset,l=a.text,u=Ft.getCharOffsetBackward(l,c,e);t.moveAnchorBackward(u).moveFocusBackward(u)}},Ut.moveWordBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.moveFocusWordBackward.apply(t,r).moveToFocus()},Ut.moveEndBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[$t,"end"].concat(r))},Ut.moveEndWordBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Zt,"end"].concat(r))},Ut.moveEndForward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Xt,"end"].concat(r))},Ut.moveEndWordForward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Qt,"end"].concat(r))},Ut.moveEndTo=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveEndTo"].concat(r))},Ut.moveEndToEndOfBlock=function(t){t.command(Jt,"end","end","block")},Ut.moveEndToEndOfDocument=function(t){t.moveEndToEndOfNode(t.value.document).moveToEnd()},Ut.moveEndToEndOfInline=function(t){t.command(Jt,"end","end","inline")},Ut.moveEndToEndOfNextBlock=function(t){t.command(Yt,"end","end","next","block")},Ut.moveEndToEndOfNextInline=function(t){t.command(Yt,"end","end","next","inline")},Ut.moveEndToEndOfNextText=function(t){t.command(Yt,"end","end","next","text")},Ut.moveEndToEndOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveEndToEndOfNode"].concat(r))},Ut.moveEndToEndOfPreviousBlock=function(t){t.command(Yt,"end","end","previous","block")},Ut.moveEndToEndOfPreviousInline=function(t){t.command(Yt,"end","end","previous","inline")},Ut.moveEndToEndOfPreviousText=function(t){t.command(Yt,"end","end","previous","text")},Ut.moveEndToEndOfText=function(t){t.command(Jt,"end","end","text")},Ut.moveEndToStartOfBlock=function(t){t.command(Jt,"end","start","block")},Ut.moveEndToStartOfDocument=function(t){t.moveEndToStartOfNode(t.value.document).moveToEnd()},Ut.moveEndToStartOfInline=function(t){t.command(Jt,"end","start","inline")},Ut.moveEndToStartOfNextBlock=function(t){t.command(Yt,"end","start","next","block")},Ut.moveEndToStartOfNextInline=function(t){t.command(Yt,"end","start","next","inline")},Ut.moveEndToStartOfNextText=function(t){t.command(Yt,"end","start","next","text")},Ut.moveEndToStartOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveEndToStartOfNode"].concat(r))},Ut.moveEndToStartOfPreviousBlock=function(t){t.command(Yt,"end","start","previous","block")},Ut.moveEndToStartOfPreviousInline=function(t){t.command(Yt,"end","start","previous","inline")},Ut.moveEndToStartOfPreviousText=function(t){t.command(Yt,"end","start","previous","text")},Ut.moveEndToStartOfText=function(t){t.command(Jt,"end","start","text")},Ut.moveFocusBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[$t,"focus"].concat(r))},Ut.moveFocusWordBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Zt,"focus"].concat(r))},Ut.moveFocusForward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Xt,"focus"].concat(r))},Ut.moveFocusWordForward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Qt,"focus"].concat(r))},Ut.moveFocusTo=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveFocusTo"].concat(r))},Ut.moveFocusToEndOfBlock=function(t){t.command(Jt,"focus","end","block")},Ut.moveFocusToEndOfDocument=function(t){t.moveFocusToEndOfNode(t.value.document).moveToFocus()},Ut.moveFocusToEndOfInline=function(t){t.command(Jt,"focus","end","inline")},Ut.moveFocusToEndOfNextBlock=function(t){t.command(Yt,"focus","end","next","block")},Ut.moveFocusToEndOfNextInline=function(t){t.command(Yt,"focus","end","next","inline")},Ut.moveFocusToEndOfNextText=function(t){t.command(Yt,"focus","end","next","text")},Ut.moveFocusToEndOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveFocusToEndOfNode"].concat(r))},Ut.moveFocusToEndOfPreviousBlock=function(t){t.command(Yt,"focus","end","previous","block")},Ut.moveFocusToEndOfPreviousInline=function(t){t.command(Yt,"focus","end","previous","inline")},Ut.moveFocusToEndOfPreviousText=function(t){t.command(Yt,"focus","end","previous","text")},Ut.moveFocusToEndOfText=function(t){t.command(Jt,"focus","end","text")},Ut.moveFocusToStartOfBlock=function(t){t.command(Jt,"focus","start","block")},Ut.moveFocusToStartOfDocument=function(t){t.moveFocusToStartOfNode(t.value.document).moveToFocus()},Ut.moveFocusToStartOfInline=function(t){t.command(Jt,"focus","start","inline")},Ut.moveFocusToStartOfNextBlock=function(t){t.command(Yt,"focus","start","next","block")},Ut.moveFocusToStartOfNextInline=function(t){t.command(Yt,"focus","start","next","inline")},Ut.moveFocusToStartOfNextText=function(t){t.command(Yt,"focus","start","next","text")},Ut.moveFocusToStartOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveFocusToStartOfNode"].concat(r))},Ut.moveFocusToStartOfPreviousBlock=function(t){t.command(Yt,"focus","start","previous","block")},Ut.moveFocusToStartOfPreviousInline=function(t){t.command(Yt,"focus","start","previous","inline")},Ut.moveFocusToStartOfPreviousText=function(t){t.command(Yt,"focus","start","previous","text")},Ut.moveFocusToStartOfText=function(t){t.command(Jt,"focus","start","text")},Ut.moveForward=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0!==e){var r=t.value,n=r.document,i=r.selection,o=i.start,a=n.getClosestBlock(o.path),s=a.getOffset(o.key),c=s+o.offset,l=a.text,u=Ft.getCharOffsetForward(l,c,e);t.moveAnchorForward(u).moveFocusForward(u)}},Ut.moveWordForward=function(t){for(var e,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e=t.moveFocusWordForward.apply(t,n)).moveToFocus.apply(e,n)},Ut.moveStartBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[$t,"start"].concat(r))},Ut.moveStartWordBackward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Zt,"start"].concat(r))},Ut.moveStartForward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Xt,"start"].concat(r))},Ut.moveStartWordForward=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Qt,"start"].concat(r))},Ut.moveStartTo=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveStartTo"].concat(r))},Ut.moveStartToEndOfBlock=function(t){t.command(Jt,"start","end","block")},Ut.moveStartToEndOfDocument=function(t){t.moveStartToEndOfNode(t.value.document).moveToStart()},Ut.moveStartToEndOfInline=function(t){t.command(Jt,"start","end","inline")},Ut.moveStartToEndOfNextBlock=function(t){t.command(Yt,"start","end","next","block")},Ut.moveStartToEndOfNextInline=function(t){t.command(Yt,"start","end","next","inline")},Ut.moveStartToEndOfNextText=function(t){t.command(Yt,"start","end","next","text")},Ut.moveStartToEndOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveStartToEndOfNode"].concat(r))},Ut.moveStartToEndOfPreviousBlock=function(t){t.command(Yt,"start","end","previous","block")},Ut.moveStartToEndOfPreviousInline=function(t){t.command(Yt,"start","end","previous","inline")},Ut.moveStartToEndOfPreviousText=function(t){t.command(Yt,"start","end","previous","text")},Ut.moveStartToEndOfText=function(t){t.command(Jt,"start","end","text")},Ut.moveStartToStartOfBlock=function(t){t.command(Jt,"start","start","block")},Ut.moveStartToStartOfDocument=function(t){t.moveStartToStartOfNode(t.value.document).moveToStart()},Ut.moveStartToStartOfInline=function(t){t.command(Jt,"start","start","inline")},Ut.moveStartToStartOfNextBlock=function(t){t.command(Yt,"start","start","next","block")},Ut.moveStartToStartOfNextInline=function(t){t.command(Yt,"start","start","next","inline")},Ut.moveStartToStartOfNextText=function(t){t.command(Yt,"start","start","next","text")},Ut.moveStartToStartOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveStartToStartOfNode"].concat(r))},Ut.moveStartToStartOfPreviousBlock=function(t){t.command(Yt,"start","start","previous","block")},Ut.moveStartToStartOfPreviousInline=function(t){t.command(Yt,"start","start","previous","inline")},Ut.moveStartToStartOfPreviousText=function(t){t.command(Yt,"start","start","previous","text")},Ut.moveStartToStartOfText=function(t){t.command(Jt,"start","start","text")},Ut.moveTo=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveTo"].concat(r))},Ut.moveToAnchor=function(t){t.command(Wt,"moveToAnchor")},Ut.moveToEnd=function(t){t.command(Wt,"moveToEnd")},Ut.moveToEndOfBlock=function(t){t.moveEndToEndOfBlock().moveToEnd()},Ut.moveToEndOfDocument=function(t){t.moveEndToEndOfNode(t.value.document).moveToEnd()},Ut.moveToEndOfInline=function(t){t.moveEndToEndOfInline().moveToEnd()},Ut.moveToEndOfNextBlock=function(t){t.moveEndToEndOfNextBlock().moveToEnd()},Ut.moveToEndOfNextInline=function(t){t.moveEndToEndOfNextInline().moveToEnd()},Ut.moveToEndOfNextText=function(t){t.moveEndToEndOfNextText().moveToEnd()},Ut.moveToEndOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveToEndOfNode"].concat(r))},Ut.moveToEndOfPreviousBlock=function(t){t.moveStartToEndOfPreviousBlock().moveToStart()},Ut.moveToEndOfPreviousInline=function(t){t.moveStartToEndOfPreviousInline().moveToStart()},Ut.moveToEndOfPreviousText=function(t){t.moveStartToEndOfPreviousText().moveToStart()},Ut.moveToEndOfText=function(t){t.moveEndToEndOfText().moveToEnd()},Ut.moveToFocus=function(t){t.command(Wt,"moveToFocus")},Ut.moveToRangeOfDocument=function(t){t.moveToRangeOfNode(t.value.document)},Ut.moveToRangeOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveToRangeOfNode"].concat(r))},Ut.moveToStart=function(t){t.command(Wt,"moveToStart")},Ut.moveToStartOfBlock=function(t){t.moveStartToStartOfBlock().moveToStart()},Ut.moveToStartOfDocument=function(t){t.moveStartToStartOfNode(t.value.document).moveToStart()},Ut.moveToStartOfInline=function(t){t.moveStartToStartOfInline().moveToStart()},Ut.moveToStartOfNextBlock=function(t){t.moveEndToStartOfNextBlock().moveToEnd()},Ut.moveToStartOfNextInline=function(t){t.moveEndToStartOfNextInline().moveToEnd()},Ut.moveToStartOfNextText=function(t){t.moveEndToStartOfNextText().moveToEnd()},Ut.moveToStartOfNode=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"moveToStartOfNode"].concat(r))},Ut.moveToStartOfPreviousBlock=function(t){t.moveStartToStartOfPreviousBlock().moveToStart()},Ut.moveToStartOfPreviousInline=function(t){t.moveStartToStartOfPreviousInline().moveToStart()},Ut.moveToStartOfPreviousText=function(t){t.moveStartToStartOfPreviousText().moveToStart()},Ut.moveToStartOfText=function(t){t.moveStartToStartOfText().moveToStart()},Ut.select=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=Y.createProperties(e);var i=r.snapshot,o=void 0!==i&&i,a=t.value,s=a.document,c=a.selection,l={},u=c.setProperties(e);for(var h in u=s.resolveSelection(u),e=f()(u,Object.keys(e)))!0!==o&&Object(n.is)(e[h],c[h])||(l[h]=e[h]);if(c.marks&&!l.marks&&(l.anchor||l.focus)&&(l.marks=null),0!==Object.keys(l).length){var p=f()(c.toJSON(),Object.keys(l));t.applyOperation({type:"set_selection",value:a,properties:p,newProperties:l},o?{skip:!1,merge:!1}:{})}},Ut.setAnchor=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"setAnchor"].concat(r))},Ut.setEnd=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"setEnd"].concat(r))},Ut.setFocus=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"setFocus"].concat(r))},Ut.setStart=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.command.apply(t,[Wt,"setStart"].concat(r))},Ut.snapshotSelection=function(t){t.withoutMerging((function(){t.select(t.value.selection,{snapshot:!0})}))};var te={};function ee(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function e(e,r){for(var n in t)e.registerQuery(n);return r()}function r(e,r,n){var i=e.type,o=e.args,a=t[i];if(!a)return n();var s=a.apply(void 0,[r].concat(D(o)));return void 0===s?n():s}return{onConstruct:e,onQuery:r}}te.setData=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.value,n=ft.createProperties({data:e}),i=f()(r,Object.keys(n));t.applyOperation({type:"set_value",properties:i,newProperties:n})},te.addAnnotation=function(t,e){e=et.create(e),t.applyOperation({type:"add_annotation",annotation:e})},te.removeAnnotation=function(t,e){e=et.create(e),t.applyOperation({type:"remove_annotation",annotation:e})},te.setAnnotation=function(t,e,r){e=et.create(e),r=et.createProperties(r),t.applyOperation({type:"set_annotation",properties:e,newProperties:r})},te.setAnnotations=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.value,n=ft.createProperties({annotations:e}),i=f()(r,Object.keys(n));t.applyOperation({type:"set_value",properties:i,newProperties:n})};var re=function(t){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(this,e);var n=T(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));for(var i in n.code=t,r)n[i]=r[i];return Error.captureStackTrace?Error.captureStackTrace(n,n.constructor):n.stack=(new Error).stack,n}return A(e,t),e}(Error);function ne(t){var e=t.rules,r=t.document,n=t.blocks,i=t.inlines,o=t.marks,a=t.annotations,s=t.decorations,c=[];if(e&&(c=c.concat(e)),r&&c.push(E({match:[{object:"document"}]},r)),n)for(var l in n)c.push(E({match:[{object:"block",type:l}]},n[l]));if(i)for(var u in i)c.push(E({match:[{object:"inline",type:u}]},i[u]));if(o)for(var h in o)c.push(E({match:[{object:"mark",type:h}]},o[h]));if(a)for(var f in a)c.push(E({match:[{object:"annotation",type:f}]},a[f]));if(s)for(var p in s)c.push(E({match:[{object:"decoration",type:p}]},s[p]));function d(t,e,r){var n=c.filter((function(e){return ie(t,e.match)})),i=oe(t,n,c,{every:!0});return i?new re(i.code,i):r()}return[{normalizeNode:function(t,e,r){var n=d(t,e,(function(){}));return n?function(){var t=n.rule,r=e.operations.size;t.normalize&&t.normalize(e,n),e.operations.size===r&&function(t,e){var r=e.code,n=e.node,i=e.child,o=e.next,a=e.previous,s=e.key,c=e.mark;switch(r){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===i.object&&"block"===n.object&&1===n.nodes.size?t.removeNodeByKey(n.key):t.removeNodeByKey(i.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===a.object&&"block"===n.object&&1===n.nodes.size?t.removeNodeByKey(n.key):t.removeNodeByKey(a.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===o.object&&"block"===n.object&&1===n.nodes.size?t.removeNodeByKey(n.key):t.removeNodeByKey(o.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===n.object?n.nodes.forEach((function(e){return t.removeNodeByKey(e.key)})):t.removeNodeByKey(n.key);case"node_data_invalid":return void 0===n.data.get(s)&&"document"!==n.object?t.removeNodeByKey(n.key):t.setNodeByKey(n.key,{data:n.data.delete(s)});case"node_mark_invalid":return n.getTexts().forEach((function(e){return t.removeMarkByKey(e.key,0,e.text.length,c)}));default:t.removeNodeByKey(n.key)}}(e,n)}:r()},validateNode:d},ee({isAtomic:function(t,e){var r=c.find((function(t){return"isAtomic"in t&&ie(e,t.match)}));return r&&r.isAtomic},isVoid:function(t,e){var r=c.find((function(t){return"isVoid"in t&&ie(e,t.match)}));return r&&r.isVoid}})]}function ie(t,e){return!oe(t,e)}function oe(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.every,o=void 0!==i&&i,a=n.match,s=void 0===a?null:a;if("function"==typeof e){var c=e(t,s);return c?null:ve("node_invalid",{rule:e,node:t})}if(Array.isArray(e)){var l=e.length?e:[{}],u=void 0,h=!0,f=!1,p=void 0;try{for(var d,m=l[Symbol.iterator]();!(h=(d=m.next()).done);h=!0){var y=d.value,v=oe(t,y,r);if(u=u||v,o&&v)return v;if(!o&&!v)return}}catch(t){f=!0,p=t}finally{try{!h&&m.return&&m.return()}finally{if(f)throw p}}return u}var g=ae(t,e)||se(t,e)||ce(t,e)||le(t,e)||ue(t,e)||he(t,e)||fe(t,e)||pe(t,e,r);return g}function ae(t,e){if(null!=e.object&&e.object!==t.object&&("function"!=typeof e.object||!e.object(t.object)))return ve("node_object_invalid",{rule:e,node:t})}function se(t,e){if(null!=e.type&&e.type!==t.type&&("function"!=typeof e.type||!e.type(t.type)))return ve("node_type_invalid",{rule:e,node:t})}function ce(t,e){if(null!=e.data&&null!=t.data){if("function"==typeof e.data){if(e.data(t.data))return;return ve("node_data_invalid",{rule:e,node:t})}for(var r in e.data){var n=e.data[r],i=t.data&&t.data.get(r);if(!("function"==typeof n?n(i):n===i))return ve("node_data_invalid",{rule:e,node:t,key:r,value:i})}}}function le(t,e){if(null!=e.marks){var r="text"===t.object?t.marks.toArray():t.getMarks().toArray(),n=function(r){return e.marks.some((function(t){return"function"==typeof t.type?t.type(r.type):t.type===r.type}))?"continue":{v:ve("node_mark_invalid",{rule:e,node:t,mark:r})}},i=!0,o=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=n(s.value);switch(l){case"continue":continue;default:if("object"===(void 0===l?"undefined":_(l)))return l.v}}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}}function ue(t,e){if(null!=e.text){var r=t.text;if(!("function"==typeof e.text?e.text(r):e.text.test(r)))return ve("node_text_invalid",{rule:e,node:t,text:r})}}function he(t,e){if(null!=e.first){var r=t.nodes.first();if(r){var n=oe(r,e.first);if(n)return n.rule=e,n.node=t,n.child=r,n.code=n.code.replace("node_","first_child_"),n}}}function fe(t,e){if(null!=e.last){var r=t.nodes.last();if(r){var n=oe(r,e.last);if(n)return n.rule=e,n.node=t,n.child=r,n.code=n.code.replace("node_","last_child_"),n}}}function pe(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null!=t.nodes){var n=t.nodes,i=null!=e.nodes?e.nodes.slice():[],o=0,a=0,s=null,c=-1,l=null,u=null,h=null,f=null,p=null;for(null!=e.nodes&&v();g();){var d=de(t,h,r)||me(t,h,f,c,r)||ye(t,h,p,c,r);if(d)return d;if(null!=e.nodes){if(!l)return ve("child_unknown",{rule:e,node:t,child:h,index:c});if(l.match){var m=oe(h,l.match);if(m){if(null!=u&&o-1>u)return b(),ve("child_max_invalid",{rule:e,node:t,index:c,child:n.get(c),count:o,limit:u});var y=s;if(v()){if(a-1>=y){c-=1;continue}return null==oe(h,l.match)?(b(),ve("child_min_invalid",{rule:e,node:t,index:c,count:a-1,limit:y})):(m.rule=e,m.node=t,m.child=h,m.index=c,m.code=m.code.replace("node_","child_"),m)}return null!=u&&o>u?ve("child_unknown",{rule:e,node:t,child:h,index:c}):(m.rule=e,m.node=t,m.child=h,m.index=c,m.code=m.code.replace("node_","child_"),m)}}}}if(null!=u&&o>u)return ve("child_max_invalid",{rule:e,node:t,index:c-1,count:o,child:n.get(c-1),limit:u});if(null!=e.nodes)do{if(o<s)return ve("child_min_invalid",{rule:e,node:t,index:c,count:o,limit:s})}while(v())}function v(){return 0!==i.length&&(l=i.shift(),a=o,o=0,s=l.min||null,u=l.max||null,!0)}function g(){return f=(c+=1)?n.get(c-1):null,h=n.get(c),p=n.get(c+1),!!h&&(a=o,o+=1,!0)}function b(){c>0&&(c-=1,o=a)}}function de(t,e,r){var n=!0,i=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(null!=c.parent&&ie(e,c.match)){var l=oe(t,c.parent);if(l)return l.rule=c,l.parent=t,l.node=e,l.code=l.code.replace("node_","parent_"),l}}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}function me(t,e,r,n,i){if(r){var o=!0,a=!1,s=void 0;try{for(var c,l=i[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value;if(null!=u.previous&&ie(e,u.match)){var h=oe(r,u.previous);if(h)return h.rule=u,h.node=t,h.child=e,h.index=n,h.previous=r,h.code=h.code.replace("node_","previous_sibling_"),h}}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}}}function ye(t,e,r,n,i){if(r){var o=!0,a=!1,s=void 0;try{for(var c,l=i[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value;if(null!=u.next&&ie(e,u.match)){var h=oe(r,u.next,[],{match:e});if(h)return h.rule=u,h.node=t,h.child=e,h.index=n,h.next=r,h.code=h.code.replace("node_","next_sibling_"),h}}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}}}function ve(t,e){return E({code:t},e)}function ge(t){t.value.selection.isExpanded&&t.delete()}var be={};function ke(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.plugins,r=void 0===e?[]:e,n=xt(E({},It,Lt,qt,Ut,te,be)),i=ee({isAtomic:function(){return!1},isVoid:function(){return!1}}),o=ne({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(t,e){var r=e.code,n=e.node;"child_min_invalid"===r&&n.nodes.isEmpty()&&t.insertNodeByKey(n.key,0,st.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(t,e){var r=e.code,n=e.node,i=st.create(),o=void 0;if("first_child_object_invalid"===r)o=0;else{if("last_child_object_invalid"!==r)return;o=n.nodes.size}t.insertNodeByKey(n.key,o,i)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(t,e){var r=e.code,n=e.node,i=e.index,o=st.create(),a=void 0;if("first_child_object_invalid"===r)a=0;else if("last_child_object_invalid"===r)a=n.nodes.size;else if("previous_sibling_object_invalid"===r)a=i;else{if("next_sibling_object_invalid"!==r)return;a=i+1}t.insertNodeByKey(n.key,a,o)}},{match:{object:"text"},next:function(t,e){return"text"!==t.object||!e.marks.equals(t.marks)},normalize:function(t,e){var r=e.code,n=e.next;"next_sibling_invalid"===r&&t.mergeNodeByKey(n.key)}},{match:{object:"text"},previous:function(t){return"text"!==t.object||""!==t.text},next:function(t){return"text"!==t.object||""!==t.text},normalize:function(t,e){var r=e.code,n=e.next,i=e.previous;"next_sibling_invalid"===r?t.removeNodeByKey(n.key):"previous_sibling_invalid"===r&&t.removeNodeByKey(i.key)}}]});return[o].concat(D(r),[n,i])}be.addMark=function(t,e){e=q.create(e);var r=t.value,n=r.document,i=r.selection;if(i.isExpanded)t.addMarkAtRange(i,e);else if(i.marks){var o=i.marks.add(e),a=i.set("marks",o);t.select(a)}else{var s=n.getActiveMarksAtRange(i).add(e),c=i.set("marks",s);t.select(c)}},be.addMarks=function(t,e){e.forEach((function(e){return t.addMark(e)}))},be.delete=function(t){var e=t.value.selection;t.deleteAtRange(e),t.moveToFocus()},be.deleteBackward=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.value,n=r.selection;n.isExpanded?t.delete():t.deleteBackwardAtRange(n,e)},be.deleteCharBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteCharBackwardAtRange(e)},be.deleteLineBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteLineBackwardAtRange(e)},be.deleteWordBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteWordBackwardAtRange(e)},be.deleteForward=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.value,n=r.selection;n.isExpanded?t.delete():t.deleteForwardAtRange(n,e)},be.deleteCharForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteCharForwardAtRange(e)},be.deleteLineForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteLineForwardAtRange(e)},be.deleteWordForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteWordForwardAtRange(e)},be.insertBlock=function(t,e){ge(t),e=ut.create(e);var r=t.value.selection;t.insertBlockAtRange(r,e);var n=t.value.document.getNode(e.key);n&&t.moveToEndOfNode(n)},be.insertFragment=function(t,e){if(e.nodes.size){ge(t);var r=t.value,n=r,i=n.document,o=n.selection,a=o.start,s=Array.from(i.texts(),(function(t){return P(t,1)[0].key}));t.insertFragmentAtRange(o,e);var c=(i=(r=t.value).document).getTexts().filter((function(t){return!s.includes(t.key)}));if(0!==c.size){var l=e.text.length,u=i.getNode(a.key)||c.first(),h=c.last()||u;u!==h||t.moveTo(h.key,l)}}},be.insertInline=function(t,e){ge(t),e=ot.create(e);var r=t.value.selection;t.insertInlineAtRange(r,e);var n=t.value.document.getNode(e.key);n&&t.moveToEndOfNode(n)},be.insertText=function(t,e,r){ge(t);var n=t.value,i=n.document,o=n.selection;r=r||o.marks||i.getInsertMarksAtRange(o),t.withoutNormalizing((function(){t.insertTextAtRange(o,e,r),o.marks&&i!==t.value.document&&t.select({marks:null})}))},be.removeMark=function(t,e){e=q.create(e);var r=t.value,n=r.document,i=r.selection;if(i.isExpanded)t.removeMarkAtRange(i,e);else if(i.marks){var o=i.marks.remove(e),a=i.set("marks",o);t.select(a)}else{var s=n.getActiveMarksAtRange(i).remove(e),c=i.set("marks",s);t.select(c)}},be.replaceMark=function(t,e,r){t.removeMark(e),t.addMark(r)},be.setBlocks=function(t,e){var r=t.value.selection;t.setBlocksAtRange(r,e)},be.setInlines=function(t,e){var r=t.value.selection;t.setInlinesAtRange(r,e)},be.splitBlock=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ge(t);var r=t.value,n=r.selection,i=r.document,o=n.marks||i.getInsertMarksAtRange(n);t.splitBlockAtRange(n,e).moveToEnd(),o&&0!==o.size&&t.select({marks:o})},be.splitInline=function(t,e){ge(t);var r=t.value.selection;t.splitInlineAtRange(r,e)},be.toggleMark=function(t,e){e=q.create(e),t.value.activeMarks.has(e)?t.removeMark(e):t.addMark(e)},be.unwrapBlock=function(t,e){var r=t.value.selection;t.unwrapBlockAtRange(r,e)},be.unwrapInline=function(t,e){var r=t.value.selection;t.unwrapInlineAtRange(r,e)},be.wrapBlock=function(t,e){var r=t.value.selection;t.wrapBlockAtRange(r,e)},be.wrapInline=function(t,e){var r=t.value.selection;t.wrapInlineAtRange(r,e)},be.wrapText=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=t.value,i=n.selection;t.wrapTextAtRange(i,e,r),i.isCollapsed&&t.moveStartBackward(e.length),t.moveEndBackward(r.length),i.isForward!==t.value.selection.isForward&&t.flip()};var _e=l()("slate:editor"),xe=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(this,t);var i=r.controller,o=void 0===i?this:i,a=r.construct,s=void 0===a||a,c=e.onChange,l=void 0===c?function(){}:c,u=e.plugins,h=void 0===u?[]:u,f=e.readOnly,p=void 0!==f&&f,d=e.value,m=void 0===d?ft.create():d;this.controller=o,this.middleware={},this.onChange=l,this.operations=Object(n.List)(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0};var y=ke({plugins:h});Ee(this,y),s&&(this.run("onConstruct"),this.setReadOnly(p),this.setValue(m,r))}return S(t,[{key:"applyOperation",value:function(t){var e=this,r=this.operations,n=this.controller,i=this.value;o()(t)&&(t=E({},t,{value:i})),t=bt.create(t),this.withoutNormalizing((function(){n.save(t),i=e.value})),_e("apply",{operation:t}),this.value=t.apply(i),this.operations=r.push(t);var a=function(t){var e=t.type,r=t.node,n=t.path,i=t.newPath;switch(e){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var o=z.getAncestors(n).toArray();return[].concat(D(o),[n]);case"insert_node":var a=r.getKeysToPathsTable(),s=Object.values(a).map((function(t){return n.concat(t)})),c=z.getAncestors(n).toArray();return[].concat(D(c),[n],D(s));case"split_node":var l=z.getAncestors(n).toArray(),u=z.increment(n);return[].concat(D(l),[n,u]);case"merge_node":var h=z.getAncestors(n).toArray(),f=z.decrement(n);return[].concat(D(h),[f]);case"move_node":if(z.isEqual(n,i))return[];var p=z.getAncestors(n).reduce((function(e,r){return e.push.apply(e,D(z.transform(r,t).toArray())),e}),[]),d=z.getAncestors(i).reduce((function(e,r){return e.push.apply(e,D(z.transform(r,t).toArray())),e}),[]);return[].concat(D(p),D(d));case"remove_node":var m=z.getAncestors(n).toArray();return[].concat(D(m));default:return[]}}(t),s=this.tmp.dirty.map((function(e){return e=z.create(e),z.transform(e,t).toArray()})),c={},l=Array.prototype.concat.apply(a,s);return this.tmp.dirty=[],l.forEach((function(t){var r=t.join(",");c[r]||e.tmp.dirty.push(t),c[r]=!0})),this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then((function(){return e.flush()}))),n}},{key:"fastInsertText",value:function(t,e,r,n){var i=this;return this.value=this.value.insertText(t,e,r,n),this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then((function(){return i.flush()}))),this.controller}},{key:"flush",value:function(){this.run("onChange");var t=this.value,e=this.operations,r=this.controller,i={value:t,operations:e};return this.operations=Object(n.List)(),this.tmp.flushing=!1,this.onChange(i),r}},{key:"command",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=this.controller;if("function"==typeof t)return t.apply(void 0,[i].concat(r)),Se(this),i;_e("command",{type:t,args:r});var o={type:t,args:r};return this.run("onCommand",o),Se(this),i}},{key:"hasCommand",value:function(t){var e=this.controller;return t in e&&e[t].__command}},{key:"hasQuery",value:function(t){var e=this.controller;return t in e&&e[t].__query}},{key:"normalize",value:function(){var t=this.value,e=this.controller,r=t.document,n=r.getKeysToPathsTable(),i=Object.values(n).map(z.create);this.tmp.dirty=this.tmp.dirty.concat(i),Se(this);var o=t.selection;return r=t.document,o.isUnset&&r.nodes.size&&e.moveToStartOfDocument(),e}},{key:"query",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=this.controller;if("function"==typeof t)return t.apply(void 0,[i].concat(r));_e("query",{type:t,args:r});var o={type:t,args:r};return this.run("onQuery",o)}},{key:"registerCommand",value:function(t){var e=this,r=this.controller;if(t in r&&r[t].__command)return r;Object(s.default)(!(t in r),"You cannot register a `"+t+"` command because it would overwrite an existing property of the `Editor`.");var n=function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.command.apply(e,[t].concat(n))};return r[t]=n,n.__command=!0,r}},{key:"registerQuery",value:function(t){var e=this,r=this.controller;if(t in r&&r[t].__query)return r;Object(s.default)(!(t in r),"You cannot register a `"+t+"` query because it would overwrite an existing property of the `Editor`.");var n=function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.query.apply(e,[t].concat(n))};return r[t]=n,n.__query=!0,r}},{key:"run",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=this.controller,o=this.middleware,a=o[t]||[],c=0;function l(){var t=a[c++];if(t){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];n.length&&(r=n);var s=t.apply(void 0,D(r).concat([i,l]));return s}}return Object.defineProperty(l,"change",{get:function(){Object(s.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"onChange",{get:function(){Object(s.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"props",{get:function(){Object(s.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"schema",{get:function(){Object(s.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(l,"stack",{get:function(){Object(s.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),l()}},{key:"setReadOnly",value:function(t){return this.readOnly=t,this}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.normalize,n=void 0===r?t!==this.value:r;return this.value=t,n&&this.normalize(),this}},{key:"withoutNormalizing",value:function(t){var e=this.controller,r=this.tmp.normalize;return this.tmp.normalize=!1,t(e),this.tmp.normalize=r,Se(this),e}},{key:"change",value:function(t){Object(a.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];t.apply(void 0,[this.controller].concat(r))}},{key:"call",value:function(t){Object(a.a)(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.apply(void 0,[this.controller].concat(r)),this.controller}},{key:"applyOperations",value:function(t){var e=this;return Object(a.a)(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),t.forEach((function(t){return e.applyOperation(t)})),this.controller}},{key:"setOperationFlag",value:function(t,e){return Object(a.a)(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[t]=e,this}},{key:"getFlag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),void 0!==e[t]?e[t]:this.tmp[t]}},{key:"unsetOperationFlag",value:function(t){return Object(a.a)(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[t],this}},{key:"withoutNormalization",value:function(t){return Object(a.a)(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(t)}},{key:"editor",get:function(){return Object(a.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),t}();function Se(t){t.tmp.normalize&&t.tmp.dirty.length&&t.withoutNormalizing((function(){for(;t.tmp.dirty.length;){var e=t.tmp.dirty.pop();we(t,e)}}))}function we(t,e){for(var r=t.controller,n=t.value,i=n.document,o=i.assertNode(e),a=0,s=100+("text"===o.object?1:o.nodes.size);o;){var c=o.normalize(r);if(!c)break;c(r),i=(n=t.value).document;var l=o.key,u=i.getDescendant(e);if(u&&u.key===l)o=u;else{if(!(u=i.getDescendant(l)))break;o=u,e=i.getPath(l)}if(++a>s)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function Ee(t,e){if(Array.isArray(e))e.forEach((function(e){return Ee(t,e)}));else if(null!=e){var r=e.commands,n=e.queries,i=e.schema,o=C(e,["commands","queries","schema"]);if(r){var a=xt(r);Ee(t,a)}if(n){var s=ee(n);Ee(t,s)}if(i){var c=ne(i);Ee(t,c)}for(var l in o){var u=o[l];(t.middleware[l]=t.middleware[l]||[]).push(u)}}}var Ae={marks:void 0,text:void 0},Ce=function(t){function e(){return x(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,t),S(e,[{key:"updateMark",value:function(t,e){var r=this.marks;if(e.equals(t))return this;if(!r.has(t))return this;var n=r.withMutations((function(r){r.remove(t).add(e)}));return this.set("marks",n)}},{key:"addMark",value:function(t){var e=this.marks;return this.set("marks",e.add(t))}},{key:"addMarks",value:function(t){var e=this.marks;return this.set("marks",e.union(t))}},{key:"insertText",value:function(t,e){var r=this.text,n=r.slice(0,t)+e+r.slice(t);return this.set("text",n)}},{key:"removeMark",value:function(t){var e=this.marks;return this.set("marks",e.remove(t))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map((function(t){return t.toJSON()}))}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(!1,"As of slate@0.47 the `Leaf` model is deprecated."),e.isLeaf(t))return t;if("string"==typeof t&&(t={text:t}),o()(t))return e.fromJSON(t);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+t)}},{key:"createLeaves",value:function(t){if(t.size<=1)return t;var e=!1,r=Object(n.List)().withMutations((function(r){t.findLast((function(t,n){var i=r.first();if(i){if(i.marks.equals(t.marks))return e=!0,void r.set(0,i.set("text",""+t.text+i.text));if(""===i.text)return e=!0,void r.set(0,t);if(""===t.text)return void(e=!0)}r.unshift(t)}))}));return e?r:t}},{key:"splitLeaves",value:function(t,e){if(e<0)return[Object(n.List)(),t];if(0===t.size)return[Object(n.List)(),Object(n.List)()];var r=0,i=-1,o=void 0,a=void 0;return t.find((function(t){i++;var n=r,s=t.text;if((r+=s.length)<e)return!1;if(n>e)return!1;var c=e-n;return o=t.set("text",s.slice(0,c)),a=t.set("text",s.slice(c)),!0})),o?""===o.text?0===i?[n.List.of(o),t]:[t.take(i),t.skip(i)]:""===a.text?i===t.size-1?[t,n.List.of(a)]:[t.take(i+1),t.skip(i+1)]:[t.take(i).push(o),t.skip(i+1).unshift(a)]:[t,Object(n.List)()]}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.List.isList(t)||Array.isArray(t)){var r=new n.List(t.map(e.create));return r}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var r=t.text,i=void 0===r?"":r,o=t.marks,a=void 0===o?[]:o;return new e({text:i,marks:Object(n.Set)(a.map(q.fromJSON))})}},{key:"isLeafList",value:function(t){return n.List.isList(t)&&t.every((function(t){return e.isLeaf(t)}))}}]),e}(Object(n.Record)(Ae));function Te(t,e){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value,c=!0,l=!1,u=void 0;try{for(var h,f=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value;if(!s.hasOwnProperty(p)){var d=Object.getOwnPropertyDescriptor(t,p);try{null==d?(console.log("Property descriptor was undefined for: "+p),s[p]=s[p]):Object.defineProperty(s,p,d)}catch(t){}}}}catch(t){l=!0,u=t}finally{try{!c&&f.return&&f.return()}finally{if(l)throw u}}var m=!0,y=!1,v=void 0;try{for(var g,b=Object.getOwnPropertyNames(t.prototype)[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var k=g.value;if(!s.prototype.hasOwnProperty(k)){d=Object.getOwnPropertyDescriptor(t.prototype,k);try{null==d?(console.log("Property prototype descriptor was undefined for: "+k),s.prototype[k]=t.prototype[k]):Object.defineProperty(s.prototype,k,d)}catch(t){}}}}catch(t){y=!0,v=t}finally{try{!m&&b.return&&b.return()}finally{if(y)throw v}}}}catch(t){n=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}}Object.entries({Annotation:et,Block:ut,Change:_t,Decoration:W,Document:nt,Editor:xe,Inline:ot,Leaf:Ce,Mark:q,Node:ct,Operation:bt,Point:V,Range:Q,Selection:Y,Text:st,Value:ft}).forEach((function(t){var e,r,n,i,o=P(t,2),a=o[0],s=o[1];return Te((e=a.toLowerCase(),r=$[e],n="is"+e.charAt(0).toUpperCase()+e.slice(1),(i=function(){function t(){x(this,t)}return S(t,[{key:"object",get:function(){return e}}]),t}())[n]=X.bind(null,e),i.prototype[r]=!0,i),[s])})),Te(function(){function t(){x(this,t)}return S(t,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),t}(),[et,ut,W,nt,ot,Ce,q,ct,bt,V,Q,Y,st,ft]);var Pe=!0,De=Symbol("LEAF"),Oe=Symbol("STORE_KEY"),Me=Symbol("undefined"),Fe=Symbol("null"),Be=new WeakMap;function Ie(t,e){var r=function(e){var r=t[e];if(!r)throw new Error('Object does not have a property named "'+e+'".');t[e]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!Pe)return r.apply(this,n);Be.has(this)||Be.set(this,{noArgs:{},hasArgs:{}});var o=Be.get(this),a=o.noArgs,s=o.hasArgs,c=0!==n.length,l=void 0,u=void 0;if(void 0!==(l=c?Ne(s,u=[e].concat(n)):a[e]))return l===Me?void 0:l;var h=r.apply(this,n),f=void 0===h?Me:h;return c?Re(s,u,f):a[e]=f,h}},n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){r(a.value)}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}function Ne(t,e){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;if(void 0===s?s=Me:null==s&&(s=Fe),void 0===(t="object"===(void 0===s?"undefined":_(s))?t[Oe]&&t[Oe].get(s):t[s]))return}}catch(t){n=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}return t[De]}function Re(t,e,r){var n=t,i=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(void 0===l?l=Me:null==l&&(l=Fe),"object"===(void 0===l?"undefined":_(l)))if(n[Oe]||(n[Oe]=new WeakMap),n[Oe].has(l))n=n[Oe].get(l);else{var u={};n[Oe].set(l,u),n=u}else n[l]||(n[l]={}),n=n[l]}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return n[De]=r,t}function Le(){Be=new WeakMap}function je(t){Pe=t}var ze=function(){function t(){x(this,t)}return S(t,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var t=null,e=this.nodes.find((function(e){return"text"===e.object||!!(t=e.getFirstText())}));return t||e}},{key:"getKeysToPathsTable",value:function(){var t=w({},this.key,[]);return this.nodes&&this.nodes.forEach((function(e,r){var n=e.getKeysToPathsTable();for(var i in n){var o=n[i];Object(a.a)(!(i in t),'A node with a duplicate key of "'+i+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),t[i]=[r].concat(D(o))}})),t}},{key:"getLastText",value:function(){if("text"===this.object)return this;var t=null,e=this.nodes.findLast((function(e){return"text"===e.object||(t=e.getLastText())}));return t||e}},{key:"getNode",value:function(t){return(t=this.resolvePath(t))?"text"===this.object&&t.size?null:t.size?this.getDescendant(t):this:null}},{key:"getPath",value:function(t){if(n.List.isList(t))return t;if(ct.isNode(t)&&this.descendants){var e=!0,r=!1,i=void 0;try{for(var o,a=this.descendants()[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value,c=P(s,2),l=c[0],u=c[1];if(t===l)return u}}catch(t){r=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw i}}}var h=this.getKeysToPathsTable()[t];return h?Object(n.List)(h):null}},{key:"getText",value:function(){return"text"===this.object?this.text:this.nodes.reduce((function(t,e){return t+e.text}),"")}},{key:"hasNode",value:function(t){return!!this.getNode(t)}},{key:"normalize",value:function(t){return t.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var t=k.create();return this.set("key",t)}},{key:"resolvePath",value:function(t,e){return"string"==typeof t?(t=this.getPath(t),null!=e&&(t=t.concat(e))):t=z.create(t),t}},{key:"validate",value:function(t){return t.run("validateNode",this)}}]),t}();Ie(ze.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),Te(ze,[ut,nt,ot,st]);var Ke=void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Ve(){return!0}var Ge=function(){function t(){x(this,t)}return S(t,[{key:"addMark",value:function(t,e){t=this.resolvePath(t);var r=this.assertDescendant(t);return r=r.addMark(e),this.replaceNode(t,r)}},{key:"ancestors",value:function(t){return this.createIterable({path:t,direction:null,downward:!1,includeTargetAncestors:!0,includeRoot:!0})}},{key:"blocks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onlyLeaves,r=t.onlyRoots,n=t.onlyTypes,i=t.match,o=C(t,["onlyLeaves","onlyRoots","onlyTypes","match"]),a=this.descendants(E({includeDocument:!1,includeInlines:!1,includeTexts:!1},o,{match:function(t,o){return!(n&&!n.includes(t.type))&&((!r||1===o.size)&&(!(e&&!t.isLeafBlock())&&!(i&&!i(t,o))))}}));return a}},{key:"createAnnotation",value:function(t){return t=et.createProperties(t),this.resolveAnnotation(t)}},{key:"createDecoration",value:function(t){return t=W.createProperties(t),this.resolveDecoration(t)}},{key:"createIterable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.direction,r=void 0===e?"forward":e,n=t.downward,i=void 0===n||n,o=t.upward,a=void 0===o||o,s=t.includeBlocks,c=void 0===s||s,l=t.includeDocument,u=void 0===l||l,h=t.includeInlines,f=void 0===h||h,p=t.includeRoot,d=void 0!==p&&p,m=t.includeTarget,y=void 0===m?!!t.range:m,v=t.includeTargetAncestors,g=void 0!==v&&v,b=t.includeTexts,k=void 0===b||b,_=t.match,x=void 0===_?null:_,S=this,E=null,A=null;t.range?(A=S.resolveRange(t.range),E=S.resolvePath(A.start.path)):t.path&&(E=S.resolvePath(t.path));var C=E&&S.assertNode(E),T="undefined"==typeof window?Ke.Set:window.Set;return w({},Symbol.iterator,(function(){var t=new T,e=A&&A.start.path,n=A&&A.end.path,o=E,s=C,l=!1,h=!1,p=!1,m=function(){return o&&s?(d||s!==S)&&(c||"block"!==s.object)&&(u||"document"!==s.object)&&(f||"inline"!==s.object)&&(k||"text"!==s.object)?x&&!x(s,o)?v():{value:[s,o],done:!1}:v():{done:!0}},v=function c(){if(!o||!s)return m();if(e&&!h)return p?o.size===e.size-1?(h=!0,o=E,s=C,c()):(o=e.slice(0,o.size+1),s=S.assertNode(o),m()):(p=!0,o=z.create([]),s=S,m());if(y&&!l)return l=!0,m();if(n&&o.equals(n))return s=null,o=null,c();if(i&&s.nodes&&s.nodes.size&&!t.has(s)){t.add(s);var u="forward"===r?0:s.nodes.size-1;return o=o.push(u),s=S.assertNode(o),m()}if("forward"===r){var f=z.increment(o),d=S.getNode(f);if(d)return o=f,s=d,m()}if("backward"===r&&0!==o.last()){var v=z.decrement(o),b=S.getNode(v);if(b)return o=v,s=b,m()}return a&&o.size?(o=z.lift(o),s=S.assertNode(o),t.has(s)?c():(t.add(s),g?m():c())):(o=null,s=null,c())};return{next:v}}))}},{key:"createPoint",value:function(t){return t=V.createProperties(t),this.resolvePoint(t)}},{key:"createRange",value:function(t){return t=Q.createProperties(t),this.resolveRange(t)}},{key:"createSelection",value:function(t){return t=Y.createProperties(t),this.resolveSelection(t)}},{key:"descendants",value:function(t){return this.createIterable(E({path:[]},t))}},{key:"filterDescendants",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,e=[],r=!0,i=!1,o=void 0;try{for(var a,s=this.descendants()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,l=P(c,2),u=l[0],h=l[1];t(u,h)&&e.push(u)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return Object(n.List)(e)}},{key:"findDescendant",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,e=!0,r=!1,n=void 0;try{for(var i,o=this.descendants()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=P(a,2),c=s[0],l=s[1];if(t(c,l))return c}}catch(t){r=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw n}}return null}},{key:"forEachDescendant",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,e=!0,r=!1,n=void 0;try{for(var i,o=this.descendants()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=t.apply(void 0,D(a));if(!1===s)return}}catch(t){r=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw n}}}},{key:"getActiveMarksAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return Object(n.Set)();if(t.isCollapsed){var e=t.start;return this.getInsertMarksAtPoint(e)}var r=t,i=r.start,o=r.end,a=i.path,s=i.offset,c=o.path,l=o.offset,u=this.getDescendant(a),h=this.getDescendant(c);if(!a.equals(c)){for(;!a.equals(c)&&0===l;){var f=this.texts({path:c,direction:"backward"}),p=P(f,1),d=P(p[0],2);h=d[0],c=d[1],l=h.text.length}for(;!a.equals(c)&&s===u.text.length;){var m=this.texts({path:a}),y=P(m,1),v=P(y[0],2);u=v[0],a=v[1],s=0}}if(a.equals(c))return u.marks;var g=u.marks;if(0===g.size)return Object(n.Set)();var b=h.marks,k=g.intersect(b);if(0===k.size)return k;var _=this.texts({path:a}),x=P(_,1),S=P(x[0],2);for(u=S[0],a=S[1];!a.equals(c);){if(0!==u.text.length&&0===(k=k.intersect(u.marks)).size)return Object(n.Set)();var w=this.texts({path:a}),E=P(w,1),A=P(E[0],2);u=A[0],a=A[1]}return k}},{key:"getAncestors",value:function(t){var e=this.ancestors(t),r=Array.from(e,(function(t){return P(t,1)[0]})).reverse();return Object(n.List)(r)}},{key:"getBlocks",value:function(){var t=this.blocks({onlyLeaves:!0}),e=Array.from(t,(function(t){return P(t,1)[0]}));return Object(n.List)(e)}},{key:"getBlocksByType",value:function(t){var e=this.blocks({onlyLeaves:!0,onlyTypes:[t]}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"getChild",value:function(t){return!(t=this.resolvePath(t))||t.size>1?null:this.nodes.get(t.first())}},{key:"getClosest",value:function(t,e){var r=!0,n=!1,i=void 0;try{for(var o,a=this.ancestors(t)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value,c=P(s,2),l=c[0];if(e(l,c[1]))return l}}catch(t){n=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}return null}},{key:"getClosestBlock",value:function(t){return this.getClosest(t,(function(t){return"block"===t.object}))}},{key:"getClosestInline",value:function(t){return this.getClosest(t,(function(t){return"inline"===t.object}))}},{key:"getClosestVoid",value:function(t,e){return Object(s.default)(!ft.isValue(e),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`."),this.getClosest(t,(function(t){return e.isVoid(t)}))}},{key:"getCommonAncestor",value:function(t,e){if(t=this.resolvePath(t),e=this.resolvePath(e),!t||!e)return null;var r=z.relate(t,e);return this.getNode(r)}},{key:"getDecorations",value:function(t){var e=t.run("decorateNode",this);return e=W.createList(e)}},{key:"getDepth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!(t=this.resolvePath(t)))return null;var r=this.getNode(t),n=r?t.size-1+e:null;return n}},{key:"getDescendant",value:function(t){if(!(t=this.resolvePath(t))||!t.size)return null;var e=this;return t.forEach((function(t){return!!(e=e.getIn(["nodes",t]))})),e}},{key:"getDescendantsAtRange",value:function(t){var e=this.descendants({range:t}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"getFragmentAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return nt.create();for(var e=t,r=e.start,n=e.end,i=this,o=n.path,a=n.offset,s="end";o.size;){var c=o.last();i=i.splitNode(o,a),a=c+1,(o=z.lift(o)).size||"end"!==s||(o=r.path,a=r.offset,s="start")}var l=r.path.first()+1,u=n.path.first()+2,h=i.nodes.slice(l,u);return nt.create({nodes:h})}},{key:"getFurthest",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve,r=this.ancestors(t),n=Array.from(r).reverse(),i=!0,o=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,u=P(l,2),h=u[0],f=u[1];if(e(h,f))return h}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return null}},{key:"getFurthestBlock",value:function(t){return this.getFurthest(t,(function(t){return"block"===t.object}))}},{key:"getFurthestChild",value:function(t){return(t=this.resolvePath(t))&&t.size?this.nodes.get(t.first()):null}},{key:"getFurthestInline",value:function(t){return this.getFurthest(t,(function(t){return"inline"===t.object}))}},{key:"getInlines",value:function(){var t=this.inlines({onlyLeaves:!0}),e=Array.from(t,(function(t){return P(t,1)[0]}));return Object(n.List)(e)}},{key:"getInlinesByType",value:function(t){var e=this.inlines({onlyLeaves:!0,onlyTypes:[t]}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"getInsertMarksAtPoint",value:function(t){var e=t=this.resolvePoint(t),r=e.path,n=e.offset,i=this.getDescendant(r);if(0!==n)return i.marks;var o=void 0,a=void 0,s=!0,c=!1,l=void 0;try{for(var u,h=this.ancestors(r)[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value,p=P(f,2),d=p[0],m=p[1];"block"===d.object&&(o=d,a=m)}}catch(t){c=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(c)throw l}}var y=z.drop(r,a.size),v=o.texts({path:y,direction:"backward"}),g=P(v,1)[0];return g?P(g,1)[0].marks:i.marks}},{key:"getInsertMarksAtRange",value:function(t){var e=(t=this.resolveRange(t)).start;return t.isUnset?Object(n.Set)():t.isCollapsed?this.getInsertMarksAtPoint(e):this.getDescendant(e.path).marks}},{key:"getLeafBlocksAtRange",value:function(t){var e=this.blocks({range:t,onlyLeaves:!0}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"getLeafInlinesAtRange",value:function(t){var e=this.inlines({range:t,onlyLeaves:!0}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"getNodesToPathsMap",value:function(){var t="undefined"==typeof window?new Ke.Map:new window.Map;return t.set(this,z.create([])),this.forEachDescendant((function(e,r){t.set(e,r)})),t}},{key:"getMarks",value:function(){var t=this.marks(),e=Array.from(t,(function(t){return P(t,1)[0]}));return Object(n.OrderedSet)(e)}},{key:"getMarksAtRange",value:function(t){var e=this.marks({range:t}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.OrderedSet)(r)}},{key:"getMarksByType",value:function(t){var e=this.marks({onlyTypes:[t]}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.OrderedSet)(r)}},{key:"getNextBlock",value:function(t){var e=this.blocks({path:t,onlyLeaves:!0}),r=P(e,1)[0];return r?r[0]:null}},{key:"getNextNode",value:function(t){var e=this.createIterable({path:t,downward:!1}),r=P(e,1)[0];return r?r[0]:null}},{key:"getNextSibling",value:function(t){var e=this.siblings(t),r=P(e,1)[0];return r?r[0]:null}},{key:"getNextText",value:function(t){var e=this.texts({path:t}),r=P(e,1)[0];return r?r[0]:null}},{key:"getOffset",value:function(t){t=this.resolvePath(t),this.assertDescendant(t);var e=t.first(),r=this.nodes.slice(0,e).reduce((function(t,e){return t+e.text.length}),0);return 1===t.size?r:r+this.nodes.get(e).getOffset(z.drop(t))}},{key:"getOffsetAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(t.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var e=t.start;return this.getOffset(e.path)+e.offset}},{key:"getParent",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;var e=z.lift(t);return this.getNode(e)}},{key:"getPreviousBlock",value:function(t){var e=this.blocks({path:t,onlyLeaves:!0,direction:"backward"}),r=P(e,1)[0];return r?r[0]:null}},{key:"getPreviousNode",value:function(t){var e=this.createIterable({path:t,downward:!1,direction:"backward"}),r=P(e,1)[0];return r?r[0]:null}},{key:"getPreviousSibling",value:function(t){var e=this.siblings(t,{direction:"backward"}),r=P(e,1)[0];return r?r[0]:null}},{key:"getPreviousText",value:function(t){var e=this.texts({path:t,direction:"backward"}),r=P(e,1)[0];return r?r[0]:null}},{key:"getRootBlocksAtRange",value:function(t){var e=this.blocks({range:t,onlyRoots:!0}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"getRootInlinesAtRange",value:function(t){var e=this.inlines({range:t,onlyRoots:!0}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"getTextAtOffset",value:function(t){if(0===t)return this.getFirstText();if(t===this.text.length)return this.getLastText();if(t<0||t>this.text.length)return null;var e=0,r=!0,n=!1,i=void 0;try{for(var o,a=this.texts()[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value,c=P(s,1)[0];if((e+=c.text.length)>t)return c}}catch(t){n=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}return null}},{key:"getTextDirection",value:function(){var t=y()(this.text);return"neutral"===t?null:t}},{key:"getTexts",value:function(){var t=this.texts(),e=Array.from(t,(function(t){return P(t,1)[0]}));return Object(n.List)(e)}},{key:"getTextsAtRange",value:function(t){var e=this.texts({range:t}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find((function(t){return"block"===t.object})))}},{key:"hasChild",value:function(t){return!!this.getChild(t)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find((function(t){return"inline"===t.object||"text"===t.object})))}},{key:"hasDescendant",value:function(t){return!!this.getDescendant(t)}},{key:"hasVoidParent",value:function(t,e){return Object(s.default)(!ft.isValue(e),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(t,e)}},{key:"inlines",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.onlyLeaves,n=e.onlyRoots,i=e.onlyTypes,o=e.match,a=C(e,["onlyLeaves","onlyRoots","onlyTypes","match"]),s=this.descendants(E({includeBlocks:!1,includeTexts:!1,includeDocument:!1},a,{match:function(e,a){return!(i&&!i.includes(e.type))&&(!(r&&!e.isLeafInline())&&((!n||"block"===t.getParent(a).object)&&!(o&&!o(e,a))))}}));return s}},{key:"insertNode",value:function(t,e){var r=(t=this.resolvePath(t)).last(),n=z.lift(t),i=this.assertNode(n),o=i.nodes.splice(r,0,e);return i=i.set("nodes",o),this.replaceNode(n,i)}},{key:"insertText",value:function(t,e,r){t=this.resolvePath(t);var n=this.assertDescendant(t);return n=n.insertText(e,r),this.replaceNode(t,n)}},{key:"isLeafBlock",value:function(){return"block"===this.object&&!this.nodes.some((function(t){return"block"===t.object}))}},{key:"isLeafInline",value:function(){return"inline"===this.object&&!this.nodes.some((function(t){return"inline"===t.object}))}},{key:"isInRange",value:function(t,e){if(t=this.resolvePath(t),(e=this.resolveRange(e)).isUnset)return!1;var r=z.compare(t,e.start.path),n=z.compare(t,e.end.path),i=-1!==r&&1!==n;return i}},{key:"mapChildren",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,r=this.nodes;r.forEach((function(n,i){var o=e(n,i,t.nodes);o!==n&&(r=r.set(o.key,o))}));var n=this.set("nodes",r);return n}},{key:"mapDescendants",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,r=this.nodes;r.forEach((function(n,i){var o=n;"text"!==o.object&&(o=o.mapDescendants(e)),(o=e(o,i,t.nodes))!==n&&(r=r.set(i,o))}));var n=this.set("nodes",r);return n}},{key:"marks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onlyTypes,r=void 0===e?null:e,n=t.match,i=C(t,["onlyTypes","match"]),o=this.texts(i);return w({},Symbol.iterator,(function(){var t=o[Symbol.iterator](),e=null,i=null,a=[];return{next:function o(){if(a.length){var s=a.shift();return r&&!r.includes(s.type)||n&&!n(s,e,i)?o():{value:[s,e,i],done:!1}}var c=t.next(),l=c.value;if(c.done)return{done:!0};var u=P(l,2);return e=u[0],i=u[1],a=e.marks.toArray(),o()}}}))}},{key:"mergeNode",value:function(t){var e=this.assertNode(t);if(0===(t=this.resolvePath(t)).last())throw new Error("Unable to merge node because it has no previous sibling: "+e);var r=z.decrement(t),n=this.assertNode(r);if(n.object!==e.object)throw new Error("Unable to merge two different kinds of nodes: "+n+" and "+e);var i="text"===n.object?n.mergeText(e):n.set("nodes",n.nodes.concat(e.nodes)),o=this;return o=(o=(o=o.removeNode(t)).removeNode(r)).insertNode(r,i)}},{key:"moveNode",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.assertNode(t);t=this.resolvePath(t),e=this.resolvePath(e,r);var i=z.lift(e);this.assertNode(i);var o=bt.create({type:"move_node",path:t,newPath:e});e=z.transform(t,o).first();var a=this;return a=(a=a.removeNode(t)).insertNode(e,n)}},{key:"removeMark",value:function(t,e){t=this.resolvePath(t);var r=this.assertDescendant(t);return r=r.removeMark(e),this.replaceNode(t,r)}},{key:"removeNode",value:function(t){this.assertDescendant(t);var e=(t=this.resolvePath(t)).flatMap((function(t){return["nodes",t]}));return this.deleteIn(e)}},{key:"removeText",value:function(t,e,r){var n=this.assertDescendant(t);return n=n.removeText(e,r.length),this.replaceNode(t,n)}},{key:"replaceNode",value:function(t,e){if(!(t=this.resolvePath(t)))throw new Error("Unable to replace a node because it could not be found in the first place: "+t);if(!t.size)return e;this.assertNode(t);var r=t.flatMap((function(t){return["nodes",t]}));return this.setIn(r,e)}},{key:"resolveAnnotation",value:function(t){return t=(t=et.create(t)).normalize(this)}},{key:"resolveDecoration",value:function(t){return t=(t=W.create(t)).normalize(this)}},{key:"resolvePoint",value:function(t){return t=(t=V.create(t)).normalize(this)}},{key:"resolveRange",value:function(t){return t=(t=Q.create(t)).normalize(this)}},{key:"resolveSelection",value:function(t){return t=(t=Y.create(t)).normalize(this)}},{key:"setNode",value:function(t,e){var r=this.assertNode(t);return r=r.merge(e),this.replaceNode(t,r)}},{key:"setMark",value:function(t,e,r){t=this.resolvePath(t);var n=this.assertDescendant(t);return n=n.setMark(e,r),this.replaceNode(t,n)}},{key:"siblings",value:function(t,e){return this.createIterable(E({path:t,upward:!1,downward:!1},e))}},{key:"splitNode",value:function(t,e,r){var n=this.assertNode(t);t=this.resolvePath(t);var i=void 0,o=void 0;if("text"===n.object){var a=n.splitText(e),s=P(a,2);i=s[0],o=s[1]}else{var c=n.nodes.take(e),l=n.nodes.skip(e);i=n.set("nodes",c),o=n.set("nodes",l).regenerateKey()}r&&"text"!==n.object&&(o=o.merge(r));var u=this;return u=(u=(u=u.removeNode(t)).insertNode(t,o)).insertNode(t,i)}},{key:"texts",value:function(t){return this.descendants(E({includeBlocks:!1,includeInlines:!1,includeDocument:!1},t))}},{key:"getBlocksAtRange",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(t)}},{key:"getBlocksAtRangeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(t)}},{key:"getInlinesAtRange",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(t)}},{key:"getInlinesAtRangeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(t)}},{key:"getNextTextAndPath",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getNextTextAndPath` method has been renamed to `getNextTextEntry`."),this.getNextTextEntry(t)}},{key:"getNextDeepMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};Object(a.a)(!1,"As of slate@0.47, the `getNextDeepMatchingNodeAndPath` method is deprecated.");var r=this.getNextMatchingNodeAndPath(t);if(!r)return null;for(var n=P(r,2),i=n[0],o=n[1],s=void 0,c=function(){return s="text"!==i.object&&i.findFirstDescendantAndPath(e,o)};c(s);){var l=s,u=P(l,2);i=u[0],o=u[1]}return i?e(i)?[i,o]:this.getNextDeepMatchingNodeAndPath(r[1],e):null}},{key:"getPreviousTextAndPath",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getPreviousTextAndPath` method has been renamed to `getPreviousTextEntry`."),this.getPreviousTextEntry(t)}},{key:"findFirstDescendantAndPath",value:function(t,e){return Object(a.a)(!1,"As of slate@0.47, the `findFirstDescendantAndPath` method is deprecated."),this.findDescendantAndPath(t,e,!1)}},{key:"getPreviousMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(Object(a.a)(!1,"As of slate@0.47, the `getPreviousMatchingNodeAndPath` method is deprecated."),!t)return null;for(var r=t.size;r>0;r--){var n=t.slice(0,r);if(0!==n.last()){for(var i=z.decrement(n),o=this.getNode(i);o&&!e(o);)i=z.decrement(i),o=this.getNode(i);if(o)return[o,i]}}return null}},{key:"getPreviousDeepMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};Object(a.a)(!1,"As of slate@0.47, the `getPreviousDeepMatchingNodeAndPath` method is deprecated.");var r=this.getPreviousMatchingNodeAndPath(t);if(!r)return null;for(var n=P(r,2),i=n[0],o=n[1],s=void 0,c=function(){return s="text"!==i.object&&i.findLastDescendantAndPath(e,o)};c(s);){var l=s,u=P(l,2);i=u[0],o=u[1]}return i?e(i)?[i,o]:this.getPreviousDeepMatchingNodeAndPath(r[1],e):null}},{key:"findLastDescendantAndPath",value:function(t,e){return Object(a.a)(!1,"As of slate@0.47, the `findLastDescendantAndPath` method is deprecated."),this.findDescendantAndPath(t,e,!0)}},{key:"findDescendantAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.create([]),r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a.a)(!1,"As of slate@0.47, the `findDescendantAndPath` method is deprecated.");var n=void 0,i=void 0;return this.forEachDescendantWithPath((function(e,r,o){if(t(e,r,o))return n=e,i=r,!1}),e,r),n?[n,i]:null}},{key:"forEachDescendantWithPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.create([]),r=arguments[2];Object(a.a)(!1,"As of slate@0.47, the `forEachDescendantWithPath` method is deprecated.");var n=this.nodes,i=void 0;return r&&(n=n.reverse()),n.forEach((function(o,a){var s=e.concat(a);return!1===t(o,s,n)?(i=!1,!1):"text"!==o.object?i=o.forEachDescendantWithPath(t,s,r):void 0})),i}},{key:"getNextMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(Object(a.a)(!1,"As of slate@0.47, the `getNextMatchingNodeAndPath` method is deprecated."),!t)return null;for(var r=t.size;r>0;r--){for(var n=t.slice(0,r),i=z.increment(n),o=this.getNode(i);o&&!e(o);)i=z.increment(i),o=this.getNode(i);if(o)return[o,i]}return null}},{key:"getSelectionIndexes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(a.a)(!1,"As of slate@0.47, the `getSelectionIndexes` method is deprecated.");var r=t.start,n=t.end;if(!e)return null;if(t.isUnset)return null;if(r.path.equals(n.path)){var i=this.getFurthestAncestor(r.path),o=i?this.nodes.indexOf(i):null;return{start:o,end:o+1}}var s=null,c=null;return this.nodes.forEach((function(t,e){return"text"===t.object?(null==s&&t.key===r.key&&(s=e),null==c&&t.key===n.key&&(c=e+1)):(null==s&&t.hasDescendant(r.key)&&(s=e),null==c&&t.hasDescendant(n.key)&&(c=e+1)),null==s||null==c})),e&&null==s&&(s=0),e&&null==c&&(c=this.nodes.size),null==s?null:{start:s,end:c}}},{key:"getTextsBetweenPositionsAsArray",value:function(t,e){return Object(a.a)(!1,"As of slate@0.47, the `getTextsBetweenPositionsAsArray` method is deprecated."),t=this.resolvePath(t),e=this.resolvePath(e),this.getTextsBetweenPathPositionsAsArray(t,e)}},{key:"getOrderedMarksBetweenPositions",value:function(t,e,r,i){Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksBetweenPositions` method is deprecated."),t=this.resolvePath(t),r=this.resolvePath(r);var o=this.getDescendant(t);if(z.isEqual(t,r))return o.marks;var s=this.getTextsBetweenPathPositionsAsArray(t,r);return Object(n.OrderedSet)().withMutations((function(t){s.forEach((function(e){t.union(e.marks)}))}))}},{key:"getTextsBetweenPathPositionsAsArray",value:function(t,e){if(Object(a.a)(!1,"As of slate@0.47, the `getTextsBetweenPathPositionsAsArray` method is deprecated."),t&&e&&z.isEqual(t,e))return[this.getDescendant(t)];if(!t&&!e)return this.getTextsAsArray();var r=t?t.get(0,0):0,n=e?e.get(0,this.nodes.size-1):this.nodes.size-1,i=[];return this.nodes.slice(r,n+1).forEach((function(o,a){if("text"===o.object)i.push(o);else{var s=t&&0===a?z.drop(t):null,c=e&&a===n-r?z.drop(e):null;i=i.concat(o.getTextsBetweenPathPositionsAsArray(s,c))}})),i}},{key:"getFurthestAncestor",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getFurthestAncestor` method has been renamed to `getFurthestChild`."),this.getFurthestChild(t)}},{key:"getLeafBlocksAtRangeAsArray",value:function(t){if(Object(a.a)(!1,"As of slate@0.47, the `getLeafBlocksAtRangeAsArray` method is deprecated."),(t=this.resolveRange(t)).isUnset)return[];var e=t,r=e.start,n=e.end;return this.getLeafBlocksBetweenPathPositionsAsArray(r.path,n.path)}},{key:"getLeafBlocksBetweenPathPositionsAsArray",value:function(t,e){if(Object(a.a)(!1,"As of slate@0.47, the `getLeafBlocksBetweenPathPositionsAsArray` method is deprecated."),t&&e&&z.isEqual(t,e))return[this.getClosestBlock(t)];if(!t&&!e)return this.getBlocksAsArray();var r=t?t.get(0,0):0,n=e?e.get(0,this.nodes.size-1):this.nodes.size-1,i=[];return this.nodes.slice(r,n+1).forEach((function(o,a){if("block"===o.object)if(o.isLeafBlock())i.push(o);else{var s=t&&0===a?z.drop(t):null,c=e&&a===n-r?z.drop(e):null;i=i.concat(o.getLeafBlocksBetweenPathPositionsAsArray(s,c))}})),i}},{key:"getBlocksAsArray",value:function(){Object(a.a)(!1,"As of slate@0.47, the `getBlocksAsArray` method is deprecated.");var t=this.blocks({onlyLeaves:!0});return Array.from(t,(function(t){return P(t,1)[0]}))}},{key:"getBlocksByTypeAsArray",value:function(t){Object(a.a)(!1,"As of slate@0.47, the `getBlocksByTypeAsArray` method is deprecated.");var e=this.blocks({onlyLeaves:!0,onlyTypes:[t]});return Array.from(e,(function(t){return P(t,1)[0]}))}},{key:"getFurthestOnlyChildAncestor",value:function(t){Object(a.a)(!1,"As of slate@0.47, the `getFurthestOnlyChildAncestor` method is deprecated.");var e=this.getAncestors(t);return e&&e.rest().reverse().takeUntil((function(t){return t.nodes.size>1})).last()||null}},{key:"getInlinesAsArray",value:function(){return Object(a.a)(!1,"As of slate@0.47, the `getInlinesAsArray` method is deprecated."),Array.from(this.inlines({onlyLeaves:!0}),(function(t){return P(t,1)[0]}))}},{key:"getInlinesByTypeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getInlinesByTypeAsArray` method is deprecated."),Array.from(this.inlines({onlyLeaves:!0,onlyTypes:[t]}),(function(t){return P(t,1)[0]}))}},{key:"getLeafInlinesAtRangeAsArray",value:function(t){var e=this;return Object(a.a)(!1,"As of slate@0.47, the `getLeafInlinesAtRangeAsArray` method is deprecated."),(t=this.resolveRange(t)).isUnset?[]:this.getTextsAtRangeAsArray(t).map((function(t){return e.getClosestInline(t.key)})).filter((function(t){return t}))}},{key:"getOrderedMarks",value:function(){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarks` method has been folded into `getMarks`, which will now return an ordered set."),this.getMarks()}},{key:"getOrderedMarksAtRange",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksAtRange` method has been folded into `getMarksAtRange`, which will now return an ordered set."),this.getMarksAtRange(t)}},{key:"getOrderedMarksByType",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksByType` method has been folded into `getMarksByType`, which will now return an ordered set."),this.getMarksByType(t)}},{key:"getMarksByTypeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getMarksByTypeAsArray` method is deprecated."),this.nodes.reduce((function(e,r){return"text"===r.object?e.concat(r.marks.filter((function(e){return e.type===t}))):e.concat(r.getMarksByTypeAsArray(t))}),[])}},{key:"getMarksAsArray",value:function(){var t;Object(a.a)(!1,"As of slate@0.47, the `getMarksAsArray` method is deprecated.");var e=[],r=!0,n=!1,i=void 0;try{for(var o,s=this.texts()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value,l=P(c,1)[0];e.push(l.marks.toArray())}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return(t=[]).concat.apply(t,e)}},{key:"getRootInlinesAtRangeAsArray",value:function(t){var e=this;return Object(a.a)(!1,"As of slate@0.47, the `getRootInlinesAtRangeAsArray` method is deprecated."),(t=this.resolveRange(t)).isUnset?Object(n.List)():this.getTextsAtRangeAsArray(t).map((function(t){return e.getFurthestInline(t.key)})).filter((function(t){return t}))}},{key:"getTextsAsArray",value:function(){Object(a.a)(!1,"As of slate@0.47, the `getTextsAsArray` method is deprecated.");var t=this.texts();return Array.from(t,(function(t){return P(t,1)[0]}))}},{key:"getTextsAtRangeAsArray",value:function(t){Object(a.a)(!1,"As of slate@0.47, the `getTextsAtRangeAsArray` method is deprecated.");var e=this.texts({range:t});return Array.from(e,(function(t){return P(t,1)[0]}))}},{key:"getMarksAtPosition",value:function(t,e){Object(a.a)(!1,"As of slate@0.47, the `getMarksAtPosition` method is deprecated."),t=this.resolvePath(t);var r=this.getDescendant(t).marks;if(0!==e)return Object(n.OrderedSet)(r);var i=this.getClosestBlock(t);if(""===i.text)return Object(n.OrderedSet)(r);var o=this.texts({path:t,direction:"backward"}),s=P(o,1)[0];if(!s)return Object(n.OrderedSet)();var c=P(s,2),l=c[0],u=c[1];return i.hasDescendant(u)?Object(n.OrderedSet)(l.marks):Object(n.OrderedSet)(r)}},{key:"getNodesAtRange",value:function(t){Object(a.a)(!1,"As of slate@0.47, the `getNodesAtRange` method has been renamed to `getDescendantsAtRange`.");var e=this.descendants({range:t}),r=Array.from(e,(function(t){return P(t,1)[0]}));return Object(n.List)(r)}},{key:"isNodeInRange",value:function(t,e){return Object(a.a)(!1,"As of slate@0.47, the `isNodeInRange` method has been renamed to `isInRange`."),this.isInRange(t,e)}},{key:"text",get:function(){return this.getText()}}]),t}(),He=function(t){Ge.prototype["assert"+t]=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=this["get"+t].apply(this,[e].concat(n));if(null==o)throw new Error("`Node.assert"+t+"` could not find node with path or key: "+e);return o}},qe=!0,Ue=!1,We=void 0;try{for(var Je,Ye=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(qe=(Je=Ye.next()).done);qe=!0){He(Je.value)}}catch(t){Ue=!0,We=t}finally{try{!qe&&Ye.return&&Ye.return()}finally{if(Ue)throw We}}Ie(Ge.prototype,["getBlocksAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getInsertMarksAtRange","getLeafBlocksAtRangeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getMarksByTypeAsArray","getNextBlock","getNodesAtRange","getNodesToPathsMap","getOffset","getOffsetAtRange","getOrderedMarksBetweenPositions","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPathPositionsAsArray"]),Te(Ge,[ut,nt,ot]),Te(function(){function t(){x(this,t)}return S(t,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(t){return this.updatePoints((function(e){return e.moveForward(t)}))}},{key:"moveBackward",value:function(t){return this.updatePoints((function(e){return e.moveBackward(t)}))}},{key:"moveAnchorBackward",value:function(t){return this.setAnchor(this.anchor.moveBackward(t))}},{key:"moveAnchorForward",value:function(t){return this.setAnchor(this.anchor.moveForward(t))}},{key:"moveAnchorTo",value:function(t,e){return this.setAnchor(this.anchor.moveTo(t,e))}},{key:"moveAnchorToStartOfNode",value:function(t){return this.setAnchor(this.anchor.moveToStartOfNode(t))}},{key:"moveAnchorToEndOfNode",value:function(t){return this.setAnchor(this.anchor.moveToEndOfNode(t))}},{key:"moveEndBackward",value:function(t){return this.setEnd(this.end.moveBackward(t))}},{key:"moveEndForward",value:function(t){return this.setEnd(this.end.moveForward(t))}},{key:"moveEndTo",value:function(t,e){return this.setEnd(this.end.moveTo(t,e))}},{key:"moveEndToStartOfNode",value:function(t){return this.setEnd(this.end.moveToStartOfNode(t))}},{key:"moveEndToEndOfNode",value:function(t){return this.setEnd(this.end.moveToEndOfNode(t))}},{key:"moveFocusBackward",value:function(t){return this.setFocus(this.focus.moveBackward(t))}},{key:"moveFocusForward",value:function(t){return this.setFocus(this.focus.moveForward(t))}},{key:"moveFocusTo",value:function(t,e){return this.setFocus(this.focus.moveTo(t,e))}},{key:"moveFocusToStartOfNode",value:function(t){return this.setFocus(this.focus.moveToStartOfNode(t))}},{key:"moveFocusToEndOfNode",value:function(t){return this.setFocus(this.focus.moveToEndOfNode(t))}},{key:"moveStartBackward",value:function(t){return this.setStart(this.start.moveBackward(t))}},{key:"moveStartForward",value:function(t){return this.setStart(this.start.moveForward(t))}},{key:"moveStartTo",value:function(t,e){return this.setStart(this.start.moveTo(t,e))}},{key:"moveStartToStartOfNode",value:function(t){return this.setStart(this.start.moveToStartOfNode(t))}},{key:"moveStartToEndOfNode",value:function(t){return this.setStart(this.start.moveToEndOfNode(t))}},{key:"moveTo",value:function(t,e){return this.updatePoints((function(r){return r.moveTo(t,e)}))}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(t){return this.updatePoints((function(e){return e.moveToEndOfNode(t)}))}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.setPoints([this.anchor.moveToStartOfNode(t),this.focus.moveToEndOfNode(e)]);return r}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(t){return this.updatePoints((function(e){return e.moveToStartOfNode(t)}))}},{key:"normalize",value:function(t){return this.updatePoints((function(e){return e.normalize(t)}))}},{key:"setAnchor",value:function(t){return this.set("anchor",t)}},{key:"setEnd",value:function(t){return this.isBackward?this.setAnchor(t):this.setFocus(t)}},{key:"setFocus",value:function(t){return this.set("focus",t)}},{key:"setPoints",value:function(t){var e=P(t,2),r=e[0],n=e[1];return this.set("anchor",r).set("focus",n)}},{key:"updatePoints",value:function(t){var e=this.anchor,r=this.focus;return e=t(e),r=t(r),this.merge({anchor:e,focus:r})}},{key:"setStart",value:function(t){return this.isBackward?this.setFocus(t):this.setAnchor(t)}},{key:"setProperties",value:function(t){var e=t=Q.createProperties(t),r=e.anchor,n=e.focus,i=C(e,["anchor","focus"]);return r&&(i.anchor=V.create(r)),n&&(i.focus=V.create(n)),this.merge(i)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}},{key:"toRange",value:function(){var t=Q.createProperties(this);return Q.create(t)}},{key:"unset",value:function(){return this.updatePoints((function(t){return t.unset()}))}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var t=this.isUnset,e=this.anchor,r=this.focus;return t?null:e.key===r.key?e.offset>r.offset:z.isBefore(r.path,e.path)}},{key:"isForward",get:function(){var t=this.isBackward;return null==t?null:!t}},{key:"isUnset",get:function(){var t=this.anchor,e=this.focus;return t.isUnset||e.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),t}(),[et,W,Q,Y]);var $e={Annotation:et,Block:ut,Change:_t,Data:G,Decoration:W,Document:nt,Editor:xe,Inline:ot,KeyUtils:k,Leaf:Ce,Mark:q,Node:ct,Operation:bt,PathUtils:z,Point:V,Range:Q,resetMemoization:Le,Selection:Y,Text:st,TextUtils:Ft,useMemoization:je,Value:ft};e.default=$e}.call(this,r(35))},7446:function(t,e,r){"use strict";var n=r(7507),i=r(10047),o=r(10048),a=r(10050),s=r(8508),c=r(7308),l=r(10053),u=r(10054),h=r(7314),f=r(9245),p=r(9243),d=r(10055),m=r(10056),y=c.OrderedSet,v={replaceText:function(t,e,r,i,o){var a=p(t,e),s=d(a,e),c=n.create({style:i||y(),entity:o||null});return u(s,s.getSelectionAfter(),r,c)},insertText:function(t,e,r,n,i){return e.isCollapsed()||h(!1),v.replaceText(t,e,r,n,i)},moveText:function(t,e,r){var n=s(t,e),i=v.removeRange(t,e,"backward");return v.replaceWithFragment(i,r,n)},replaceWithFragment:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=p(t,e),o=d(i,e);return l(o,o.getSelectionAfter(),r,n)},removeRange:function(t,e,r){var n,i,o,s;e.getIsBackward()&&(e=e.merge({anchorKey:e.getFocusKey(),anchorOffset:e.getFocusOffset(),focusKey:e.getAnchorKey(),focusOffset:e.getAnchorOffset(),isBackward:!1})),n=e.getAnchorKey(),i=e.getFocusKey(),o=t.getBlockForKey(n),s=t.getBlockForKey(i);var c=e.getStartOffset(),l=e.getEndOffset(),u=o.getEntityAt(c),h=s.getEntityAt(l-1);if(n===i&&u&&u===h){var f=a(t.getEntityMap(),o,s,e,r);return d(t,f)}var m=p(t,e);return d(m,e)},splitBlock:function(t,e){var r=p(t,e),n=d(r,e);return m(n,n.getSelectionAfter())},applyInlineStyle:function(t,e,r){return i.add(t,e,r)},removeInlineStyle:function(t,e,r){return i.remove(t,e,r)},setBlockType:function(t,e,r){return f(t,e,(function(t){return t.merge({type:r,depth:0})}))},setBlockData:function(t,e,r){return f(t,e,(function(t){return t.merge({data:r})}))},mergeBlockData:function(t,e,r){return f(t,e,(function(t){return t.merge({data:t.getData().merge(r)})}))},applyEntity:function(t,e,r){var n=p(t,e);return o(n,e,r)}};t.exports=v},7447:function(t,e,r){"use strict";t.exports=function(t){if(null!=t)return t;throw new Error("Got unexpected null or undefined")}},7478:function(t,e,r){var n=r(929),i=r(660);t.exports=function(t,e,r){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(t,e,{leading:o,maxWait:e,trailing:a})}},7484:function(t,e,r){"use strict";var n=r(10065),i=r(10067),o=r(10068),a=r(10069);function s(t,e,r,n){if(t===r)return!0;if(!r.startsWith(t))return!1;var o=r.slice(t.length);return!!e&&(o=n?n(o):o,i.contains(o,e))}function c(t){return"Windows"===n.platformName?t.replace(/^\s*NT/,""):t}var l={isBrowser:function(t){return s(n.browserName,n.browserFullVersion,t)},isBrowserArchitecture:function(t){return s(n.browserArchitecture,null,t)},isDevice:function(t){return s(n.deviceName,null,t)},isEngine:function(t){return s(n.engineName,n.engineVersion,t)},isPlatform:function(t){return s(n.platformName,n.platformFullVersion,t,c)},isPlatformArchitecture:function(t){return s(n.platformArchitecture,null,t)}};t.exports=o(l,a)},7507:function(t,e,r){"use strict";var n=r(7308),i=n.Map,o=n.OrderedSet,a=n.Record,s=o(),c={style:s,entity:null},l=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.getStyle=function(){return this.get("style")},o.getEntity=function(){return this.get("entity")},o.hasStyle=function(t){return this.getStyle().includes(t)},n.applyStyle=function(t,e){var r=t.set("style",t.getStyle().add(e));return n.create(r)},n.removeStyle=function(t,e){var r=t.set("style",t.getStyle().remove(e));return n.create(r)},n.applyEntity=function(t,e){var r=t.getEntity()===e?t:t.set("entity",e);return n.create(r)},n.create=function(t){if(!t)return u;var e=i({style:s,entity:null}).merge(t),r=h.get(e);if(r)return r;var o=new n(e);return h=h.set(e,o),o},n}(a(c)),u=new l,h=i([[i(c),u]]);l.EMPTY=u,t.exports=l},7508:function(t,e,r){"use strict";var n=r(7507),i=r(8340),o=r(7308),a=o.List,s=o.Map,c=o.OrderedSet,l=o.Record,u=o.Repeat,h=c(),f={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},p=function(t,e){return t.getStyle()===e.getStyle()},d=function(t,e){return t.getEntity()===e.getEntity()},m=function(t){if(!t)return t;var e=t.characterList,r=t.text;return r&&!e&&(t.characterList=a(u(n.EMPTY,r.length))),t},y=function(t){var e,r;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return t.call(this,m(e))||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():h},o.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(t,e){i(this.getCharacterList(),p,t,e)},o.findEntityRanges=function(t,e){i(this.getCharacterList(),d,t,e)},n}(l(f));t.exports=y},7598:function(t,e,r){"use strict";var n={},i=Math.pow(2,24);t.exports=function(){for(var t;void 0===t||n.hasOwnProperty(t)||!isNaN(+t);)t=Math.floor(Math.random()*i).toString(32);return n[t]=!0,t}},7653:function(t,e,r){"use strict";var n={encode:function(t,e,r){return t+"-"+e+"-"+r},decode:function(t){var e=t.split("-").reverse(),r=e[0],n=e[1];return{blockKey:e.slice(2).reverse().join("-"),decoratorKey:parseInt(n,10),leafKey:parseInt(r,10)}}};t.exports=n},7724:function(t,e,r){"use strict";t.exports=function(t){return!("undefined"==typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[t]}},7839:function(t,e,r){var n=r(9920),i=r(9923);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},7894:function(t,e,r){"use strict";var n=r(7507),i=r(8340),o=r(7308),a=o.List,s=o.Map,c=o.OrderedSet,l=o.Record,u=o.Repeat,h=c(),f=l({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}),p=function(t){var e,r;function o(e){return t.call(this,function(t){if(!t)return t;var e=t.characterList,r=t.text;return r&&!e&&(t.characterList=a(u(n.EMPTY,r.length))),t}(e))||this}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=o.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():h},s.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},s.findStyleRanges=function(t,e){i(this.getCharacterList(),d,t,e)},s.findEntityRanges=function(t,e){i(this.getCharacterList(),m,t,e)},o}(f);function d(t,e){return t.getStyle()===e.getStyle()}function m(t,e){return t.getEntity()===e.getEntity()}t.exports=p},7895:function(t,e,r){"use strict";function n(t){return t.replace(/\//g,"-")}t.exports=function(t){return"object"==typeof t?Object.keys(t).filter((function(e){return t[e]})).map(n).join(" "):Array.prototype.map.call(arguments,n).join(" ")}},7896:function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.ownerDocument)&&t.nodeType===Node.ELEMENT_NODE}},7897:function(t,e,r){"use strict";var n=r(7314),i=/[\uD800-\uDFFF]/;function o(t){return 55296<=t&&t<=57343}function a(t){return i.test(t)}function s(t,e){return 1+o(t.charCodeAt(e))}function c(t,e,r){if(e=e||0,r=void 0===r?1/0:r||0,!a(t))return t.substr(e,r);var n=t.length;if(n<=0||e>n||r<=0)return"";var i=0;if(e>0){for(;e>0&&i<n;e--)i+=s(t,i);if(i>=n)return""}else if(e<0){for(i=n;e<0&&0<i;e++)i-=s(t,i-1);i<0&&(i=0)}var o=n;if(r<n)for(o=i;r>0&&o<n;r--)o+=s(t,o);return t.substring(i,o)}var l={getCodePoints:function(t){for(var e=[],r=0;r<t.length;r+=s(t,r))e.push(t.codePointAt(r));return e},getUTF16Length:s,hasSurrogateUnit:a,isCodeUnitInSurrogateRange:o,isSurrogatePair:function(t,e){if(0<=e&&e<t.length||n(!1),e+1===t.length)return!1;var r=t.charCodeAt(e),i=t.charCodeAt(e+1);return 55296<=r&&r<=56319&&56320<=i&&i<=57343},strlen:function(t){if(!a(t))return t.length;for(var e=0,r=0;r<t.length;r+=s(t,r))e++;return e},substring:function(t,e,r){(e=e||0)<0&&(e=0),(r=void 0===r?1/0:r||0)<0&&(r=0);var n=Math.abs(r-e);return c(t,e=e<r?e:r,n)},substr:c};t.exports=l},7951:function(t,e,r){var n=r(643),i=r(8607),o=r(9915),a=r(1048);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(a(t))}},7952:function(t,e,r){var n=r(685);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},7953:function(t,e,r){var n=r(9219),i=r(9956),o=r(8481);t.exports=function(t){return o(t)?n(t):i(t)}},7972:function(t,e,r){"use strict";var n=r(10046),i=r(8339),o=r(7507),a=r(10061),s=r(7894),c=r(8892),l=r(8894),u=r(9249),h=r(10062),f=r(9265),p=r(8509),d=r(7446),m=r(9247),y=r(7323),v=r(8899),g=r(10119),b=r(9275),k=r(8510),_=r(10120),x=r(10123),S=r(7598),w=r(8344),E=r(10129),A={Editor:h,EditorBlock:f,EditorState:y,CompositeDecorator:a,Entity:p,EntityInstance:m,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:s,ContentState:c,RawDraftContentState:g,SelectionState:k,AtomicBlockUtils:n,KeyBindingUtil:v,Modifier:d,RichUtils:b,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:u,convertFromHTML:r(9273),convertFromRaw:x,convertToRaw:_,genKey:S,getDefaultKeyBinding:w,getVisibleSelectionRect:E};t.exports=A},7973:function(t,e,r){"use strict";var n=r(9258).notEmptyKey;function i(t,e){return n(e)&&"MUTABLE"===t.__get(e).getMutability()?e:null}t.exports=function(t,e){var r;if(e.isCollapsed()){var n=e.getAnchorKey(),o=e.getAnchorOffset();return o>0?(r=t.getBlockForKey(n).getEntityAt(o-1))!==t.getBlockForKey(n).getEntityAt(o)?null:i(t.getEntityMap(),r):null}var a=e.getStartKey(),s=e.getStartOffset(),c=t.getBlockForKey(a);return r=s===c.getLength()?null:c.getEntityAt(s),i(t.getEntityMap(),r)}},8245:function(t,e,r){var n=r(8609),i=r(9212);t.exports=function(t,e,r,o){var a=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var l=e[s],u=o?o(r[l],t[l],l,r,t):void 0;void 0===u&&(u=t[l]),a?i(r,l,u):n(r,l,u)}return r}},8246:function(t,e,r){var n=r(9965),i=r(8608),o=r(9966),a=r(9967),s=r(9968),c=r(669),l=r(9211),u=l(n),h=l(i),f=l(o),p=l(a),d=l(s),m=c;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?l(r):"";if(n)switch(n){case u:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=m},8339:function(t,e,r){"use strict";var n=r(7308).OrderedMap,i={createFromArray:function(t){return n(t.map((function(t){return[t.getKey(),t]})))}};t.exports=i},8340:function(t,e,r){"use strict";t.exports=function(t,e,r,n){if(t.size){var i=0;t.reduce((function(t,o,a){return e(t,o)||(r(t)&&n(i,a),i=a),o})),r(t.last())&&n(i,t.count())}}},8341:function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.ownerDocument)&&(t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement)}},8342:function(t,e,r){"use strict";var n=r(7323),i=r(7897),o=r(8897),a=r(8343);t.exports=function(t){var e=a(t,(function(t){var e=t.getSelection(),r=t.getCurrentContent(),n=e.getAnchorKey(),a=e.getAnchorOffset(),s=r.getBlockForKey(n).getText()[a-1];return o(t,s?i.getUTF16Length(s,0):1)}),"backward");if(e===t.getCurrentContent())return t;var r=t.getSelection();return n.push(t,e.set("selectionBefore",r),r.isCollapsed()?"backspace-character":"remove-range")}},8343:function(t,e,r){"use strict";var n=r(7446),i=r(7724)("draft_tree_data_support");t.exports=function(t,e,r){var o=t.getSelection(),a=t.getCurrentContent(),s=o,c=o.getAnchorKey(),l=o.getFocusKey(),u=a.getBlockForKey(c);if(i&&"forward"===r&&c!==l)return a;if(o.isCollapsed()){if("forward"===r){if(t.isSelectionAtEndOfContent())return a;if(i)if(o.getAnchorOffset()===a.getBlockForKey(c).getLength()){var h=a.getBlockForKey(u.nextSibling);if(!h||0===h.getLength())return a}}else if(t.isSelectionAtStartOfContent())return a;if((s=e(t))===o)return a}return n.removeRange(a,s,r)}},8344:function(t,e,r){"use strict";var n=r(8899),i=r(8514),o=r(7484),a=o.isPlatform("Mac OS X"),s=a&&o.isBrowser("Firefox < 29"),c=n.hasCommandModifier,l=n.isCtrlKeyCommand;function u(t){return a&&t.altKey||l(t)}t.exports=function(t){switch(t.keyCode){case 66:return c(t)?"bold":null;case 68:return l(t)?"delete":null;case 72:return l(t)?"backspace":null;case 73:return c(t)?"italic":null;case 74:return c(t)?"code":null;case 75:return a&&l(t)?"secondary-cut":null;case 77:case 79:return l(t)?"split-block":null;case 84:return a&&l(t)?"transpose-characters":null;case 85:return c(t)?"underline":null;case 87:return a&&l(t)?"backspace-word":null;case 89:return l(t)?a?"secondary-paste":"redo":null;case 90:return function(t){return c(t)?t.shiftKey?"redo":"undo":null}(t)||null;case i.RETURN:return"split-block";case i.DELETE:return function(t){return!a&&t.shiftKey?null:u(t)?"delete-word":"delete"}(t);case i.BACKSPACE:return function(t){return c(t)&&a?"backspace-to-start-of-line":u(t)?"backspace-word":"backspace"}(t);case i.LEFT:return s&&c(t)?"move-selection-to-start-of-block":null;case i.RIGHT:return s&&c(t)?"move-selection-to-end-of-block":null;default:return null}}},8472:function(t,e,r){var n=r(7951),i=r(7952);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},8473:function(t,e,r){var n=r(9917),i=r(9933),o=r(9935),a=r(9936),s=r(9937);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},8474:function(t,e,r){var n=r(7839)(Object,"create");t.exports=n},8475:function(t,e,r){var n=r(9928),i=r(9929),o=r(9930),a=r(9931),s=r(9932);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},8476:function(t,e,r){var n=r(8477);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},8477:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},8478:function(t,e,r){var n=r(9934);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},8479:function(t,e,r){var n=r(8475),i=r(9947),o=r(9948),a=r(9949),s=r(9950),c=r(9951);function l(t){var e=this.__data__=new n(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,t.exports=l},8480:function(t,e,r){(function(t){var n=r(649),i=r(9954),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c}).call(this,r(233)(t))},8481:function(t,e,r){var n=r(9210),i=r(8611);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},8508:function(t,e,r){"use strict";var n=r(9242),i=r(9243);t.exports=function(t,e){var r=e.getStartKey(),o=e.getStartOffset(),a=e.getEndKey(),s=e.getEndOffset(),c=i(t,e).getBlockMap(),l=c.keySeq(),u=l.indexOf(r),h=l.indexOf(a)+1;return n(c.slice(u,h).map((function(t,e){var n=t.getText(),i=t.getCharacterList();return r===a?t.merge({text:n.slice(o,s),characterList:i.slice(o,s)}):e===r?t.merge({text:n.slice(o),characterList:i.slice(o)}):e===a?t.merge({text:n.slice(0,s),characterList:i.slice(0,s)}):t})))}},8509:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r(9247),o=r(7308),a=r(7314),s=(0,o.Map)(),c=0;function l(t,e){console.warn("WARNING: "+t+' will be deprecated soon!\nPlease use "'+e+'" instead.')}var u={getLastCreatedEntityKey:function(){return l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),u.__getLastCreatedEntityKey()},create:function(t,e,r){return l("DraftEntity.create","contentState.createEntity"),u.__create(t,e,r)},add:function(t){return l("DraftEntity.add","contentState.addEntity"),u.__add(t)},get:function(t){return l("DraftEntity.get","contentState.getEntity"),u.__get(t)},mergeData:function(t,e){return l("DraftEntity.mergeData","contentState.mergeEntityData"),u.__mergeData(t,e)},replaceData:function(t,e){return l("DraftEntity.replaceData","contentState.replaceEntityData"),u.__replaceData(t,e)},__getLastCreatedEntityKey:function(){return""+c},__create:function(t,e,r){return u.__add(new i({type:t,mutability:e,data:r||{}}))},__add:function(t){var e=""+ ++c;return s=s.set(e,t),e},__get:function(t){var e=s.get(t);return e||a(!1),e},__mergeData:function(t,e){var r=u.__get(t),i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),i.forEach((function(e){n(t,e,r[e])}))}return t}({},r.getData(),e),o=r.set("data",i);return s=s.set(t,o),o},__replaceData:function(t,e){var r=u.__get(t).set("data",e);return s=s.set(t,r),r}};t.exports=u},8510:function(t,e,r){"use strict";var n=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get("anchorKey")},i.getAnchorOffset=function(){return this.get("anchorOffset")},i.getFocusKey=function(){return this.get("focusKey")},i.getFocusOffset=function(){return this.get("focusOffset")},i.getIsBackward=function(){return this.get("isBackward")},i.getHasFocus=function(){return this.get("hasFocus")},i.hasEdgeWithin=function(t,e,r){var n=this.getAnchorKey(),i=this.getFocusKey();if(n===i&&n===t){var o=this.getStartOffset(),a=this.getEndOffset();return e<=o&&o<=r||e<=a&&a<=r}if(t!==n&&t!==i)return!1;var s=t===n?this.getAnchorOffset():this.getFocusOffset();return e<=s&&r>=s},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},n.createEmpty=function(t){return new n({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!1})},n}((0,r(7308).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));t.exports=n},8511:function(t,e,r){"use strict";var n=r(7314),i=null;function o(t){return"LTR"===t||"RTL"===t}function a(t){return o(t)||n(!1),"LTR"===t?"ltr":"rtl"}function s(t){i=t}var c={NEUTRAL:"NEUTRAL",LTR:"LTR",RTL:"RTL",isStrong:o,getHTMLDir:a,getHTMLDirIfDifferent:function(t,e){return o(t)||n(!1),o(e)||n(!1),t===e?null:a(t)},setGlobalDir:s,initGlobalDir:function(){s("LTR")},getGlobalDir:function(){return i||this.initGlobalDir(),i||n(!1),i}};t.exports=c},8512:function(t,e,r){"use strict";var n=r(8513),i=r(9250);t.exports=function(t){for(var e=t;e&&e!==n(t).documentElement;){var r=i(e);if(null!=r)return r;e=e.parentNode}return null}},8513:function(t,e,r){"use strict";t.exports=function(t){return t&&t.ownerDocument?t.ownerDocument:document}},8514:function(t,e,r){"use strict";t.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},8515:function(t,e,r){"use strict";function n(t,e){var r=i.get(t,e);return"auto"===r||"scroll"===r}var i={get:r(10079),getScrollParent:function(t){if(!t)return null;for(var e=t.ownerDocument;t&&t!==e.body;){if(n(t,"overflow")||n(t,"overflowY")||n(t,"overflowX"))return t;t=t.parentNode}return e.defaultView||e.parentWindow}};t.exports=i},8516:function(t,e,r){"use strict";var n=r(10083),i=r(10084);t.exports=function(t){var e=n(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=e);var r=i(t),o=t===e?t.ownerDocument.documentElement:t,a=t.scrollWidth-o.clientWidth,s=t.scrollHeight-o.clientHeight;return r.x=Math.max(0,Math.min(r.x,a)),r.y=Math.max(0,Math.min(r.y,s)),r}},8517:function(t,e,r){"use strict";t.exports=function(t){return"handled"===t||!0===t}},8518:function(t,e,r){"use strict";var n=r(7323),i=r(10106),o=r(9256),a=r(8897),s=r(8343);t.exports=function(t,e){var r=s(t,(function(t){var r=t.getSelection();if(r.isCollapsed()&&0===r.getAnchorOffset())return a(t,1);var n=e.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return n=i(n),o(t,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState}),"backward");return r===t.getCurrentContent()?t:n.push(t,r,"remove-range")}},8519:function(t,e,r){"use strict";var n=r(9271),i=r(7323),o=r(8897),a=r(8343);t.exports=function(t){var e=a(t,(function(t){var e=t.getSelection(),r=e.getStartOffset();if(0===r)return o(t,1);var i=e.getStartKey(),a=t.getCurrentContent().getBlockForKey(i).getText().slice(0,r),s=n.getBackward(a);return o(t,s.length||1)}),"backward");return e===t.getCurrentContent()?t:i.push(t,e,"remove-range")}},8520:function(t,e,r){"use strict";var n=r(9271),i=r(7323),o=r(9272),a=r(8343);t.exports=function(t){var e=a(t,(function(t){var e=t.getSelection(),r=e.getStartOffset(),i=e.getStartKey(),a=t.getCurrentContent().getBlockForKey(i).getText().slice(r),s=n.getForward(a);return o(t,s.length||1)}),"forward");return e===t.getCurrentContent()?t:i.push(t,e,"remove-range")}},8521:function(t,e,r){"use strict";var n=r(7323);t.exports=function(t){var e=t.getSelection(),r=e.getEndKey(),i=t.getCurrentContent().getBlockForKey(r).getLength();return n.set(t,{selection:e.merge({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}),forceSelection:!0})}},8522:function(t,e,r){"use strict";var n=r(7323);t.exports=function(t){var e=t.getSelection(),r=e.getStartKey();return n.set(t,{selection:e.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1}),forceSelection:!0})}},8523:function(t,e,r){"use strict";var n=r(7323),i=r(7897),o=r(9272),a=r(8343);t.exports=function(t){var e=a(t,(function(t){var e=t.getSelection(),r=t.getCurrentContent(),n=e.getAnchorKey(),a=e.getAnchorOffset(),s=r.getBlockForKey(n).getText()[a];return o(t,s?i.getUTF16Length(s,0):1)}),"forward");if(e===t.getCurrentContent())return t;var r=t.getSelection();return n.push(t,e.set("selectionBefore",r),r.isCollapsed()?"delete-character":"remove-range")}},8524:function(t,e,r){"use strict";var n=r(7446),i=r(7323),o=r(8508);t.exports=function(t){var e=t.getSelection();if(!e.isCollapsed())return t;var r=e.getAnchorOffset();if(0===r)return t;var a,s,c=e.getAnchorKey(),l=t.getCurrentContent(),u=l.getBlockForKey(c).getLength();if(u<=1)return t;r===u?(a=e.set("anchorOffset",r-1),s=e):s=(a=e.set("focusOffset",r+1)).set("anchorOffset",r+1);var h=o(l,a),f=n.removeRange(l,a,"backward"),p=f.getSelectionAfter(),d=p.getAnchorOffset()-1,m=p.merge({anchorOffset:d,focusOffset:d}),y=n.replaceWithFragment(f,m,h),v=i.push(t,y,"insert-fragment");return i.acceptSelection(v,s)}},8589:function(t,e,r){"use strict";r.r(e);var n,i=["bottom","height","left","right","top","width"],o=new Map,a=function t(){o.forEach((function(t){t.hasRectChanged&&(t.callbacks.forEach((function(e){return e(t.rect)})),t.hasRectChanged=!1)})),window.setTimeout((function(){o.forEach((function(t,e){var r,n,o=e.getBoundingClientRect();r=o,n=t.rect,void 0===r&&(r={}),void 0===n&&(n={}),i.some((function(t){return r[t]!==n[t]}))&&(t.hasRectChanged=!0,t.rect=o)}))}),0),n=window.requestAnimationFrame(t)};e.default=function(t,e){return{observe:function(){var r=0===o.size;o.has(t)?o.get(t).callbacks.push(e):o.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),r&&a()},unobserve:function(){var r=o.get(t);if(r){var i=r.callbacks.indexOf(e);i>=0&&r.callbacks.splice(i,1),r.callbacks.length||o.delete(t),o.size||cancelAnimationFrame(n)}}}}},8594:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(0),a=h(o),s=h(r(12)),c=h(r(70)),l=h(r(9837)),u=h(r(20));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={initiated:!1},t.onResize=t.onResize.bind(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"getDomNodeDimensions",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}}]),i(e,[{key:"componentDidMount",value:function(){this.parentNode=c.default.findDOMNode(this).parentNode,this.elementResizeDetector=(0,l.default)({strategy:"scroll",callOnAdd:!1}),this.elementResizeDetector.listenTo(this.parentNode,this.onResize),this.componentIsMounted=!0,this.onResize()}},{key:"componentWillUnmount",value:function(){this.componentIsMounted=!1,this.elementResizeDetector.uninstall(this.parentNode)}},{key:"onResize",value:function(){var t=e.getDomNodeDimensions(this.parentNode);this.componentIsMounted&&this.setState(n({initiated:!0},t))}},{key:"render",value:function(){if((0,u.default)(this.props.children,"Expected children to be one of function or React.Element"),!this.state.initiated)return a.default.createElement("div",null);if("function"==typeof this.props.children){var t=this.props.children(this.state);return t&&o.Children.only(t)}return o.Children.only(a.default.cloneElement(this.props.children,this.state))}}]),e}(o.Component);f.propTypes={children:s.default.oneOfType([s.default.element,s.default.func]).isRequired},e.default=f},8595:function(t,e,r){"use strict";t.exports=function(t){if(t=String(t||""),i.test(t))return"rtl";if(o.test(t))return"ltr";return"neutral"};var n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",i=new RegExp("^[^"+n+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),o=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+n+"]")},8606:function(t,e,r){"use strict";t.exports=function(t){var e,r;if((t=String(t).toLowerCase()).length<3)return t;t.charCodeAt(0)===n&&(e=!0,t="Y"+t.substr(1));b.test(t)?t=t.substr(0,t.length-2):g.test(t)&&(t=t.substr(0,t.length-1));(r=v.exec(t))?a.test(r[1])&&(t=t.substr(0,t.length-1)):(r=m.exec(t))&&l.test(r[1])&&(t=r[1],y.test(t)?t+="e":k.test(t)?t=t.substr(0,t.length-1):u.test(t)&&(t+="e"));(r=p.exec(t))&&l.test(r[1])&&(t=r[1]+"i");(r=_.exec(t))&&a.test(r[1])&&(t=r[1]+i[r[2]]);(r=x.exec(t))&&a.test(r[1])&&(t=r[1]+o[r[2]]);(r=S.exec(t))?c.test(r[1])&&(t=r[1]):(r=d.exec(t))&&c.test(r[1])&&(t=r[1]);(r=f.exec(t))&&(c.test(r[1])||s.test(r[1])&&!u.test(r[1]))&&(t=r[1]);h.test(t)&&c.test(t)&&(t=t.substr(0,t.length-1));e&&(t="y"+t.substr(1));return t};var n="y".charCodeAt(0),i={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},o={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},a=new RegExp("^([^aeiou][^aeiouy]*)?([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)"),s=new RegExp("^([^aeiou][^aeiouy]*)?([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)([aeiouy][aeiou]*)?$"),c=new RegExp("^([^aeiou][^aeiouy]*)?(([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)){2,}"),l=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),u=new RegExp("^([^aeiou][^aeiouy]*)[aeiouy][^aeiouwxy]$"),h=/ll$/,f=/^(.+?)e$/,p=/^(.+?)y$/,d=/^(.+?(s|t))(ion)$/,m=/^(.+?)(ed|ing)$/,y=/(at|bl|iz)$/,v=/^(.+?)eed$/,g=/^.+?[^s]s$/,b=/^.+?(ss|i)es$/,k=/([^aeiouylsz])\1$/,_=new RegExp("^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$"),x=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,S=new RegExp("^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$")},8607:function(t,e,r){var n=r(643),i=r(685),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},8608:function(t,e,r){var n=r(7839)(r(649),"Map");t.exports=n},8609:function(t,e,r){var n=r(9212),i=r(8477),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];o.call(t,e)&&i(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},8610:function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},8611:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},8612:function(t,e){t.exports=function(t){return t}},8613:function(t,e,r){var n=r(9955),i=r(8614),o=r(8615),a=o&&o.isTypedArray,s=a?i(a):n;t.exports=s},8614:function(t,e){t.exports=function(t){return function(e){return t(e)}}},8615:function(t,e,r){(function(t){var n=r(1134),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&n.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,r(233)(t))},8616:function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},8617:function(t,e,r){var n=r(9963),i=r(9223),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},8618:function(t,e,r){var n=r(9220)(Object.getPrototypeOf,Object);t.exports=n},8619:function(t,e,r){var n=r(9225),i=r(8617),o=r(7953);t.exports=function(t){return n(t,o,i)}},8620:function(t,e,r){var n=r(8621);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},8621:function(t,e,r){var n=r(649).Uint8Array;t.exports=n},8892:function(t,e,r){"use strict";var n=r(8339),i=r(7507),o=r(7894),a=r(7508),s=r(8509),c=r(8510),l=r(7598),u=r(7724),h=r(7308),f=r(9248),p=h.List,d=h.Record,m=h.Repeat,y=function(t){var e,r;function h(){return t.apply(this,arguments)||this}r=t,(e=h).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var d=h.prototype;return d.getEntityMap=function(){return s},d.getBlockMap=function(){return this.get("blockMap")},d.getSelectionBefore=function(){return this.get("selectionBefore")},d.getSelectionAfter=function(){return this.get("selectionAfter")},d.getBlockForKey=function(t){return this.getBlockMap().get(t)},d.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil((function(e){return e===t})).skip(1).first()},d.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil((function(e){return e===t})).skip(1).first()},d.getBlockAfter=function(t){return this.getBlockMap().skipUntil((function(e,r){return r===t})).skip(1).first()},d.getBlockBefore=function(t){return this.getBlockMap().reverse().skipUntil((function(e,r){return r===t})).skip(1).first()},d.getBlocksAsArray=function(){return this.getBlockMap().toArray()},d.getFirstBlock=function(){return this.getBlockMap().first()},d.getLastBlock=function(){return this.getBlockMap().last()},d.getPlainText=function(t){return this.getBlockMap().map((function(t){return t?t.getText():""})).join(t||"\n")},d.getLastCreatedEntityKey=function(){return s.__getLastCreatedEntityKey()},d.hasText=function(){var t=this.getBlockMap();return t.size>1||escape(t.first().getText()).replace(/%u200B/g,"").length>0},d.createEntity=function(t,e,r){return s.__create(t,e,r),this},d.mergeEntityData=function(t,e){return s.__mergeData(t,e),this},d.replaceEntityData=function(t,e){return s.__replaceData(t,e),this},d.addEntity=function(t){return s.__add(t),this},d.getEntity=function(t){return s.__get(t)},h.createFromBlockArray=function(t,e){var r=Array.isArray(t)?t:t.contentBlocks,i=n.createFromArray(r),o=i.isEmpty()?new c:c.createEmpty(i.first().getKey());return new h({blockMap:i,entityMap:e||s,selectionBefore:o,selectionAfter:o})},h.createFromText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=t.split(e),n=r.map((function(t){return t=f(t),new(u("draft_tree_data_support")?a:o)({key:l(),text:t,type:"unstyled",characterList:p(m(i.EMPTY,t.length))})}));return h.createFromBlockArray(n)},h}(d({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));t.exports=y},8893:function(t,e,r){"use strict";var n=r(8511),i=r(7314),o="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",a="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",s=new RegExp("["+"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+o+a+"]"),c=new RegExp("["+o+a+"]");function l(t){var e=s.exec(t);return null==e?null:e[0]}function u(t){var e=l(t);return null==e?n.NEUTRAL:c.exec(e)?n.RTL:n.LTR}function h(t,e){if(e=e||n.NEUTRAL,!t.length)return e;var r=u(t);return r===n.NEUTRAL?e:r}function f(t,e){return e||(e=n.getGlobalDir()),n.isStrong(e)||i(!1),h(t,e)}var p={firstStrongChar:l,firstStrongCharDir:u,resolveBlockDir:h,getDirection:f,isDirectionLTR:function(t,e){return f(t,e)===n.LTR},isDirectionRTL:function(t,e){return f(t,e)===n.RTL}};t.exports=p},8894:function(t,e,r){"use strict";var n=r(0),i=r(7895),o=(0,r(7308).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:n.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:n.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:n.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});t.exports=o},8895:function(t,e,r){"use strict";var n=r(10077);t.exports=function t(e,r){return!(!e||!r)&&(e===r||!n(e)&&(n(r)?t(e,r.parentNode):"contains"in e?e.contains(r):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(r))))}},8896:function(t,e,r){"use strict";function n(t,e){return!!e&&(t===e.documentElement||t===e.body)}var i={getTop:function(t){var e=t.ownerDocument;return n(t,e)?e.body.scrollTop||e.documentElement.scrollTop:t.scrollTop},setTop:function(t,e){var r=t.ownerDocument;n(t,r)?r.body.scrollTop=r.documentElement.scrollTop=e:t.scrollTop=e},getLeft:function(t){var e=t.ownerDocument;return n(t,e)?e.body.scrollLeft||e.documentElement.scrollLeft:t.scrollLeft},setLeft:function(t,e){var r=t.ownerDocument;n(t,r)?r.body.scrollLeft=r.documentElement.scrollLeft=e:t.scrollLeft=e}};t.exports=i},8897:function(t,e,r){"use strict";r(8898);t.exports=function(t,e){var r=t.getSelection(),n=t.getCurrentContent(),i=r.getStartKey(),o=r.getStartOffset(),a=i,s=0;if(e>o){var c=n.getKeyBefore(i);if(null==c)a=i;else a=c,s=n.getBlockForKey(c).getText().length}else s=o-e;return r.merge({focusKey:a,focusOffset:s,isBackward:!0})}},8898:function(t,e,r){"use strict";var n=r(9267);t.exports=n},8899:function(t,e,r){"use strict";var n=r(7484),i=r(10104),o=n.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return o&&t.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(t){return o?!!t.metaKey&&!t.altKey:a.isCtrlKeyCommand(t)},isSoftNewlineEvent:i};t.exports=a},9203:function(t,e,r){"use strict";(t.exports={}).forEach=function(t,e){for(var r=0;r<t.length;r++){var n=e(t[r]);if(n)return n}}},9204:function(t,e,r){"use strict";var n=t.exports={};n.isIE=function(t){return(-1!==(e=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/"))&&(!t||t===function(){var t=3,e=document.createElement("div"),r=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(r[0]);return t>4?t:void 0}());var e},n.isLegacyOpera=function(){return!!window.opera}},9208:function(t,e){var r=1e3,n=6e4,i=60*n,o=24*i;function a(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,e){e=e||{};var s=typeof t;if("string"===s&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===s&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return a(t,e,o,"day");if(e>=i)return a(t,e,i,"hour");if(e>=n)return a(t,e,n,"minute");if(e>=r)return a(t,e,r,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=n)return Math.round(t/n)+"m";if(e>=r)return Math.round(t/r)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},9209:function(t,e,r){var n=r(8473);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},9210:function(t,e,r){var n=r(669),i=r(660);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},9211:function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},9212:function(t,e,r){var n=r(9213);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},9213:function(t,e,r){var n=r(7839),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},9214:function(t,e,r){var n=r(9939),i=r(9940);t.exports=function(t,e){return null!=t&&i(t,e,n)}},9215:function(t,e,r){var n=r(1102),i=r(9941),o=r(9943);t.exports=function(t){return o(i(t,void 0,n),t+"")}},9216:function(t,e,r){var n=r(1077),i=r(9217),o=r(9981),a=r(7951),s=r(8245),c=r(9984),l=r(9215),u=r(9226),h=l((function(t,e){var r={};if(null==t)return r;var l=!1;e=n(e,(function(e){return e=a(e,t),l||(l=e.length>1),e})),s(t,u(t),r),l&&(r=i(r,7,c));for(var h=e.length;h--;)o(r,e[h]);return r}));t.exports=h},9217:function(t,e,r){var n=r(8479),i=r(9218),o=r(8609),a=r(9952),s=r(9958),c=r(9961),l=r(9222),u=r(9962),h=r(9964),f=r(8619),p=r(9226),d=r(8246),m=r(9969),y=r(9970),v=r(9975),g=r(643),b=r(8480),k=r(9977),_=r(660),x=r(9979),S=r(7953),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,t.exports=function t(e,r,E,A,C,T){var P,D=1&r,O=2&r,M=4&r;if(E&&(P=C?E(e,A,C,T):E(e)),void 0!==P)return P;if(!_(e))return e;var F=g(e);if(F){if(P=m(e),!D)return l(e,P)}else{var B=d(e),I="[object Function]"==B||"[object GeneratorFunction]"==B;if(b(e))return c(e,D);if("[object Object]"==B||"[object Arguments]"==B||I&&!C){if(P=O||I?{}:v(e),!D)return O?h(e,s(P,e)):u(e,a(P,e))}else{if(!w[B])return C?e:{};P=y(e,B,D)}}T||(T=new n);var N=T.get(e);if(N)return N;T.set(e,P),x(e)?e.forEach((function(n){P.add(t(n,r,E,n,e,T))})):k(e)&&e.forEach((function(n,i){P.set(i,t(n,r,E,i,e,T))}));var R=M?O?p:f:O?keysIn:S,L=F?void 0:R(e);return i(L||e,(function(n,i){L&&(n=e[i=n]),o(P,i,t(n,r,E,i,e,T))})),P}},9218:function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},9219:function(t,e,r){var n=r(9953),i=r(1104),o=r(643),a=r(8480),s=r(8610),c=r(8613),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),u=!r&&i(t),h=!r&&!u&&a(t),f=!r&&!u&&!h&&c(t),p=r||u||h||f,d=p?n(t.length,String):[],m=d.length;for(var y in t)!e&&!l.call(t,y)||p&&("length"==y||h&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,m))||d.push(y);return d}},9220:function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},9221:function(t,e,r){var n=r(9219),i=r(9959),o=r(8481);t.exports=function(t){return o(t)?n(t,!0):i(t)}},9222:function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},9223:function(t,e){t.exports=function(){return[]}},9224:function(t,e,r){var n=r(1103),i=r(8618),o=r(8617),a=r(9223),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}:a;t.exports=s},9225:function(t,e,r){var n=r(1103),i=r(643);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},9226:function(t,e,r){var n=r(9225),i=r(9224),o=r(9221);t.exports=function(t){return n(t,o,i)}},9227:function(t,e){t.exports=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}},9228:function(t,e,r){var n=r(669),i=r(8618),o=r(360),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=l.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==u}},9242:function(t,e,r){"use strict";var n=r(7508),i=r(7598),o=r(7308).OrderedMap;t.exports=function(t){return t.first()instanceof n?function(t){var e,r={};return o(t.withMutations((function(t){t.forEach((function(n,o){var a=n.getKey(),s=n.getNextSiblingKey(),c=n.getPrevSiblingKey(),l=n.getChildKeys(),u=n.getParentKey(),h=i();(r[a]=h,s)&&(t.get(s)?t.setIn([s,"prevSibling"],h):t.setIn([a,"nextSibling"],null));c&&(t.get(c)?t.setIn([c,"nextSibling"],h):t.setIn([a,"prevSibling"],null));if(u&&t.get(u)){var f=t.get(u).getChildKeys();t.setIn([u,"children"],f.set(f.indexOf(n.getKey()),h))}else t.setIn([a,"parent"],null),e&&(t.setIn([e.getKey(),"nextSibling"],h),t.setIn([a,"prevSibling"],r[e.getKey()])),e=t.get(a);l.forEach((function(e){t.get(e)?t.setIn([e,"parent"],h):t.setIn([a,"children"],n.getChildKeys().filter((function(t){return t!==e})))}))}))})).toArray().map((function(t){return[r[t.getKey()],t.set("key",r[t.getKey()])]})))}(t):function(t){return o(t.toArray().map((function(t){var e=i();return[e,t.set("key",e)]})))}(t)}},9243:function(t,e,r){"use strict";var n=r(7507),i=r(8340),o=r(7314);function a(t,e,r){var a=e.getCharacterList(),s=r>0?a.get(r-1):void 0,c=r<a.count()?a.get(r):void 0,l=s?s.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===l&&"MUTABLE"!==t.__get(u).getMutability()){for(var h,f=function(t,e,r){var n;return i(t,(function(t,e){return t.getEntity()===e.getEntity()}),(function(t){return t.getEntity()===e}),(function(t,e){t<=r&&e>=r&&(n={start:t,end:e})})),"object"!=typeof n&&o(!1),n}(a,u,r),p=f.start,d=f.end;p<d;)h=a.get(p),a=a.set(p,n.applyEntity(h,null)),p++;return e.set("characterList",a)}return e}t.exports=function(t,e){var r=t.getBlockMap(),n=t.getEntityMap(),i={},o=e.getStartKey(),s=e.getStartOffset(),c=r.get(o),l=a(n,c,s);l!==c&&(i[o]=l);var u=e.getEndKey(),h=e.getEndOffset(),f=r.get(u);o===u&&(f=l);var p=a(n,f,h);return p!==f&&(i[u]=p),Object.keys(i).length?t.merge({blockMap:r.merge(i),selectionAfter:e}):t.set("selectionAfter",e)}},9244:function(t,e,r){"use strict";t.exports=function(t,e,r){var n=t;if(r===n.count())e.forEach((function(t){n=n.push(t)}));else if(0===r)e.reverse().forEach((function(t){n=n.unshift(t)}));else{var i=n.slice(0,r),o=n.slice(r);n=i.concat(e,o).toList()}return n}},9245:function(t,e,r){"use strict";var n=r(7308).Map;t.exports=function(t,e,r){var i=e.getStartKey(),o=e.getEndKey(),a=t.getBlockMap(),s=a.toSeq().skipUntil((function(t,e){return e===i})).takeUntil((function(t,e){return e===o})).concat(n([[o,a.get(o)]])).map(r);return t.merge({blockMap:a.merge(s),selectionBefore:e,selectionAfter:e})}},9246:function(t,e,r){"use strict";var n=r(7508);t.exports=function(t,e){if(!(t instanceof n))return null;var r=t.getNextSiblingKey();if(r)return r;var i=t.getParentKey();if(!i)return null;for(var o=e.get(i);o&&!o.getNextSiblingKey();){var a=o.getParentKey();o=a?e.get(a):null}return o?o.getNextSiblingKey():null}},9247:function(t,e,r){"use strict";var n=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.getType=function(){return this.get("type")},i.getMutability=function(){return this.get("mutability")},i.getData=function(){return this.get("data")},n}((0,r(7308).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));t.exports=n},9248:function(t,e,r){"use strict";var n=new RegExp("\r","g");t.exports=function(t){return t.replace(n,"")}},9249:function(t,e,r){"use strict";t.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},9250:function(t,e,r){"use strict";var n=r(7896);t.exports=function t(e){if(n(e)){var r=e,i=r.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<r.childNodes.length;o++){var a=t(r.childNodes[o]);if(a)return a}}return null}},9251:function(t,e,r){"use strict";t.exports=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window}},9252:function(t,e,r){"use strict";var n=r(9253),i=r(7323),o=r(9254),a=r(9255);t.exports=function(t){if(t._blockSelectEvents||t._latestEditorState!==t.props.editorState){if(t._blockSelectEvents){var e=t.props.editorState.getSelection();n.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(e.toJS())})}}else{var r=t.props.editorState,s=a(r,o(t)),c=s.selectionState;c!==r.getSelection()&&(r=s.needsRecovery?i.forceSelection(r,c):i.acceptSelection(r,c),t.update(r))}}},9253:function(t,e,r){"use strict";t.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},9254:function(t,e,r){"use strict";var n=r(7314),i=r(8341);t.exports=function(t){var e=t.editorContainer;return e||n(!1),i(e.firstChild)||n(!1),e.firstChild}},9255:function(t,e,r){"use strict";var n=r(9256);t.exports=function(t,e){var r=e.ownerDocument.defaultView.getSelection();return 0===r.rangeCount?{selectionState:t.getSelection().set("hasFocus",!1),needsRecovery:!1}:n(t,e,r.anchorNode,r.anchorOffset,r.focusNode,r.focusOffset)}},9256:function(t,e,r){"use strict";var n=r(8512),i=r(9250),o=r(9257),a=r(7314),s=r(7896),c=r(7447);function l(t,e,r){var o=e,l=n(o);(null!=l||t&&(t===o||t.firstChild===o)||a(!1),t===o)&&(o=o.firstChild,s(o)||a(!1),"true"!==(o=o).getAttribute("data-contents")&&a(!1),r>0&&(r=o.childNodes.length));if(0===r){var h=null;if(null!=l)h=l;else{var f=function(t){for(;t.firstChild&&(s(t.firstChild)&&"true"===t.firstChild.getAttribute("data-blocks")||i(t.firstChild));)t=t.firstChild;return t}(o);h=c(i(f))}return{key:h,offset:0}}var p=o.childNodes[r-1],d=null,m=null;if(i(p)){var y=function(t){for(;t.lastChild&&(s(t.lastChild)&&"true"===t.lastChild.getAttribute("data-blocks")||i(t.lastChild));)t=t.lastChild;return t}(p);d=c(i(y)),m=u(y)}else d=c(l),m=u(p);return{key:d,offset:m}}function u(t){var e=t.textContent;return"\n"===e?0:e.length}t.exports=function(t,e,r,i,a,s){var u=r.nodeType===Node.TEXT_NODE,h=a.nodeType===Node.TEXT_NODE;if(u&&h)return{selectionState:o(t,c(n(r)),i,c(n(a)),s),needsRecovery:!1};var f=null,p=null,d=!0;return u?(f={key:c(n(r)),offset:i},p=l(e,a,s)):h?(p={key:c(n(a)),offset:s},f=l(e,r,i)):(f=l(e,r,i),p=l(e,a,s),r===a&&i===s&&(d=!!r.firstChild&&"BR"!==r.firstChild.nodeName)),{selectionState:o(t,f.key,f.offset,p.key,p.offset),needsRecovery:d}}},9257:function(t,e,r){"use strict";var n=r(7653),i=r(7447);t.exports=function(t,e,r,o,a){var s=i(t.getSelection()),c=n.decode(e),l=c.blockKey,u=t.getBlockTree(l),h=u&&u.getIn([c.decoratorKey,"leaves",c.leafKey]),f=n.decode(o),p=f.blockKey,d=t.getBlockTree(p),m=d&&d.getIn([f.decoratorKey,"leaves",f.leafKey]);if(!h||!m)return s;var y=h.get("start"),v=m.get("start"),g=h?y+r:null,b=m?v+a:null;if(s.getAnchorKey()===l&&s.getAnchorOffset()===g&&s.getFocusKey()===p&&s.getFocusOffset()===b)return s;var k=!1;if(l===p){var _=h.get("end"),x=m.get("end");k=v===y&&x===_?a<r:v<y}else{k=t.getCurrentContent().getBlockMap().keySeq().skipUntil((function(t){return t===l||t===p})).first()===p}return s.merge({anchorKey:l,anchorOffset:g,focusKey:p,focusOffset:b,isBackward:k})}},9258:function(t,e,r){"use strict";t.exports={notEmptyKey:function(t){return null!=t&&""!=t}}},9259:function(t,e,r){"use strict";var n=r(351);function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r(10075),s=r(0),c=r(7314),l=r(9260),u=r(10076).setDraftEditorSelection,h=function(t){var e,r;function h(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return o(i(e=t.call.apply(t,[this].concat(n))||this),"leaf",void 0),e}r=t,(e=h).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var f=h.prototype;return f._setSelection=function(){var t=this.props.selection;if(null!=t&&t.getHasFocus()){var e=this.props,r=e.block,n=e.start,i=e.text,o=r.getKey(),a=n+i.length;if(t.hasEdgeWithin(o,n,a)){var s=this.leaf;s||c(!1);var h,f=s.firstChild;f||c(!1),f.nodeType===Node.TEXT_NODE?h=f:l(f)?h=s:(h=f.firstChild)||c(!1),u(t,h,o,n,a)}}},f.shouldComponentUpdate=function(t){var e=this.leaf;return e||c(!1),e.textContent!==t.text||t.styleSet!==this.props.styleSet||t.forceSelection},f.componentDidUpdate=function(){this._setSelection()},f.componentDidMount=function(){this._setSelection()},f.render=function(){var t=this,e=this.props.block,r=this.props.text;r.endsWith("\n")&&this.props.isLast&&(r+="\n");var i=this.props,o=i.customStyleMap,c=i.customStyleFn,l=i.offsetKey,u=i.styleSet,h=u.reduce((function(t,e){var r={},i=o[e];return void 0!==i&&t.textDecoration!==i.textDecoration&&(r.textDecoration=[t.textDecoration,i.textDecoration].join(" ").trim()),n(t,i,r)}),{});if(c){var f=c(u,e);h=n(h,f)}return s.createElement("span",{"data-offset-key":l,ref:function(e){return t.leaf=e},style:h},s.createElement(a,null,r))},h}(s.Component);t.exports=h},9260:function(t,e,r){"use strict";var n=r(7896);t.exports=function(t){return!(!t||!t.ownerDocument)&&(n(t)&&"BR"===t.nodeName)}},9261:function(t,e,r){"use strict";t.exports={initODS:function(){},handleExtensionCausedError:function(){}}},9262:function(t,e,r){"use strict";t.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},9263:function(t,e,r){"use strict";var n=r(10082);t.exports=function(t){var e=n(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}},9264:function(t,e,r){"use strict";function n(){var t;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}function i(){var t;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function o(){return{width:window.innerWidth||n(),height:window.innerHeight||i()}}o.withoutScrollbars=function(){return{width:n(),height:i()}},t.exports=o},9265:function(t,e,r){"use strict";var n=r(351);function i(){return(i=n||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(9259),c=r(7653),l=r(0),u=r(8896),h=r(8515),f=r(8893),p=r(8511),d=r(7895),m=r(9263),y=r(8516),v=r(9264),g=r(7314),b=r(8341),k=r(7447),_=function(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e},x=function(t){var e,r;function n(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a(o(e=t.call.apply(t,[this].concat(n))||this),"_node",void 0),e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var x=n.prototype;return x.shouldComponentUpdate=function(t){return this.props.block!==t.block||this.props.tree!==t.tree||this.props.direction!==t.direction||_(t.selection,t.block.getKey())&&t.forceSelection},x.componentDidMount=function(){if(!this.props.preventScroll){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var r=this._node;if(null!=r){var n,i=h.getScrollParent(r),o=y(i);if(i===window){var a=m(r);(n=a.y+a.height-v().height)>0&&window.scrollTo(o.x,o.y+n+10)}else{b(r)||g(!1),(n=r.offsetHeight+r.offsetTop-(i.offsetTop+i.offsetHeight+o.y))>0&&u.setTop(i,u.getTop(i)+n+10)}}}}},x._renderChildren=function(){var t=this,e=this.props.block,r=e.getKey(),n=e.getText(),o=this.props.tree.size-1,a=_(this.props.selection,r);return this.props.tree.map((function(u,h){var d=u.get("leaves");if(0===d.size)return null;var m=d.size-1,y=d.map((function(i,u){var f=c.encode(r,h,u),p=i.get("start"),d=i.get("end");return l.createElement(s,{key:f,offsetKey:f,block:e,start:p,selection:a?t.props.selection:null,forceSelection:t.props.forceSelection,text:n.slice(p,d),styleSet:e.getInlineStyleAt(p),customStyleMap:t.props.customStyleMap,customStyleFn:t.props.customStyleFn,isLast:h===o&&u===m})})).toArray(),v=u.get("decoratorKey");if(null==v)return y;if(!t.props.decorator)return y;var g=k(t.props.decorator),b=g.getComponentForKey(v);if(!b)return y;var _=g.getPropsForKey(v),x=c.encode(r,h,0),S=d.first().get("start"),w=d.last().get("end"),E=n.slice(S,w),A=e.getEntityAt(u.get("start")),C=p.getHTMLDirIfDifferent(f.getDirection(E),t.props.direction),T={contentState:t.props.contentState,decoratedText:E,dir:C,start:S,end:w,blockKey:r,entityKey:A,offsetKey:x};return l.createElement(b,i({},_,T,{key:x}),y)})).toArray()},x.render=function(){var t=this,e=this.props,r=e.direction,n=e.offsetKey,i=d({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===r,"public/DraftStyleDefault/rtl":"RTL"===r});return l.createElement("div",{"data-offset-key":n,className:i,ref:function(e){return t._node=e}},this._renderChildren())},n}(l.Component);t.exports=x},9266:function(t,e,r){"use strict";var n=r(10088),i=r(10089),o=r(9267),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(t){if("file"==t.kind)return t.getAsFile()}var l=function(){function t(t){this.data=t,this.types=t.types?i(t.types):[]}var e=t.prototype;return e.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(t){return s[t]}))},e.getText=function(){var t;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(t=this.data.getData("text/plain")):t=this.data.getData("Text")),t?t.replace(a,"\n"):null},e.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},e.isLink=function(){return this.types.some((function(t){return-1!=t.indexOf("Url")||-1!=t.indexOf("text/uri-list")||t.indexOf("text/x-moz-url")}))},e.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},e.isImage=function(){var t=this.types.some((function(t){return-1!=t.indexOf("application/x-moz-file")}));if(t)return!0;for(var e=this.getFiles(),r=0;r<e.length;r++){var i=e[r].type;if(!n.isImage(i))return!1}return!0},e.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.hasFiles=function(){return this.getFiles().length>0},t}();t.exports=l},9267:function(t,e,r){"use strict";function n(t){return function(){return t}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},9268:function(t,e,r){"use strict";(function(e){var n=r(7314),i=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0};t.exports=function(t,r){var a=0,s=[];t.forEach((function(c){!function(t,r){if(!e.FileReader||t.type&&!(t.type in o))return void r("");if(""===t.type){var a="";return i.test(t.name)&&(a=t.name.replace(i,"")),void r(a)}var s=new FileReader;s.onload=function(){var t=s.result;"string"!=typeof t&&n(!1),r(t)},s.onerror=function(){r("")},s.readAsText(t)}(c,(function(e){a++,e&&s.push(e.slice(0,5e3)),a==t.length&&r(s.join("\r"))}))}))}}).call(this,r(35))},9269:function(t,e,r){"use strict";var n=r(8508);t.exports=function(t){var e=t.getSelection();return e.isCollapsed()?null:n(t.getCurrentContent(),e)}},9270:function(t,e,r){"use strict";var n=r(7484),i=r(7314);var o=n.isBrowser("Chrome")?function(t){for(var e=t.cloneRange(),r=[],n=t.endContainer;null!=n;n=n.parentNode){var o=n===t.commonAncestorContainer;o?e.setStart(t.startContainer,t.startOffset):e.setStart(e.endContainer,0);var a,s=Array.from(e.getClientRects());if(r.push(s),o)return r.reverse(),(a=[]).concat.apply(a,r);e.setEndBefore(n)}i(!1)}:function(t){return Array.from(t.getClientRects())};t.exports=o},9271:function(t,e,r){"use strict";var n="\\s|(?![_])"+r(10107).getPunctuation(),i=new RegExp("^(?:"+n+")*(?:['‘’]|(?!"+n+").)*(?:(?!"+n+").)"),o=new RegExp("(?:(?!"+n+").)(?:['‘’]|(?!"+n+").)*(?:"+n+")*$");function a(t,e){var r=e?o.exec(t):i.exec(t);return r?r[0]:t}var s={getBackward:function(t){return a(t,!0)},getForward:function(t){return a(t,!1)}};t.exports=s},9272:function(t,e,r){"use strict";r(8898);t.exports=function(t,e){var r,n=t.getSelection(),i=n.getStartKey(),o=n.getStartOffset(),a=t.getCurrentContent(),s=i;return e>a.getBlockForKey(i).getText().length-o?(s=a.getKeyAfter(i),r=0):r=o+e,n.merge({focusKey:s,focusOffset:r})}},9273:function(t,e,r){"use strict";var n;function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){o(t,e,r[e])}))}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r(7507),s=r(7894),c=r(7508),l=r(8894),u=r(8509),h=r(10112),f=r(7895),p=r(7598),d=r(9274),m=r(7724),y=r(7308),v=y.List,g=y.Map,b=y.OrderedSet,k=r(10113),_=r(9260),x=r(8341),S=r(10114),w=m("draft_tree_data_support"),E=new RegExp("\r","g"),A=new RegExp("\n","g"),C=new RegExp("^\n","g"),T=new RegExp("&nbsp;","g"),P=new RegExp("&#13;?","g"),D=new RegExp("&#8203;?","g"),O=["bold","bolder","500","600","700","800","900"],M=["light","lighter","normal","100","200","300","400"],F=["className","href","rel","target","title"],B=["alt","className","height","src","width"],I=(o(n={},f("public/DraftStyleDefault/depth0"),0),o(n,f("public/DraftStyleDefault/depth1"),1),o(n,f("public/DraftStyleDefault/depth2"),2),o(n,f("public/DraftStyleDefault/depth3"),3),o(n,f("public/DraftStyleDefault/depth4"),4),n),N=g({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),R=function(t){var e={};return t.mapKeys((function(t,r){var n=[r.element];void 0!==r.aliasedElements&&n.push.apply(n,r.aliasedElements),n.forEach((function(r){void 0===e[r]?e[r]=t:"string"==typeof e[r]?e[r]=[e[r],t]:e[r].push(t)}))})),g(e)},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(I).some((function(r){t.classList.contains(r)&&(e=I[r])})),e},j=function(t){if(!k(t))return!1;var e=t;return!(!e.href||"http:"!==e.protocol&&"https:"!==e.protocol&&"mailto:"!==e.protocol)},z=function(t){if(!S(t))return!1;var e=t;return!(!e.attributes.getNamedItem("src")||!e.attributes.getNamedItem("src").value)},K=function(t,e){if(!x(t))return e;var r=t,n=r.style.fontWeight,i=r.style.fontStyle,o=r.style.textDecoration;return e.withMutations((function(t){O.indexOf(n)>=0?t.add("BOLD"):M.indexOf(n)>=0&&t.remove("BOLD"),"italic"===i?t.add("ITALIC"):"normal"===i&&t.remove("ITALIC"),"underline"===o&&t.add("UNDERLINE"),"line-through"===o&&t.add("STRIKETHROUGH"),"none"===o&&(t.remove("UNDERLINE"),t.remove("STRIKETHROUGH"))}))},V=function(t){return"ul"===t||"ol"===t},G=function(){function t(t,e){o(this,"characterList",v()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",u),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=t,this.disambiguate=e}var e=t.prototype;return e.clear=function(){this.characterList=v(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=u,this.wrapper=null,this.contentBlocks=[]},e.addDOMNode=function(t){var e;return this.contentBlocks=[],this.currentDepth=0,(e=this.blockConfigs).push.apply(e,this._toBlockConfigs([t],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},e.getContentBlocks=function(){return 0===this.contentBlocks.length&&(w?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},e._makeBlockConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key||p(),r=i({key:e,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:v(),prevSibling:null,nextSibling:null,childConfigs:[]},t);return this.characterList=v(),this.currentBlockType="unstyled",this.currentText="",r},e._toBlockConfigs=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n],o=i.nodeName.toLowerCase();if("body"===o||V(o)){this._trimCurrentText(),""!==this.currentText&&r.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;V(o)&&(this.wrapper=o,V(s)&&this.currentDepth++),r.push.apply(r,this._toBlockConfigs(Array.from(i.childNodes),e)),this.currentDepth=a,this.wrapper=s}else{var c=this.blockTypeMap.get(o);if(void 0===c)if("#text"!==o)if("br"!==o)if(z(i))this._addImgNode(i,e);else if(j(i))this._addAnchorNode(i,r,e);else{var l=e;N.has(o)&&(l=l.add(N.get(o))),l=K(i,l),r.push.apply(r,this._toBlockConfigs(Array.from(i.childNodes),l))}else this._addBreakNode(i,e);else this._addTextNode(i,e);else{this._trimCurrentText(),""!==this.currentText&&r.push(this._makeBlockConfig());var u=this.currentDepth,h=this.wrapper;if(this.wrapper="pre"===o?"pre":this.wrapper,"string"!=typeof c&&(c=this.disambiguate(o,this.wrapper)||c[0]||"unstyled"),!w&&x(i)&&("unordered-list-item"===c||"ordered-list-item"===c)){var f=i;this.currentDepth=L(f,this.currentDepth)}var d=p(),m=this._toBlockConfigs(Array.from(i.childNodes),e);this._trimCurrentText(),r.push(this._makeBlockConfig({key:d,childConfigs:m,type:c})),this.currentDepth=u,this.wrapper=h}}}return r},e._appendText=function(t,e){var r;this.currentText+=t;var n=a.create({style:e,entity:this.currentEntity});this.characterList=(r=this.characterList).push.apply(r,Array(t.length).fill(n))},e._trimCurrentText=function(){var t=this.currentText.length,e=t-this.currentText.trimLeft().length,r=this.currentText.trimRight().length,n=this.characterList.findEntry((function(t){return null!==t.getEntity()}));(e=void 0!==n?Math.min(e,n[0]):e)>(r=void 0!==(n=this.characterList.reverse().findEntry((function(t){return null!==t.getEntity()})))?Math.max(r,t-n[0]):r)?(this.currentText="",this.characterList=v()):(this.currentText=this.currentText.slice(e,r),this.characterList=this.characterList.slice(e,r))},e._addTextNode=function(t,e){var r=t.textContent;""===r.trim()&&"pre"!==this.wrapper&&(r=" "),"pre"!==this.wrapper&&(r=(r=r.replace(C,"")).replace(A," ")),this._appendText(r,e)},e._addBreakNode=function(t,e){_(t)&&this._appendText("\n",e)},e._addImgNode=function(t,e){if(S(t)){var r=t,n={};B.forEach((function(t){var e=r.getAttribute(t);e&&(n[t]=e)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",n),m("draftjs_fix_paste_for_img")?"presentation"!==r.getAttribute("role")&&this._appendText("📷",e):this._appendText("📷",e),this.currentEntity=null}},e._addAnchorNode=function(t,e,r){if(k(t)){var n=t,i={};F.forEach((function(t){var e=n.getAttribute(t);e&&(i[t]=e)})),i.url=new h(n.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",i||{}),e.push.apply(e,this._toBlockConfigs(Array.from(t.childNodes),r)),this.currentEntity=null}},e._toContentBlocks=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.length-1,n=0;n<=r;n++){var o=t[n];o.parent=e,o.prevSibling=n>0?t[n-1].key:null,o.nextSibling=n<r?t[n+1].key:null,o.children=v(o.childConfigs.map((function(t){return t.key}))),this.contentBlocks.push(new c(i({},o))),this._toContentBlocks(o.childConfigs,o.key)}},e._hoistContainersInBlockConfigs=function(t){var e=this;return v(t).flatMap((function(t){return"unstyled"!==t.type||""!==t.text?[t]:e._hoistContainersInBlockConfigs(t.childConfigs)}))},e._toFlatContentBlocks=function(t){var e=this;this._hoistContainersInBlockConfigs(t).forEach((function(t){var r=e._extractTextFromBlockConfigs(t.childConfigs),n=r.text,o=r.characterList;e.contentBlocks.push(new s(i({},t,{text:t.text+n,characterList:t.characterList.concat(o)})))}))},e._extractTextFromBlockConfigs=function(t){for(var e=t.length-1,r="",n=v(),i=0;i<=e;i++){var o=t[i];r+=o.text,n=n.concat(o.characterList),""!==r&&"unstyled"!==o.type&&(r+="\n",n=n.push(n.last()));var a=this._extractTextFromBlockConfigs(o.childConfigs);r+=a.text,n=n.concat(a.characterList)}return{text:r,characterList:n}},t}();t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,n=e(t=t.trim().replace(E,"").replace(T," ").replace(P,"").replace(D,""));if(!n)return null;var i=R(r),o=function(t,e){return"li"===t?"ol"===e?"ordered-list-item":"unordered-list-item":null};return new G(i,o).addDOMNode(n).getContentBlocks()}},9274:function(t,e,r){"use strict";var n=r(7484),i=r(7314),o=n.isBrowser("IE <= 9");t.exports=function(t){var e,r=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((e=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),e.documentElement.innerHTML=t,r=e.getElementsByTagName("body")[0]),r}},9275:function(t,e,r){"use strict";var n=r(7446),i=r(7323),o=r(10115),a=r(7447),s={currentBlockContainsLink:function(t){var e=t.getSelection(),r=t.getCurrentContent(),n=r.getEntityMap();return r.getBlockForKey(e.getAnchorKey()).getCharacterList().slice(e.getStartOffset(),e.getEndOffset()).some((function(t){var e=t.getEntity();return!!e&&"LINK"===n.__get(e).getType()}))},getCurrentBlockType:function(t){var e=t.getSelection();return t.getCurrentContent().getBlockForKey(e.getStartKey()).getType()},getDataObjectForLinkURL:function(t){return{url:t.toString()}},handleKeyCommand:function(t,e,r){switch(e){case"bold":return s.toggleInlineStyle(t,"BOLD");case"italic":return s.toggleInlineStyle(t,"ITALIC");case"underline":return s.toggleInlineStyle(t,"UNDERLINE");case"code":return s.toggleCode(t);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(t);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(t);default:return null}},insertSoftNewline:function(t){var e=n.insertText(t.getCurrentContent(),t.getSelection(),"\n",t.getCurrentInlineStyle(),null),r=i.push(t,e,"insert-characters");return i.forceSelection(r,e.getSelectionAfter())},onBackspace:function(t){var e=t.getSelection();if(!e.isCollapsed()||e.getAnchorOffset()||e.getFocusOffset())return null;var r=t.getCurrentContent(),n=e.getStartKey(),o=r.getBlockBefore(n);if(o&&"atomic"===o.getType()){var a=r.getBlockMap().delete(o.getKey()),c=r.merge({blockMap:a,selectionAfter:e});if(c!==r)return i.push(t,c,"remove-range")}var l=s.tryToRemoveBlockStyle(t);return l?i.push(t,l,"change-block-type"):null},onDelete:function(t){var e=t.getSelection();if(!e.isCollapsed())return null;var r=t.getCurrentContent(),o=e.getStartKey(),a=r.getBlockForKey(o).getLength();if(e.getStartOffset()<a)return null;var s=r.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var c=e.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),l=n.removeRange(r,c,"forward");return l!==r?i.push(t,l,"remove-range"):null},onTab:function(t,e,r){var n=e.getSelection(),a=n.getAnchorKey();if(a!==n.getFocusKey())return e;var s=e.getCurrentContent(),c=s.getBlockForKey(a),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return e;t.preventDefault();var u=c.getDepth();if(!t.shiftKey&&u===r)return e;var h=o(s,n,t.shiftKey?-1:1,r);return i.push(e,h,"adjust-depth")},toggleBlockType:function(t,e){var r=t.getSelection(),o=r.getStartKey(),s=r.getEndKey(),c=t.getCurrentContent(),l=r;if(o!==s&&0===r.getEndOffset()){var u=a(c.getBlockBefore(s));s=u.getKey(),l=l.merge({anchorKey:o,anchorOffset:r.getStartOffset(),focusKey:s,focusOffset:u.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(t,e){return e!==o})).reverse().skipWhile((function(t,e){return e!==s})).some((function(t){return"atomic"===t.getType()})))return t;var h=c.getBlockForKey(o).getType()===e?"unstyled":e;return i.push(t,n.setBlockType(c,l,h),"change-block-type")},toggleCode:function(t){var e=t.getSelection(),r=e.getAnchorKey(),n=e.getFocusKey();return e.isCollapsed()||r!==n?s.toggleBlockType(t,"code-block"):s.toggleInlineStyle(t,"CODE")},toggleInlineStyle:function(t,e){var r=t.getSelection(),o=t.getCurrentInlineStyle();if(r.isCollapsed())return i.setInlineStyleOverride(t,o.has(e)?o.remove(e):o.add(e));var a,s=t.getCurrentContent();return a=o.has(e)?n.removeInlineStyle(s,r,e):n.applyInlineStyle(s,r,e),i.push(t,a,"change-inline-style")},toggleLink:function(t,e,r){var o=n.applyEntity(t.getCurrentContent(),e,r);return i.push(t,o,"apply-entity")},tryToRemoveBlockStyle:function(t){var e=t.getSelection(),r=e.getAnchorOffset();if(e.isCollapsed()&&0===r){var i=e.getAnchorKey(),o=t.getCurrentContent(),a=o.getBlockForKey(i).getType(),s=o.getBlockBefore(i);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return n.setBlockType(o,e,"unstyled")}return null}};t.exports=s},9276:function(t,e,r){"use strict";var n={stringify:function(t){return"_"+String(t)},unstringify:function(t){return t.slice(1)}};t.exports=n},9837:function(t,e,r){"use strict";var n=r(9203).forEach,i=r(9838),o=r(9839),a=r(9840),s=r(9841),c=r(9842),l=r(9204),u=r(9843),h=r(9845),f=r(9846),p=r(9847);function d(t){return Array.isArray(t)||void 0!==t.length}function m(t){if(Array.isArray(t))return t;var e=[];return n(t,(function(t){e.push(t)})),e}function y(t){return t&&1===t.nodeType}function v(t,e,r){var n=t[e];return null==n&&void 0!==r?r:n}t.exports=function(t){var e;if((t=t||{}).idHandler)e={get:function(e){return t.idHandler.get(e,!0)},set:t.idHandler.set};else{var r=a(),g=s({idGenerator:r,stateHandler:h});e=g}var b=t.reporter;b||(b=c(!1===b));var k=v(t,"batchProcessor",u({reporter:b})),_={};_.callOnAdd=!!v(t,"callOnAdd",!0),_.debug=!!v(t,"debug",!1);var x,S=o(e),w=i({stateHandler:h}),E=v(t,"strategy","object"),A=v(t,"important",!1),C={reporter:b,batchProcessor:k,stateHandler:h,idHandler:e,important:A};if("scroll"===E&&(l.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),E="object"):l.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),E="object")),"scroll"===E)x=p(C);else{if("object"!==E)throw new Error("Invalid strategy name: "+E);x=f(C)}var T={};return{listenTo:function(t,r,i){function o(t){var e=S.get(t);n(e,(function(e){e(t)}))}function a(t,e,r){S.add(e,r),t&&r(e)}if(i||(i=r,r=t,t={}),!r)throw new Error("At least one element required.");if(!i)throw new Error("Listener required.");if(y(r))r=[r];else{if(!d(r))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");r=m(r)}var s=0,c=v(t,"callOnAdd",_.callOnAdd),l=v(t,"onReady",(function(){})),u=v(t,"debug",_.debug);n(r,(function(t){h.getState(t)||(h.initState(t),e.set(t));var f=e.get(t);if(u&&b.log("Attaching listener to element",f,t),!w.isDetectable(t))return u&&b.log(f,"Not detectable."),w.isBusy(t)?(u&&b.log(f,"System busy making it detectable"),a(c,t,i),T[f]=T[f]||[],void T[f].push((function(){++s===r.length&&l()}))):(u&&b.log(f,"Making detectable..."),w.markBusy(t,!0),x.makeDetectable({debug:u,important:A},t,(function(t){if(u&&b.log(f,"onElementDetectable"),h.getState(t)){w.markAsDetectable(t),w.markBusy(t,!1),x.addListener(t,o),a(c,t,i);var e=h.getState(t);if(e&&e.startSize){var p=t.offsetWidth,d=t.offsetHeight;e.startSize.width===p&&e.startSize.height===d||o(t)}T[f]&&n(T[f],(function(t){t()}))}else u&&b.log(f,"Element uninstalled before being detectable.");delete T[f],++s===r.length&&l()})));u&&b.log(f,"Already detecable, adding listener."),a(c,t,i),s++})),s===r.length&&l()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(t){if(!t)return b.error("At least one element is required.");if(y(t))t=[t];else{if(!d(t))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=m(t)}n(t,(function(t){S.removeAllListeners(t),x.uninstall(t),h.cleanState(t)}))},initDocument:function(t){x.initDocument&&x.initDocument(t)}}}},9838:function(t,e,r){"use strict";t.exports=function(t){var e=t.stateHandler.getState;return{isDetectable:function(t){var r=e(t);return r&&!!r.isDetectable},markAsDetectable:function(t){e(t).isDetectable=!0},isBusy:function(t){return!!e(t).busy},markBusy:function(t,r){e(t).busy=!!r}}}},9839:function(t,e,r){"use strict";t.exports=function(t){var e={};function r(r){var n=t.get(r);return void 0===n?[]:e[n]||[]}return{get:r,add:function(r,n){var i=t.get(r);e[i]||(e[i]=[]),e[i].push(n)},removeListener:function(t,e){for(var n=r(t),i=0,o=n.length;i<o;++i)if(n[i]===e){n.splice(i,1);break}},removeAllListeners:function(t){var e=r(t);e&&(e.length=0)}}}},9840:function(t,e,r){"use strict";t.exports=function(){var t=1;return{generate:function(){return t++}}}},9841:function(t,e,r){"use strict";t.exports=function(t){var e=t.idGenerator,r=t.stateHandler.getState;return{get:function(t){var e=r(t);return e&&void 0!==e.id?e.id:null},set:function(t){var n=r(t);if(!n)throw new Error("setId required the element to have a resize detection state.");var i=e.generate();return n.id=i,i}}}},9842:function(t,e,r){"use strict";t.exports=function(t){function e(){}var r={log:e,warn:e,error:e};if(!t&&window.console){var n=function(t,e){t[e]=function(){var t=console[e];if(t.apply)t.apply(console,arguments);else for(var r=0;r<arguments.length;r++)t(arguments[r])}};n(r,"log"),n(r,"warn"),n(r,"error")}return r}},9843:function(t,e,r){"use strict";var n=r(9844);function i(){var t={},e=0,r=0,n=0;return{add:function(i,o){o||(o=i,i=0),i>r?r=i:i<n&&(n=i),t[i]||(t[i]=[]),t[i].push(o),e++},process:function(){for(var e=n;e<=r;e++)for(var i=t[e],o=0;o<i.length;o++){(0,i[o])()}},size:function(){return e}}}t.exports=function(t){var e=(t=t||{}).reporter,r=n.getOption(t,"async",!0),o=n.getOption(t,"auto",!0);o&&!r&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a,s=i(),c=!1;function l(){for(c=!0;s.size();){var t=s;s=i(),t.process()}c=!1}function u(){var t;t=l,a=setTimeout(t,0)}return{add:function(t,e){!c&&o&&r&&0===s.size()&&u(),s.add(t,e)},force:function(t){c||(void 0===t&&(t=r),a&&(clearTimeout(a),a=null),t?u():l())}}}},9844:function(t,e,r){"use strict";(t.exports={}).getOption=function(t,e,r){var n=t[e];if(null==n&&void 0!==r)return r;return n}},9845:function(t,e,r){"use strict";function n(t){return t._erd}t.exports={initState:function(t){return t._erd={},n(t)},getState:n,cleanState:function(t){delete t._erd}}},9846:function(t,e,r){"use strict";var n=r(9204);t.exports=function(t){var e=(t=t||{}).reporter,r=t.batchProcessor,i=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function o(e){var r=t.important?" !important; ":"; ";return(e.join(r)+r).trim()}function a(t){return i(t).object}return{makeDetectable:function(t,a,s){s||(s=a,a=t,t=null),(t=t||{}).debug,n.isIE(8)?s(a):function(a,s){var c=o(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),l=!1,u=window.getComputedStyle(a),h=a.offsetWidth,f=a.offsetHeight;function p(){function r(){if("static"===u.position){a.style.setProperty("position","relative",t.important?"important":"");var r=function(e,r,n,i){var o=n[i];"auto"!==o&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",r),r.style.setProperty(i,"0",t.important?"important":""))};r(e,a,u,"top"),r(e,a,u,"right"),r(e,a,u,"bottom"),r(e,a,u,"left")}}""!==u.position&&(r(),l=!0);var o=document.createElement("object");o.style.cssText=c,o.tabIndex=-1,o.type="text/html",o.setAttribute("aria-hidden","true"),o.onload=function(){l||r(),function t(e,r){if(!e.contentDocument){var n=i(e);return n.checkForObjectDocumentTimeoutId&&window.clearTimeout(n.checkForObjectDocumentTimeoutId),void(n.checkForObjectDocumentTimeoutId=setTimeout((function(){n.checkForObjectDocumentTimeoutId=0,t(e,r)}),100))}r(e.contentDocument)}(this,(function(t){s(a)}))},n.isIE()||(o.data="about:blank"),i(a)&&(a.appendChild(o),i(a).object=o,n.isIE()&&(o.data="about:blank"))}i(a).startSize={width:h,height:f},r?r.add(p):p()}(a,s)},addListener:function(t,e){function r(){e(t)}if(n.isIE(8))i(t).object={proxy:r},t.attachEvent("onresize",r);else{var o=a(t);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",r)}},uninstall:function(t){if(i(t)){var e=a(t);e&&(n.isIE(8)?t.detachEvent("onresize",e.proxy):t.removeChild(e),i(t).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(t).checkForObjectDocumentTimeoutId),delete i(t).object)}}}}},9847:function(t,e,r){"use strict";var n=r(9203).forEach;t.exports=function(t){var e=(t=t||{}).reporter,r=t.batchProcessor,i=t.stateHandler.getState,o=(t.stateHandler.hasState,t.idHandler);if(!r)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var a=function(){var t=document.createElement("div");t.style.cssText=c(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var e=document.createElement("div");e.style.cssText=c(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),e.appendChild(t),document.body.insertBefore(e,document.body.firstChild);var r=500-e.clientWidth,n=500-e.clientHeight;return document.body.removeChild(e),{width:r,height:n}}();function s(t){!function(t,e,r){if(!t.getElementById(e)){var n=r+"_animation",i=r+"_animation_active",o="/* Created by the element-resize-detector library. */\n";o+="."+r+" > div::-webkit-scrollbar { "+c(["display: none"])+" }\n\n",o+="."+i+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+n,"animation-name: "+n])+" }\n",o+="@-webkit-keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(r,n){n=n||function(e){t.head.appendChild(e)};var i=t.createElement("style");i.innerHTML=r,i.id=e,n(i)}(o+="@keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(t,"erd_scroll_detection_scrollbar_style","erd_scroll_detection_container")}function c(e){var r=t.important?" !important; ":"; ";return(e.join(r)+r).trim()}function l(t,r,n){if(t.addEventListener)t.addEventListener(r,n);else{if(!t.attachEvent)return e.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+r,n)}}function u(t,r,n){if(t.removeEventListener)t.removeEventListener(r,n);else{if(!t.detachEvent)return e.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+r,n)}}function h(t){return i(t).container.childNodes[0].childNodes[0].childNodes[0]}function f(t){return i(t).container.childNodes[0].childNodes[0].childNodes[1]}return s(window.document),{makeDetectable:function(t,s,u){function p(){if(t.debug){var r=Array.prototype.slice.call(arguments);if(r.unshift(o.get(s),"Scroll: "),e.log.apply)e.log.apply(null,r);else for(var n=0;n<r.length;n++)e.log(r[n])}}function d(t){var e=i(t).container.childNodes[0],r=window.getComputedStyle(e);return!r.width||-1===r.width.indexOf("px")}function m(){var t=window.getComputedStyle(s),e={};return e.position=t.position,e.width=s.offsetWidth,e.height=s.offsetHeight,e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left,e.widthCSS=t.width,e.heightCSS=t.height,e}function y(){if(p("storeStyle invoked."),i(s)){var t=m();i(s).style=t}else p("Aborting because element has been uninstalled")}function v(t,e,r){i(t).lastWidth=e,i(t).lastHeight=r}function g(){return 2*a.width+1}function b(){return 2*a.height+1}function k(t){return t+10+g()}function _(t){return t+10+b()}function x(t,e,r){var n=h(t),i=f(t),o=k(e),a=_(r),s=function(t){return 2*t+g()}(e),c=function(t){return 2*t+b()}(r);n.scrollLeft=o,n.scrollTop=a,i.scrollLeft=s,i.scrollTop=c}function S(){var t=i(s).container;if(!t){(t=document.createElement("div")).className="erd_scroll_detection_container",t.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),i(s).container=t,function(t){t.className+=" erd_scroll_detection_container_animation_active"}(t),s.appendChild(t);var e=function(){i(s).onRendered&&i(s).onRendered()};l(t,"animationstart",e),i(s).onAnimationStart=e}return t}function w(){if(p("Injecting elements"),i(s)){!function(){var r=i(s).style;if("static"===r.position){s.style.setProperty("position","relative",t.important?"important":"");var n=function(t,e,r,n){var i=r[n];"auto"!==i&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(i)&&(t.warn("An element that is positioned static has style."+n+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",e),e.style[n]=0)};n(e,s,r,"top"),n(e,s,r,"right"),n(e,s,r,"bottom"),n(e,s,r,"left")}}();var r=i(s).container;r||(r=S());var n,o,u,h,f=a.width,d=a.height,m=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),y=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(n=(n=-(1+f))?n+"px":"0"),"top: "+(o=(o=-(1+d))?o+"px":"0"),"right: "+(h=(h=-f)?h+"px":"0"),"bottom: "+(u=(u=-d)?u+"px":"0")])),v=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),g=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=c(["position: absolute","left: 0","top: 0"]),k=c(["position: absolute","width: 200%","height: 200%"]),_=document.createElement("div"),x=document.createElement("div"),w=document.createElement("div"),E=document.createElement("div"),A=document.createElement("div"),C=document.createElement("div");_.dir="ltr",_.style.cssText=m,_.className="erd_scroll_detection_container",x.className="erd_scroll_detection_container",x.style.cssText=y,w.style.cssText=v,E.style.cssText=b,A.style.cssText=g,C.style.cssText=k,w.appendChild(E),A.appendChild(C),x.appendChild(w),x.appendChild(A),_.appendChild(x),r.appendChild(_),l(w,"scroll",T),l(A,"scroll",P),i(s).onExpandScroll=T,i(s).onShrinkScroll=P}else p("Aborting because element has been uninstalled");function T(){i(s).onExpand&&i(s).onExpand()}function P(){i(s).onShrink&&i(s).onShrink()}}function E(){function a(e,r,n){var i=function(t){return h(t).childNodes[0]}(e),o=k(r),a=_(n);i.style.setProperty("width",o+"px",t.important?"important":""),i.style.setProperty("height",a+"px",t.important?"important":"")}function c(n){var c=s.offsetWidth,u=s.offsetHeight,h=c!==i(s).lastWidth||u!==i(s).lastHeight;p("Storing current size",c,u),v(s,c,u),r.add(0,(function(){if(h)if(i(s))if(l()){if(t.debug){var r=s.offsetWidth,n=s.offsetHeight;r===c&&n===u||e.warn(o.get(s),"Scroll: Size changed before updating detector elements.")}a(s,c,u)}else p("Aborting because element container has not been initialized");else p("Aborting because element has been uninstalled")})),r.add(1,(function(){i(s)?l()?x(s,c,u):p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")})),h&&n&&r.add(2,(function(){i(s)?l()?n():p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")}))}function l(){return!!i(s).container}function u(){p("notifyListenersIfNeeded invoked");var t=i(s);return void 0===i(s).lastNotifiedWidth&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height?p("Not notifying: Size is the same as the start size, and there has been no notification yet."):t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight?p("Not notifying: Size already notified"):(p("Current size not notified, notifying..."),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,void n(i(s).listeners,(function(t){t(s)})))}function m(){p("Scroll detected."),d(s)?p("Scroll event fired while unrendered. Ignoring..."):c(u)}if(p("registerListenersAndPositionElements invoked."),i(s)){i(s).onRendered=function(){if(p("startanimation triggered."),d(s))p("Ignoring since element is still unrendered...");else{p("Element rendered.");var t=h(s),e=f(s);0!==t.scrollLeft&&0!==t.scrollTop&&0!==e.scrollLeft&&0!==e.scrollTop||(p("Scrollbars out of sync. Updating detector elements..."),c(u))}},i(s).onExpand=m,i(s).onShrink=m;var y=i(s).style;a(s,y.width,y.height)}else p("Aborting because element has been uninstalled")}function A(){if(p("finalizeDomMutation invoked."),i(s)){var t=i(s).style;v(s,t.width,t.height),x(s,t.width,t.height)}else p("Aborting because element has been uninstalled")}function C(){u(s)}function T(){var t;p("Installing..."),i(s).listeners=[],t=m(),i(s).startSize={width:t.width,height:t.height},p("Element start size",i(s).startSize),r.add(0,y),r.add(1,w),r.add(2,E),r.add(3,A),r.add(4,C)}u||(u=s,s=t,t=null),t=t||{},p("Making detectable..."),!function(t){return!function(t){return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)}(t)||null===window.getComputedStyle(t)}(s)?T():(p("Element is detached"),S(),p("Waiting until element is attached..."),i(s).onRendered=function(){p("Element is now attached"),T()})},addListener:function(t,e){if(!i(t).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");i(t).listeners.push(e)},uninstall:function(t){var e=i(t);e&&(e.onExpandScroll&&u(h(t),"scroll",e.onExpandScroll),e.onShrinkScroll&&u(f(t),"scroll",e.onShrinkScroll),e.onAnimationStart&&u(e.container,"animationstart",e.onAnimationStart),e.container&&t.removeChild(e.container))},initDocument:s}}},9907:function(t,e,r){"use strict";var n=r(9908);function i(t){return!0===n(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,r;return!1!==i(t)&&("function"==typeof(e=t.constructor)&&(!1!==i(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}},9908:function(t,e,r){"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},9909:function(t,e,r){"use strict";(function(n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(i=n))})),e.splice(i,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=r(9910)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,r(77))},9910:function(t,e,r){"use strict";t.exports=function(t){function e(t){for(var e=0,r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return n.colors[Math.abs(e)%n.colors.length]}function n(t){var r;function a(){if(a.enabled){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=a,s=Number(new Date),c=s-(r||s);o.diff=c,o.prev=r,o.curr=s,r=s,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var l=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return t;l++;var i=n.formatters[r];if("function"==typeof i){var a=e[l];t=i.call(o,a),e.splice(l,1),l--}return t})),n.formatArgs.call(o,e);var u=o.log||n.log;u.apply(o,e)}}return a.namespace=t,a.enabled=n.enabled(t),a.useColors=n.useColors(),a.color=e(t),a.destroy=i,a.extend=o,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function i(){var t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}function o(t,e){return n(this.namespace+(void 0===e?":":e)+t)}return n.debug=n,n.default=n,n.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},n.disable=function(){n.enable("")},n.enable=function(t){var e;n.save(t),n.names=[],n.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(e=0;e<i;e++)r[e]&&("-"===(t=r[e].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(e=0;e<n.instances.length;e++){var o=n.instances[e];o.enabled=n.enabled(o.namespace)}},n.enabled=function(t){if("*"===t[t.length-1])return!0;var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1},n.humanize=r(9208),Object.keys(t).forEach((function(e){n[e]=t[e]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=e,n.enable(n.load()),n}},9911:function(t,e,r){(function(t,n){var i;!function(o){var a=e,s=(t&&t.exports,"object"==typeof n&&n);s.global!==s&&s.window;var c=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,l=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,u=function(t){for(var e="",r=(t=t.replace(c,(function(t,e,r){return u(r)+e})).replace(l,"$2$1")).length;r--;)e+=t.charAt(r);return e},h={version:"0.2.0",reverse:u};void 0===(i=function(){return h}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(233)(t),r(35))},9912:function(t,e,r){var n=r(9913),i=r(9215)((function(t,e){return null==t?{}:n(t,e)}));t.exports=i},9913:function(t,e,r){var n=r(9914),i=r(9214);t.exports=function(t,e){return n(t,e,(function(e,r){return i(t,r)}))}},9914:function(t,e,r){var n=r(8472),i=r(9938),o=r(7951);t.exports=function(t,e,r){for(var a=-1,s=e.length,c={};++a<s;){var l=e[a],u=n(t,l);r(u,l)&&i(c,o(l,t),u)}return c}},9915:function(t,e,r){var n=r(9916),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=a},9916:function(t,e,r){var n=r(9209);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},9917:function(t,e,r){var n=r(9918),i=r(8475),o=r(8608);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},9918:function(t,e,r){var n=r(9919),i=r(9924),o=r(9925),a=r(9926),s=r(9927);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},9919:function(t,e,r){var n=r(8474);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},9920:function(t,e,r){var n=r(9210),i=r(9921),o=r(660),a=r(9211),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,h=l.hasOwnProperty,f=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?f:s).test(a(t))}},9921:function(t,e,r){var n,i=r(9922),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},9922:function(t,e,r){var n=r(649)["__core-js_shared__"];t.exports=n},9923:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},9924:function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},9925:function(t,e,r){var n=r(8474),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},9926:function(t,e,r){var n=r(8474),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},9927:function(t,e,r){var n=r(8474);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},9928:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},9929:function(t,e,r){var n=r(8476),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}},9930:function(t,e,r){var n=r(8476);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},9931:function(t,e,r){var n=r(8476);t.exports=function(t){return n(this.__data__,t)>-1}},9932:function(t,e,r){var n=r(8476);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},9933:function(t,e,r){var n=r(8478);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},9934:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},9935:function(t,e,r){var n=r(8478);t.exports=function(t){return n(this,t).get(t)}},9936:function(t,e,r){var n=r(8478);t.exports=function(t){return n(this,t).has(t)}},9937:function(t,e,r){var n=r(8478);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},9938:function(t,e,r){var n=r(8609),i=r(7951),o=r(8610),a=r(660),s=r(7952);t.exports=function(t,e,r,c){if(!a(t))return t;for(var l=-1,u=(e=i(e,t)).length,h=u-1,f=t;null!=f&&++l<u;){var p=s(e[l]),d=r;if(l!=h){var m=f[p];void 0===(d=c?c(m,p,f):void 0)&&(d=a(m)?m:o(e[l+1])?[]:{})}n(f,p,d),f=f[p]}return t}},9939:function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},9940:function(t,e,r){var n=r(7951),i=r(1104),o=r(643),a=r(8610),s=r(8611),c=r(7952);t.exports=function(t,e,r){for(var l=-1,u=(e=n(e,t)).length,h=!1;++l<u;){var f=c(e[l]);if(!(h=null!=t&&r(t,f)))break;t=t[f]}return h||++l!=u?h:!!(u=null==t?0:t.length)&&s(u)&&a(f,u)&&(o(t)||i(t))}},9941:function(t,e,r){var n=r(9942),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),c=Array(s);++a<s;)c[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=r(c),n(t,this,l)}}},9942:function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},9943:function(t,e,r){var n=r(9944),i=r(9946)(n);t.exports=i},9944:function(t,e,r){var n=r(9945),i=r(9213),o=r(8612),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},9945:function(t,e){t.exports=function(t){return function(){return t}}},9946:function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var i=r(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},9947:function(t,e,r){var n=r(8475);t.exports=function(){this.__data__=new n,this.size=0}},9948:function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},9949:function(t,e){t.exports=function(t){return this.__data__.get(t)}},9950:function(t,e){t.exports=function(t){return this.__data__.has(t)}},9951:function(t,e,r){var n=r(8475),i=r(8608),o=r(8473);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(t,e),this.size=r.size,this}},9952:function(t,e,r){var n=r(8245),i=r(7953);t.exports=function(t,e){return t&&n(e,i(e),t)}},9953:function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},9954:function(t,e){t.exports=function(){return!1}},9955:function(t,e,r){var n=r(669),i=r(8611),o=r(360),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[n(t)]}},9956:function(t,e,r){var n=r(8616),i=r(9957),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},9957:function(t,e,r){var n=r(9220)(Object.keys,Object);t.exports=n},9958:function(t,e,r){var n=r(8245),i=r(9221);t.exports=function(t,e){return t&&n(e,i(e),t)}},9959:function(t,e,r){var n=r(660),i=r(8616),o=r(9960),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},9960:function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},9961:function(t,e,r){(function(t){var n=r(649),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(233)(t))},9962:function(t,e,r){var n=r(8245),i=r(8617);t.exports=function(t,e){return n(t,i(t),e)}},9963:function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}},9964:function(t,e,r){var n=r(8245),i=r(9224);t.exports=function(t,e){return n(t,i(t),e)}},9965:function(t,e,r){var n=r(7839)(r(649),"DataView");t.exports=n},9966:function(t,e,r){var n=r(7839)(r(649),"Promise");t.exports=n},9967:function(t,e,r){var n=r(7839)(r(649),"Set");t.exports=n},9968:function(t,e,r){var n=r(7839)(r(649),"WeakMap");t.exports=n},9969:function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},9970:function(t,e,r){var n=r(8620),i=r(9971),o=r(9972),a=r(9973),s=r(9974);t.exports=function(t,e,r){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return o(t);case"[object Set]":return new c;case"[object Symbol]":return a(t)}}},9971:function(t,e,r){var n=r(8620);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},9972:function(t,e){var r=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},9973:function(t,e,r){var n=r(260),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},9974:function(t,e,r){var n=r(8620);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},9975:function(t,e,r){var n=r(9976),i=r(8618),o=r(8616);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(i(t))}},9976:function(t,e,r){var n=r(660),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},9977:function(t,e,r){var n=r(9978),i=r(8614),o=r(8615),a=o&&o.isMap,s=a?i(a):n;t.exports=s},9978:function(t,e,r){var n=r(8246),i=r(360);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},9979:function(t,e,r){var n=r(9980),i=r(8614),o=r(8615),a=o&&o.isSet,s=a?i(a):n;t.exports=s},9980:function(t,e,r){var n=r(8246),i=r(360);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},9981:function(t,e,r){var n=r(7951),i=r(9982),o=r(9983),a=r(7952);t.exports=function(t,e){return e=n(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},9982:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},9983:function(t,e,r){var n=r(8472),i=r(9227);t.exports=function(t,e){return e.length<2?t:n(t,i(e,0,-1))}},9984:function(t,e,r){var n=r(9228);t.exports=function(t){return n(t)?void 0:t}},9985:function(t,e,r){"use strict";var n,i;n=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*[A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿]"),i=new RegExp("^[^A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]"),t.exports=function(t){return t=t.toString(),i.test(t)?"rtl":n.test(t)?"ltr":"neutral"}},9986:function(t,e,r){"use strict";e.a=function(t,e){0}}}]);
//# sourceMappingURL=6492497c3ec1054afd0a.js.map